<!DOCTYPE html>
<html>
<head>
  <title>Plotting with Base and a Complete Applied Example</title>
  <meta charset="utf-8">
  <meta name="description" content="Plotting with Base and a Complete Applied Example">
  <meta name="author" content="Daniel Anderson">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/zenburn.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  
  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Plotting with Base and a Complete Applied Example</h1>
    <h2>Day 1: Afternoon</h2>
    <p>Daniel Anderson<br/>R Training: Florida State University, June 21, 2016</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style>
em {
  font-style: italic
}
</style>

<style>
strong {
  font-weight: bold;
}
</style>

<h2>Afternoon Agenda</h2>

<h1>Plotting basics with Base</h1>

<ul>
<li>Histograms and density plots</li>
<li>Scatter plots

<ul>
<li>Controls: 

<ul>
<li>titles</li>
<li>line width, color, and type</li>
<li>point size, color, and type</li>
<li>x and y axis labels</li>
</ul></li>
</ul></li>
<li>Some good non-<em>ggplot2</em> packages</li>
</ul>

<p><span style="color:blue">Break </span></p>

<ul>
<li>Quick note on lists</li>
<li>Complete applied example</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Data: Beer!</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="./assets/img/beer.jpg" alt="beer"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Load data</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">d &lt;- read.delim(&quot;./data/ratebeer_beerjobber.txt&quot;)
head(d)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 2                  Abbey Monks Tripel Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 2            Abbey Tripel 8.0       3            NA             NA
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Histograms</h2>
  </hgroup>
  <article data-timings="">
    <p>Primary purpose of a histogram: See the distrbution of a variable</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">hist(d$abv)
</code></pre>

<p><img src="assets/fig/abvHist-1.png" alt="plot of chunk abvHist"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">hist(d$ratings)
</code></pre>

<p><img src="assets/fig/ratingsHist-1.png" alt="plot of chunk ratingsHist"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Look at the documentation</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">?hist
</code></pre>

<p><img src="./assets/img/histDocumentation.png" alt="hist"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Change the number of break points</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">hist(d$ratings, breaks = 35)
</code></pre>

<p><img src="assets/fig/histBreaks35-1.png" alt="plot of chunk histBreaks35"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">hist(d$ratings, breaks = 100)
</code></pre>

<p><img src="assets/fig/histBreaks100-1.png" alt="plot of chunk histBreaks100"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Alternative: Plot a table of frequencies</h2>
  </hgroup>
  <article data-timings="">
    <h1>(no binning)</h1>

<pre><code class="r">rTbl &lt;- table(d$ratings)
plot(rTbl)
</code></pre>

<p><img src="assets/fig/plotTable-1.png" alt="plot of chunk plotTable"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Smooth the distribution</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Standard Histogram</h1>

<pre><code class="r">hist(d$abv)
</code></pre>

<p><img src="assets/fig/hist-1.png" alt="plot of chunk hist"></p>

</div>
<div style='float:right;width:48%;'>
  <h1>Density Plots</h1>

<pre><code class="r">dens &lt;- density(d$abv); plot(dens)
</code></pre>

<p><img src="assets/fig/dens1-1.png" alt="plot of chunk dens1"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Density binwidth</h2>
  </hgroup>
  <article data-timings="">
    <p>Change the binwidth to control the smoothing factor. The smaller the binwidth,
  the closer the function will resemble the observed data. The larger the 
  binwidth, the closer the function will resemble a standard normal.</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">dens1 &lt;- density(d$abv, bw = .001)
plot(dens1)
</code></pre>

<p><img src="assets/fig/dens2-1.png" alt="plot of chunk dens2"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">dens2 &lt;- density(d$abv, bw = 100)
plot(dens2)
</code></pre>

<p><img src="assets/fig/dens3-1.png" alt="plot of chunk dens3"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Your turn</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Load the beer dataset</li>
<li>Produce a histogram</li>
<li>Produce a density plot</li>
<li>Change the number of breaks and the binwidth of each</li>
<li>Try adding the additional argument <code>probability = TRUE</code> to a histogram. What
do you notice?</li>
<li>After producing a histogram with <code>probability = TRUE</code>, try running 
<code>lines(dens)</code> where dens is the density of the vector you produced the histogram from. What do you get?</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Scatter plots and controlling lines, colors, axes, etc.</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/scatterBoot-1.png" alt="plot of chunk scatterBoot"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>The <code>plot()</code> function</h2>
  </hgroup>
  <article data-timings="">
    <p>Generic x-y plotting. Multiple types of plots are possible. From the 
  documentation:
<img src="./assets/img/plotTypesDocumentation.png" alt="plotTypesDocumentation"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Plot types</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p><img src="assets/fig/plotTypes1-1.png" alt="plot of chunk plotTypes1"></p>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/plotTypes2-1.png" alt="plot of chunk plotTypes2"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Scatter plots</h2>
  </hgroup>
  <article data-timings="">
    <p>Two specifications</p>

<pre><code class="r">plot(outcome ~ predictor, data = d) # Just like the lm function
plot(x-variable, y-variable)
</code></pre>

<h1>Examples</h1>

<div style='float:left;width:48%;'>
  <pre><code class="r">plot(score.overall ~ abv, data = d)
</code></pre>

<p><img src="assets/fig/scatterEx1-1.png" alt="plot of chunk scatterEx1"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">plot(d$abv, d$score.overall)
</code></pre>

<p><img src="assets/fig/scatterEx2-1.png" alt="plot of chunk scatterEx2"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Additional arguments</h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th align="left">Argument</th>
<th align="left">Description</th>
</tr>
</thead><tbody>
<tr>
<td align="left">main</td>
<td align="left">Main title of the Plot</td>
</tr>
<tr>
<td align="left">sub</td>
<td align="left">Subtitle, added at the bottom of the plot</td>
</tr>
<tr>
<td align="left">xlab</td>
<td align="left">x-axis label</td>
</tr>
<tr>
<td align="left">ylab</td>
<td align="left">y-axis lable</td>
</tr>
<tr>
<td align="left">col</td>
<td align="left">Color (can be multiple things, depending on call)</td>
</tr>
<tr>
<td align="left">pch</td>
<td align="left">Point type</td>
</tr>
<tr>
<td align="left">xlim</td>
<td align="left">Limits of x-axis (vector of length 2)</td>
</tr>
<tr>
<td align="left">ylim</td>
<td align="left">Limits of y-axis (vector of length 2)</td>
</tr>
<tr>
<td align="left">bg</td>
<td align="left">Background color (can be multiple things, depending on call)</td>
</tr>
<tr>
<td align="left">cex</td>
<td align="left">Size of points</td>
</tr>
<tr>
<td align="left">cex.SPEC</td>
<td align="left">Specific call to axis/lab/main/sub to change size of those SPEC (specifications)</td>
</tr>
<tr>
<td align="left">col.SPEC</td>
<td align="left">Color specific calls</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>Examples: Beer style and overall ratings</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Standard Plot</h1>

<pre><code class="r">plot(d$score.by.style, d$score.overall)
</code></pre>

<p><img src="assets/fig/scatterStyleOverall-1.png" alt="plot of chunk scatterStyleOverall"></p>

</div>
<div style='float:right;width:48%;'>
  <h1>Change axes labels, provide title</h1>

<pre><code class="r">plot(d$score.by.style, d$score.overall,
  main = &quot;Relation Between Style Rating and Overall Rating&quot;,
  xlab = &quot;Beer Style Rating&quot;,
  ylab = &quot;Overall Beer Rating&quot;)
</code></pre>

<p><img src="assets/fig/axesTitle-1.png" alt="plot of chunk axesTitle"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Change point type, color, and size</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">plot(d$score.by.style, d$score.overall,
  main = &quot;Relation Between Style 
    Rating and Overall Rating&quot;,
  xlab = &quot;Beer Style Rating&quot;,
  ylab = &quot;Overall Beer Rating&quot;,
  pch = 3,
  cex = 2,
  col = &quot;purple&quot;)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/pointCharacteristics2-1.png" alt="plot of chunk pointCharacteristics2"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Colors in R</h2>
  </hgroup>
  <article data-timings="">
    <div align = "left">
<img src = assets/img/rColorExample.png width = 800 height = 800>
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Point Types</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(1:20, 1:20, pch = 1:20, cex = 3)
</code></pre>

<p><img src="assets/fig/pointTypes-1.png" alt="plot of chunk pointTypes"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Line types</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(1:6, 1:6, type = &quot;n&quot;)
for(i in 1:6) abline(i, 0, lty = i, lwd = 3)
</code></pre>

<p><img src="assets/fig/lineTypes-1.png" alt="plot of chunk lineTypes"></p>

<p>Change the line type with <code>lty</code> and the line width with <code>lwd</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Add horizontal and vertical reference lines at the mean</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(d$score.by.style, d$score.overall,
  main = &quot;Relation Between Style Rating and Overall Rating&quot;,
  xlab = &quot;Beer Style Rating&quot;,
  ylab = &quot;Overall Beer Rating&quot;,
  pch = 3,
  cex = 2,
  col = &quot;purple&quot;)

abline(h = mean(d$score.overall, na.rm = TRUE), col = &quot;red&quot;, lty = 2, lwd = 3)
abline(v = mean(d$score.by.style, na.rm = TRUE), col = &quot;red&quot;, lty = 2, lwd = 3)
</code></pre>

<p>Plot on next slide</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <article data-timings="">
    <p><img src="assets/fig/refLines2-1.png" alt="plot of chunk refLines2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Quick aside: Fitting linear regression models in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">?lm
</code></pre>

<p><img src="./assets/img/lmDocumentation.png" alt="lmDocumentation"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Formula structure</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">lm(outcome ~ predictor1 + predictor2 + predictorN)
</code></pre>

<p>Note that the above has an implicit intercept specification. It can be
  explicit by</p>

<pre><code class="r">lm(outcome ~ 1 + predictor1 + predictor2 + predictorN)
</code></pre>

<p>You can also suppress the estimation of the intercept</p>

<pre><code class="r">lm(outcome ~ 0 + predictor1 + predictor2 + predictorN)
</code></pre>

<h1>Important additional arguments</h1>

<ul>
<li><code>data</code>: What data frame do the vectors come from?</li>
<li><code>subset</code>: Do you want to analyze only a subset of cases?</li>
<li><code>na.action</code>: How should missing values be handled?</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <hgroup>
    <h2>Modeling the relation between beer style rating and the overall rating</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">m1 &lt;- lm(score.overall ~ score.by.style, data = d)
summary(m1)
</code></pre>

<pre><code>## 
## Call:
## lm(formula = score.overall ~ score.by.style, data = d)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -66.04 -16.12   3.77  14.14  40.84 
## 
## Coefficients:
##                Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     32.5671     2.4949   13.05   &lt;2e-16 ***
## score.by.style   0.5468     0.0375   14.58   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 19.28 on 365 degrees of freedom
##   (33 observations deleted due to missingness)
## Multiple R-squared:  0.368,  Adjusted R-squared:  0.3663 
## F-statistic: 212.6 on 1 and 365 DF,  p-value: &lt; 2.2e-16
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Alternative summary</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>arm</code> package (applied regression modeling) provides a lot of useful 
  functions. One simple one is just a different method for showing the summary 
  of a regression model, using the <code>display()</code> function.</p>

<pre><code class="r">install.packages(&quot;arm&quot;)
library(arm)
display(m1, detail = TRUE)
</code></pre>

<pre><code>## lm(formula = score.overall ~ score.by.style, data = d)
##                coef.est coef.se t value Pr(&gt;|t|)
## (Intercept)    32.57     2.49   13.05    0.00   
## score.by.style  0.55     0.04   14.58    0.00   
## ---
## n = 367, k = 2
## residual sd = 19.28, R-Squared = 0.37
</code></pre>

<ul>
<li>Note that significance is not printed by default. Use <code>detail = TRUE</code> to get 
significance test.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-27" style="background:;">
  <hgroup>
    <h2>Extensions</h2>
  </hgroup>
  <article data-timings="">
    <p>Use the <code>coef()</code> function to extract coefficients</p>

<pre><code class="r">coef(m1)
</code></pre>

<pre><code>##    (Intercept) score.by.style 
##     32.5670460      0.5467723
</code></pre>

<p>Use the <code>predict</code> function to use the model for predictions with new data</p>

<pre><code class="r">predict(m1, newdata = data.frame(score.by.style = seq(80, 100, 1)))
</code></pre>

<pre><code>##        1        2        3        4        5        6        7        8 
## 76.30883 76.85561 77.40238 77.94915 78.49592 79.04270 79.58947 80.13624 
##        9       10       11       12       13       14       15       16 
## 80.68301 81.22978 81.77656 82.32333 82.87010 83.41687 83.96365 84.51042 
##       17       18       19       20       21 
## 85.05719 85.60396 86.15074 86.69751 87.24428
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Plot the relation and the model</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Two step process: First plot the relation, then overlay the regression line.</li>
</ul>

<div style='float:left;width:48%;'>
  <pre><code class="r">plot(d$score.by.style, d$score.overall,
  main = &quot;Relation Between Style 
    Rating and Overall Rating&quot;,
  xlab = &quot;Beer Style Rating&quot;,
  ylab = &quot;Overall Beer Rating&quot;,
  pch = 3,
  cex = 2,
  col = &quot;purple&quot;)

abline(m1, 
  lty = 3, 
  lwd = 5, 
  col = &quot;aquamarine3&quot;)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/plotRegLines2-1.png" alt="plot of chunk plotRegLines2"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>A note on <code>abline</code></h2>
  </hgroup>
  <article data-timings="">
    <p>All of the following specifications are identical (see the documentation).</p>

<pre><code class="r">abline(m1)
abline(a = coef(m1)[1], b = coef(m1)[2])
abline(coef(m1)[&quot;(Intercept)&quot;], coef(m1)[&quot;score.by.style&quot;])
abline(coef(m1))
</code></pre>

<p><img src="assets/img/ablineDoc.png" alt="ablineDoc"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Fit a nonlinear model</h2>
  </hgroup>
  <article data-timings="">
    <p>Simulate some data with a nonlinear relation</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">set.seed(100) # for reproducibility
b0 &lt;- 180
b1 &lt;- 2
b2 &lt;- -0.15

x &lt;- sample(seq(0, 8, 0.1), 25)

y &lt;- b0 + b1*x + b2*(x^2) + 
        rnorm(length(x), 0, 1)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">plot(x, y)
</code></pre>

<p><img src="assets/fig/nonLinearSimRelation-1.png" alt="plot of chunk nonLinearSimRelation"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <hgroup>
    <h2>Fit the model</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">m2a &lt;- lm(y ~ x + I(x^2))

# Equivalent, but with Orthogonal polynomials
m2b &lt;- lm(y ~ poly(x, 2))

# Or, using the poly function with non-orthogonal polynomials (same as m2a)
m2c &lt;- lm(y ~ poly(x, 2, raw = TRUE))
display(m2c)
</code></pre>

<pre><code>## lm(formula = y ~ poly(x, 2, raw = TRUE))
##                         coef.est coef.se
## (Intercept)             180.61     0.76 
## poly(x, 2, raw = TRUE)1   1.82     0.41 
## poly(x, 2, raw = TRUE)2  -0.14     0.05 
## ---
## n = 25, k = 3
## residual sd = 0.96, R-Squared = 0.74
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <hgroup>
    <h2>Overlay the regression line</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(x, y)
preds &lt;- predict(m2c, newdata = data.frame(x = seq(-1, 9, 0.1)))
lines(seq(-1, 9, 0.1), preds, col = &quot;blue&quot;, lwd = 2)
</code></pre>

<p><img src="assets/fig/regLineOverlay1-1.png" alt="plot of chunk regLineOverlay1"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <hgroup>
    <h2>Include the SE</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">preds &lt;- predict(m2c, newdata = data.frame(x = seq(-1, 9, 0.1)), se = TRUE)
str(preds)
</code></pre>

<pre><code>## List of 4
##  $ fit           : Named num [1:101] 179 179 179 179 179 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:101] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ se.fit        : Named num [1:101] 1.19 1.14 1.1 1.05 1.01 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:101] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ df            : int 22
##  $ residual.scale: num 0.955
</code></pre>

<pre><code class="r">plot(x, y)
lines(seq(-1, 9, 0.1), preds$fit, col = &quot;blue&quot;, lwd = 2)
lines(seq(-1, 9, 0.1), preds$fit - 2*preds$se.fit, col = &quot;red&quot;, lty = 2, 
    lwd = 2)
lines(seq(-1, 9, 0.1), preds$fit + 2*preds$se.fit, col = &quot;red&quot;, lty = 2, 
    lwd = 2)
</code></pre>

<p>Figure on the next slide</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-34" style="background:;">
  <article data-timings="">
    <p><img src="assets/fig/regLineOverlay3-1.png" alt="plot of chunk regLineOverlay3"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-35" style="background:;">
  <hgroup>
    <h2>Investigate assumptions of the model</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">par(mfrow = c(2, 2))
plot(m1)
</code></pre>

<p><img src="assets/fig/regAssum-1.png" alt="plot of chunk regAssum"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-36" style="background:;">
  <hgroup>
    <h2>If we have time...</h2>
  </hgroup>
  <article data-timings="">
    <p>Produce the following plot (the colors can be different, but it should not be 
  black)</p>

<p>Note: The relation is linear so you can use <code>abline</code></p>

<p><img src="assets/fig/regPlotPractice-1.png" alt="plot of chunk regPlotPractice"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-37" style="background:;">
  <hgroup>
    <h2>Overlay a density plot on a histogram, maintain frequency y-axis</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/histDensity1-1.png" alt="plot of chunk histDensity1"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-38" style="background:;">
  <hgroup>
    <h2>Multi-step process</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>First, plot the histogram, suppressing all axes, labels, and plot border</p>

<pre><code class="r">hist(d$abv, 
  probability = TRUE, 
  axes = FALSE,
  main = &quot;&quot;, 
  xlab = &quot;&quot;, 
  ylab = &quot;&quot;)
</code></pre>

<p><img src="assets/fig/histDensity2-1.png" alt="plot of chunk histDensity2"></p>

</div>
<div style='float:right;width:48%;'>
  <p>Next, use <code>lines</code> to add the density line</p>

<pre><code class="r">lines(density(d$abv), 
  col = &quot;darkgray&quot;, 
  lty = 3, 
  lwd = 3)
</code></pre>

<p><br>
<br></p>

<p><img src="assets/fig/histDensity4-1.png" alt="plot of chunk histDensity4"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-39" style="background:;">
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>Call a new plot to overlay on the current plot</p>

<pre><code class="r">par(new = TRUE)
</code></pre>

<p>Plot the histogram again, labeling the axes how you&#39;d like (note, this process 
  is necessary to keep the frequency y-axis)</p>

<pre><code class="r">hist(d$abv, 
  main = &quot;Distribution of Beer Alcohol 
            by Volume&quot;,
  xlab = &quot;Alcohol by Volume&quot;
  )
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/histDensity7-1.png" alt="plot of chunk histDensity7"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-40" style="background:;">
  <hgroup>
    <h2>A few extensions with packages</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><em>beanplot</em> package

<ul>
<li>Similar to violin plots, but better (in my opinion)</li>
</ul></li>
<li><em>visreg</em> package

<ul>
<li>Helpful for visualizing the results of fitted regression models</li>
</ul></li>
<li><em>car</em>

<ul>
<li>Further regression diagnostics</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-41" style="background:;">
  <hgroup>
    <h2>beanplot</h2>
  </hgroup>
  <article data-timings="">
    <p>From the documentation (second legend is cutoff...)</p>

<pre><code class="r">library(beanplot)
par(mfrow = c(1,2))
boxplot(len ~ dose, data = ToothGrowth,
        boxwex = 0.25, at = 1:3 - 0.2,
        subset = supp == &quot;VC&quot;, col = &quot;yellow&quot;,
        main = &quot;Guinea Pigs  Tooth Growth&quot;,
        xlab = &quot;Vitamin C dose mg&quot;,
        ylab = &quot;tooth length&quot;, ylim = c(-1, 40), yaxs = &quot;i&quot;)
boxplot(len ~ dose, data = ToothGrowth, add = TRUE,
        boxwex = 0.25, at = 1:3 + 0.2,
        subset = supp == &quot;OJ&quot;, col = &quot;orange&quot;)
legend(&quot;bottomright&quot;, bty=&quot;n&quot;,c(&quot;Ascorbic acid&quot;, &quot;Orange juice&quot;),
       fill = c(&quot;yellow&quot;, &quot;orange&quot;))
beanplot(len ~ reorder(supp, len, mean) * dose, ToothGrowth,
        side = &quot;b&quot;, col = list(&quot;yellow&quot;, &quot;orange&quot;), border = c(&quot;yellow2&quot;,
            &quot;darkorange&quot;), main = &quot;Guinea Pigs  Tooth Growth&quot;,
        xlab = &quot;Vitamin C dose mg&quot;, ylab = &quot;tooth length&quot;, ylim = c(-1,
            40), yaxs = &quot;i&quot;)
legend(&quot;bottomright&quot;, bty=&quot;n&quot;,c(&quot;Ascorbic acid&quot;, &quot;Orange juice&quot;),
       fill = c(&quot;yellow&quot;, &quot;orange&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-42" style="background:;">
  <article data-timings="">
    <p><img src="assets/fig/beanplot2-1.png" alt="plot of chunk beanplot2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-43" style="background:;">
  <hgroup>
    <h2>Another example</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/img/ellBeanplot.png" alt="ellBeanplot"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-44" style="background:;">
  <hgroup>
    <h2>visreg</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(visreg)
mod &lt;- lm(score.overall ~ score.by.style + abv, data = d)

par(mfrow = c(1,2))
visreg(mod)
</code></pre>

<p><img src="assets/fig/visreg1-1.png" alt="plot of chunk visreg1"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-45" style="background:;">
  <article data-timings="">
    <pre><code class="r">data(airquality)
airquality$Heat &lt;- cut(airquality$Temp, 3, labels=c(&quot;Cool&quot;, &quot;Mild&quot;, &quot;Hot&quot;))

fit.heat &lt;- lm(Ozone ~ Solar.R + Wind + Heat, data = airquality)

par(mfrow = c(1,2))
visreg(fit.heat, &quot;Heat&quot;, type = &quot;contrast&quot;)
visreg(fit.heat, &quot;Heat&quot;, type = &quot;conditional&quot;)
</code></pre>

<p><img src="assets/fig/visreg2-1.png" alt="plot of chunk visreg2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-46" style="background:;">
  <article data-timings="">
    <pre><code class="r">fit &lt;- lm(Ozone ~ Solar.R + Wind + Temp + I(Wind^2) + I(Temp^2) +
    I(Wind*Temp)+I(Wind*Temp^2) + I(Temp*Wind^2) + I(Temp^2*Wind^2),
    data=airquality)

visreg2d(fit,x=&quot;Wind&quot;,y=&quot;Temp&quot;,plot.type=&quot;persp&quot;, col = &quot;cornflowerblue&quot;)
</code></pre>

<p><img src="assets/fig/visreg3-1.png" alt="plot of chunk visreg3"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-47" style="background:;">
  <hgroup>
    <h2>car</h2>
  </hgroup>
  <article data-timings="">
    <p>One example on influential cases</p>

<pre><code class="r">library(car)
fit &lt;- lm(mpg~disp+hp+wt+drat, data=mtcars)
influencePlot(fit,  id.method=&quot;identify&quot;, main=&quot;Influence Plot&quot;, sub=&quot;Circle size is proportial to Cook&#39;s Distance&quot; )
</code></pre>

<p><img src="assets/fig/carP1-1.png" alt="plot of chunk carP1"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-48" style="background:;">
  <hgroup>
    <h2>Nonlinearity</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">crPlots(fit)
</code></pre>

<p><img src="assets/fig/carNonLinear-1.png" alt="plot of chunk carNonLinear"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-49" style="background:;">
  <hgroup>
    <h2>Analysis-specific plotting</h2>
  </hgroup>
  <article data-timings="">
    <p>Example with multilevel modeling</p>

<pre><code class="r">data(Orthodont,package=&quot;nlme&quot;)
library(lme4)
fm1 &lt;- lmer(distance ~ age + (age|Subject), data=Orthodont)

## observed versus fitted values by Subject
plot(fm1, distance ~ fitted(.) | Subject, abline = c(0,1))
</code></pre>

<p><img src="assets/fig/lme4Plot-1.png" alt="plot of chunk lme4Plot"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-50" style="background:;">
  <hgroup>
    <h2>Practice (and then break)</h2>
  </hgroup>
  <article data-timings="">
    <p>First, produce the following plots. Again, the colors, line types, etc., can
  be different, but they should not be the default (where the defaults have been changed).</p>

<p>Next, fit a few regression models, and play around with the <em>visreg</em> package.</p>

<p><img src="assets/fig/plotPractice-1.png" alt="plot of chunk plotPractice"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-51" style="background:;">
  <hgroup>
    <h1>Lists</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-52" style="background:;">
  <hgroup>
    <h2>Lists</h2>
  </hgroup>
  <article data-timings="">
    <p>Elements of lists can be of any type, including lists</p>

<div style='float:left;width:48%;'>
  <pre><code class="r">l &lt;- list(
  c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),
  1:5,
  rep(c(T,F), 7),
  rnorm(3, 100, 25)
      )
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">l
</code></pre>

<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
## 
## [[2]]
## [1] 1 2 3 4 5
## 
## [[3]]
##  [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE
## [12] FALSE  TRUE FALSE
## 
## [[4]]
## [1] 107.9461 118.8669  66.7122
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-53" style="background:;">
  <hgroup>
    <h2>Accessing List Elements</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>List elements can be accessed in two methods: Using the <code>$</code> with the element 
names, or through indexing with a double bracket <code>[[]]</code>.</li>
<li>If a single bracket index is used, <code>[]</code>, the element will be returned, but of 
type list.</li>
</ul>

<div style='float:left;width:48%;'>
  <pre><code class="r">typeof(l)
</code></pre>

<pre><code>## [1] &quot;list&quot;
</code></pre>

<pre><code class="r">typeof(l[1])
</code></pre>

<pre><code>## [1] &quot;list&quot;
</code></pre>

<pre><code class="r">typeof(l[[1]])
</code></pre>

<pre><code>## [1] &quot;character&quot;
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">l[1]
</code></pre>

<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>

<pre><code class="r">l[[1]]
</code></pre>

<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-54" style="background:;">
  <hgroup>
    <h2>Access list elements via names</h2>
  </hgroup>
  <article data-timings="">
    <h1>Provide element names</h1>

<pre><code class="r">names(l) &lt;- c(&quot;letters&quot;, &quot;numbers&quot;, &quot;logical&quot;, &quot;double&quot;)
str(l)
</code></pre>

<pre><code>## List of 4
##  $ letters: chr [1:3] &quot;a&quot; &quot;b&quot; &quot;c&quot;
##  $ numbers: int [1:5] 1 2 3 4 5
##  $ logical: logi [1:14] TRUE FALSE TRUE FALSE TRUE FALSE ...
##  $ double : num [1:3] 107.9 118.9 66.7
</code></pre>

<p><br></p>

<h1>Access element</h1>

<pre><code class="r">l$letters
</code></pre>

<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-55" style="background:;">
  <hgroup>
    <h2>Naming lists versus vectors</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Lists</h1>

<pre><code class="r">lst &lt;- list(1:5, letters[1:15])
str(lst)
</code></pre>

<pre><code>## List of 2
##  $ : int [1:5] 1 2 3 4 5
##  $ : chr [1:15] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
</code></pre>

<pre><code class="r">names(lst) &lt;- c(&quot;Numbers&quot;, &quot;Letters&quot;)
str(lst)
</code></pre>

<pre><code>## List of 2
##  $ Numbers: int [1:5] 1 2 3 4 5
##  $ Letters: chr [1:15] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Vectors</h1>

<pre><code class="r">v &lt;- lst[[1]]
names(v) &lt;- c(&quot;One&quot;, &quot;Two&quot;, 
  &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;)
v
</code></pre>

<pre><code>##   One   Two Three  Four  Five 
##     1     2     3     4     5
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-56" style="background:;">
  <article data-timings="">
    <pre><code class="r">names(lst$Numbers) &lt;- c(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;)
lst
</code></pre>

<pre><code>## $Numbers
##   One   Two Three  Four  Five 
##     1     2     3     4     5 
## 
## $Letters
##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot;
</code></pre>

<p><br></p>

<h1>Subsetting</h1>

<pre><code class="r">lst$Numbers[&quot;Three&quot;]
</code></pre>

<pre><code>## Three 
##     3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-57" style="background:;">
  <hgroup>
    <h2>Lists returned by functions</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>We&#39;ll talk about this more when we get into functions (next week), but many
functions return a list of objects. For example: <code>lm</code>.</li>
</ul>

<pre><code class="r">mod &lt;- lm(hp ~ mpg, data = mtcars)
str(mod)
</code></pre>

<pre><code>## List of 12
##  $ coefficients : Named num [1:2] 324.08 -8.83
##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;(Intercept)&quot; &quot;mpg&quot;
##  $ residuals    : Named num [1:32] -28.7 -28.7 -29.8 -25.1 16 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ effects      : Named num [1:32] -829.8 296.3 -23.6 -20 19.3 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;(Intercept)&quot; &quot;mpg&quot; &quot;&quot; &quot;&quot; ...
##  $ rank         : int 2
##  $ fitted.values: Named num [1:32] 139 139 123 135 159 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##  $ assign       : int [1:2] 0 1
##  $ qr           :List of 5
##   ..$ qr   : num [1:32, 1:2] -5.657 0.177 0.177 0.177 0.177 ...
##   .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. ..$ : chr [1:32] &quot;Mazda RX4&quot; &quot;Mazda RX4 Wag&quot; &quot;Datsun 710&quot; &quot;Hornet 4 Drive&quot; ...
##   .. .. ..$ : chr [1:2] &quot;(Intercept)&quot; &quot;mpg&quot;
##   .. ..- attr(*, &quot;assign&quot;)= int [1:2] 0 1
##   ..$ qraux: num [1:2] 1.18 1.02
##   ..$ pivot: int [1:2] 1 2
##   ..$ tol  : num 1e-07
##   ..$ rank : int 2
##   ..- attr(*, &quot;class&quot;)= chr &quot;qr&quot;
##  $ df.residual  : int 30
##  $ xlevels      : Named list()
##  $ call         : language lm(formula = hp ~ mpg, data = mtcars)
##  $ terms        :Classes &#39;terms&#39;, &#39;formula&#39;  language hp ~ mpg
##   .. ..- attr(*, &quot;variables&quot;)= language list(hp, mpg)
##   .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. ..$ : chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##   .. .. .. ..$ : chr &quot;mpg&quot;
##   .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;mpg&quot;
##   .. ..- attr(*, &quot;order&quot;)= int 1
##   .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. ..- attr(*, &quot;response&quot;)= int 1
##   .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. ..- attr(*, &quot;predvars&quot;)= language list(hp, mpg)
##   .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##  $ model        :&#39;data.frame&#39;:   32 obs. of  2 variables:
##   ..$ hp : num [1:32] 110 110 93 110 175 105 245 62 95 123 ...
##   ..$ mpg: num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##   ..- attr(*, &quot;terms&quot;)=Classes &#39;terms&#39;, &#39;formula&#39;  language hp ~ mpg
##   .. .. ..- attr(*, &quot;variables&quot;)= language list(hp, mpg)
##   .. .. ..- attr(*, &quot;factors&quot;)= int [1:2, 1] 0 1
##   .. .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. .. .. .. ..$ : chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##   .. .. .. .. ..$ : chr &quot;mpg&quot;
##   .. .. ..- attr(*, &quot;term.labels&quot;)= chr &quot;mpg&quot;
##   .. .. ..- attr(*, &quot;order&quot;)= int 1
##   .. .. ..- attr(*, &quot;intercept&quot;)= int 1
##   .. .. ..- attr(*, &quot;response&quot;)= int 1
##   .. .. ..- attr(*, &quot;.Environment&quot;)=&lt;environment: R_GlobalEnv&gt; 
##   .. .. ..- attr(*, &quot;predvars&quot;)= language list(hp, mpg)
##   .. .. ..- attr(*, &quot;dataClasses&quot;)= Named chr [1:2] &quot;numeric&quot; &quot;numeric&quot;
##   .. .. .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;hp&quot; &quot;mpg&quot;
##  - attr(*, &quot;class&quot;)= chr &quot;lm&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-58" style="background:;">
  <article data-timings="">
    <p>You can access the elements through the list</p>

<pre><code class="r">mod$coefficients
</code></pre>

<pre><code>## (Intercept)         mpg 
##  324.082314   -8.829731
</code></pre>

<p>Note that some times there are more efficient methods</p>

<pre><code class="r">coef(mod)
</code></pre>

<pre><code>## (Intercept)         mpg 
##  324.082314   -8.829731
</code></pre>

<p>In this case the methods are roughly equivalent, but sometimes it can make a
  difference (IRT)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-59" style="background:;">
  <hgroup>
    <h2>Other functions will transform data into lists</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">cyls &lt;- split(mtcars, mtcars$cyl)
str(cyls)
</code></pre>

<pre><code>## List of 3
##  $ 4:&#39;data.frame&#39;:   11 obs. of  11 variables:
##   ..$ mpg : num [1:11] 22.8 24.4 22.8 32.4 30.4 33.9 21.5 27.3 26 30.4 ...
##   ..$ cyl : num [1:11] 4 4 4 4 4 4 4 4 4 4 ...
##   ..$ disp: num [1:11] 108 146.7 140.8 78.7 75.7 ...
##   ..$ hp  : num [1:11] 93 62 95 66 52 65 97 66 91 113 ...
##   ..$ drat: num [1:11] 3.85 3.69 3.92 4.08 4.93 4.22 3.7 4.08 4.43 3.77 ...
##   ..$ wt  : num [1:11] 2.32 3.19 3.15 2.2 1.61 ...
##   ..$ qsec: num [1:11] 18.6 20 22.9 19.5 18.5 ...
##   ..$ vs  : num [1:11] 1 1 1 1 1 1 1 1 0 1 ...
##   ..$ am  : num [1:11] 1 0 0 1 1 1 0 1 1 1 ...
##   ..$ gear: num [1:11] 4 4 4 4 4 4 3 4 5 5 ...
##   ..$ carb: num [1:11] 1 2 2 1 2 1 1 1 2 2 ...
##  $ 6:&#39;data.frame&#39;:   7 obs. of  11 variables:
##   ..$ mpg : num [1:7] 21 21 21.4 18.1 19.2 17.8 19.7
##   ..$ cyl : num [1:7] 6 6 6 6 6 6 6
##   ..$ disp: num [1:7] 160 160 258 225 168 ...
##   ..$ hp  : num [1:7] 110 110 110 105 123 123 175
##   ..$ drat: num [1:7] 3.9 3.9 3.08 2.76 3.92 3.92 3.62
##   ..$ wt  : num [1:7] 2.62 2.88 3.21 3.46 3.44 ...
##   ..$ qsec: num [1:7] 16.5 17 19.4 20.2 18.3 ...
##   ..$ vs  : num [1:7] 0 0 1 1 1 1 0
##   ..$ am  : num [1:7] 1 1 0 0 0 0 1
##   ..$ gear: num [1:7] 4 4 3 3 4 4 5
##   ..$ carb: num [1:7] 4 4 1 1 4 4 6
##  $ 8:&#39;data.frame&#39;:   14 obs. of  11 variables:
##   ..$ mpg : num [1:14] 18.7 14.3 16.4 17.3 15.2 10.4 10.4 14.7 15.5 15.2 ...
##   ..$ cyl : num [1:14] 8 8 8 8 8 8 8 8 8 8 ...
##   ..$ disp: num [1:14] 360 360 276 276 276 ...
##   ..$ hp  : num [1:14] 175 245 180 180 180 205 215 230 150 150 ...
##   ..$ drat: num [1:14] 3.15 3.21 3.07 3.07 3.07 2.93 3 3.23 2.76 3.15 ...
##   ..$ wt  : num [1:14] 3.44 3.57 4.07 3.73 3.78 ...
##   ..$ qsec: num [1:14] 17 15.8 17.4 17.6 18 ...
##   ..$ vs  : num [1:14] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ am  : num [1:14] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ gear: num [1:14] 3 3 3 3 3 3 3 3 3 3 ...
##   ..$ carb: num [1:14] 2 4 3 3 3 4 4 4 2 2 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-60" style="background:;">
  <hgroup>
    <h2>More on lists</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Note that previously slide looked like a nested list (list inside a list).
This is because data frames are lists, where each element of the list is a
vector of the same length.</li>
<li>lists are tremendously useful and flexible, but essentially require at least
a basic understanding of functions and/or loops.

<ul>
<li>Functions because lists are often used to return output from a function
(as discussed previously).</li>
<li>Loops because you often want to loop through a list and apply a function
to each element of the list.</li>
</ul></li>
</ul>

<p>For example: </p>

<pre><code class="r">sapply(cyls, function(x) cor(x$mpg, x$hp))
</code></pre>

<pre><code>##          4          6          8 
## -0.5235034 -0.1270678 -0.2836357
</code></pre>

<p>(Note <code>tapply</code> is a more efficient method for doing the same thing as above 
  without splitting the data frame first)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-61" style="background:;">
  <hgroup>
    <h1>Lists and data frames</h1>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">l &lt;- list(
  lets = letters[1:5],
  ints = 9:5,
  dbl = rnorm(5, 12, 0.75)
  )
str(l)
</code></pre>

<pre><code>## List of 3
##  $ lets: chr [1:5] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ ints: int [1:5] 9 8 7 6 5
##  $ dbl : num [1:5] 12.2 13.6 12.1 11.5 12.5
</code></pre>

<pre><code class="r">as.data.frame(l)
</code></pre>

<pre><code>##   lets ints      dbl
## 1    a    9 12.18884
## 2    b    8 13.58694
## 3    c    7 12.14746
## 4    d    6 11.49116
## 5    e    5 12.46750
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p>Or equivalently</p>

<pre><code class="r">dframe &lt;- data.frame(
  lets = letters[1:5],
  ints = 9:5,
  dbl = rnorm(5, 12, 0.75)
  )
dframe
</code></pre>

<pre><code>##   lets ints      dbl
## 1    a    9 11.39471
## 2    b    8 11.90253
## 3    c    7 11.78941
## 4    d    6 11.13811
## 5    e    5 12.55860
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-62" style="background:;">
  <hgroup>
    <h2>More on data frames</h2>
  </hgroup>
  <article data-timings="">
    <p>Because data frames are actually lists, you can use the same subsetting 
  procedures you can with lists. </p>

<pre><code class="r">dframe[2]
</code></pre>

<pre><code>##   ints
## 1    9
## 2    8
## 3    7
## 4    6
## 5    5
</code></pre>

<pre><code class="r">dframe[[2]]
</code></pre>

<pre><code>## [1] 9 8 7 6 5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-63" style="background:;">
  <hgroup>
    <h1>Complete applied (but very simple) example</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-64" style="background:;">
  <hgroup>
    <h2>Goals</h2>
  </hgroup>
  <article data-timings="">
    <p>Come up from the weeds a bit </p>

<ul>
<li>Go through a complete (basic) example

<ul>
<li>process, plot, analyze, plot</li>
</ul></li>
<li>Look at correlations</li>
<li>Explore linear regression and multilevel modeling (briefly)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-65" style="background:;">
  <hgroup>
    <h2>Load Data</h2>
  </hgroup>
  <article data-timings="">
    <p>High School and Beyond</p>

<pre><code class="r">library(haven)
hsb &lt;- read_spss(&quot;./data/HSB.sav&quot;)
head(hsb)
</code></pre>

<pre><code>##     id minority female    ses mathach
## 1 1224        0      1 -1.528   5.876
## 2 1224        0      1 -0.588  19.708
## 3 1224        0      0 -0.528  20.349
## 4 1224        0      0 -0.668   8.781
## 5 1224        0      0 -0.158  17.898
## 6 1224        0      0  0.022   4.583
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-66" style="background:;">
  <hgroup>
    <h2>About the HSB data</h2>
  </hgroup>
  <article data-timings="">
    <p><span style="color:gray" > 
Our data file is a subsample from the 1982 High School and Beyond Survey and is
  used extensively in Hierarchical Linear Models by Raudenbush and Bryk. The
  data file, called hsb, consists of 7185 students nested in 160 schools. The
  outcome variable of interest is the student-level (level 1) math achievement
  score (mathach). The variable ses is the socio-economic status of a student
  and therefore is at the student level. The variable meanses is the group-mean
  centered version of ses and therefore is at the school level (level 2). The
  variable sector is an indicator variable indicating if a school is public or
  catholic and is therefore a school-level variable. There are 90 public
  schools (sector=0) and 70 catholic schools (sector=1) in the sample.</p>

<p>Description from <br>
<a href="http://www.ats.ucla.edu/stat/hlm/seminars/hlm_mlm/608/mlm_hlm_seminar_v608.htm">http://www.ats.ucla.edu/stat/hlm/seminars/hlm_mlm/608/mlm_hlm_seminar_v608.htm</a>
 </span></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-67" style="background:;">
  <hgroup>
    <h2>Check out the data a bit</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">summary(hsb)
</code></pre>

<pre><code>##       id               minority          female            ses           
##  Length:7185        Min.   :0.0000   Min.   :0.0000   Min.   :-3.758000  
##  Class :character   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:-0.538000  
##  Mode  :character   Median :0.0000   Median :1.0000   Median : 0.002000  
##                     Mean   :0.2747   Mean   :0.5282   Mean   : 0.000143  
##                     3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.: 0.602000  
##                     Max.   :1.0000   Max.   :1.0000   Max.   : 2.692000  
##     mathach      
##  Min.   :-2.832  
##  1st Qu.: 7.275  
##  Median :13.131  
##  Mean   :12.748  
##  3rd Qu.:18.317  
##  Max.   :24.993
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-68" style="background:;">
  <hgroup>
    <h2>Evaluate the structure of the data</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">str(hsb)
</code></pre>

<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    7185 obs. of  5 variables:
##  $ id      : chr  &quot;1224&quot; &quot;1224&quot; &quot;1224&quot; &quot;1224&quot; ...
##  $ minority: num  0 0 0 0 0 0 0 0 0 0 ...
##  $ female  : num  1 1 0 0 0 0 1 0 1 0 ...
##  $ ses     : num  -1.528 -0.588 -0.528 -0.668 -0.158 ...
##  $ mathach : num  5.88 19.71 20.35 8.78 17.9 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-69" style="background:;">
  <hgroup>
    <h2>What is this ses variable?</h2>
  </hgroup>
  <article data-timings="">
    <p>&quot;a standardized scale constructed from variables measuring parental education,
occupation, and income&quot; (<a href="http://www.upa.pdx.edu/IOA/newsom/mlrclass/ho_hsb.pdf">http://www.upa.pdx.edu/IOA/newsom/mlrclass/ho_hsb.pdf</a>)</p>

<p><br>
So why doesn&#39;t it have a sd of 1?</p>

<pre><code class="r">sd(hsb$ses)
</code></pre>

<pre><code>## [1] 0.7793552
</code></pre>

<p>Our dataset is a sample from the full dataset. So you can still interpret a 1
  unit change in the <code>ses</code> variable as a one standard deviation increase in the
  population.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-70" style="background:;">
  <hgroup>
    <h2>Evaluate <code>id</code></h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">table(hsb$id)
</code></pre>

<pre><code>## 
## 1224 1288 1296 1308 1317 1358 1374 1433 1436 1461 1462 1477 1499 1637 1906 
##   47   25   48   20   48   30   28   35   44   33   57   62   53   27   53 
## 1909 1942 1946 2030 2208 2277 2305 2336 2458 2467 2526 2626 2629 2639 2651 
##   28   29   39   47   60   61   67   47   57   52   57   38   57   42   38 
## 2655 2658 2755 2768 2771 2818 2917 2990 2995 3013 3020 3039 3088 3152 3332 
##   52   45   47   25   55   42   43   48   46   53   59   21   39   52   38 
## 3351 3377 3427 3498 3499 3533 3610 3657 3688 3705 3716 3838 3881 3967 3992 
##   39   45   49   53   38   48   64   51   43   45   41   54   41   52   53 
## 3999 4042 4173 4223 4253 4292 4325 4350 4383 4410 4420 4458 4511 4523 4530 
##   46   64   44   45   58   65   53   33   25   41   32   48   58   47   63 
## 4642 4868 4931 5192 5404 5619 5640 5650 5667 5720 5761 5762 5783 5815 5819 
##   61   34   58   28   57   66   57   45   61   53   52   37   29   25   50 
## 5838 5937 6074 6089 6144 6170 6291 6366 6397 6415 6443 6464 6469 6484 6578 
##   31   29   56   33   43   21   35   58   60   54   30   29   57   35   56 
## 6600 6808 6816 6897 6990 7011 7101 7172 7232 7276 7332 7341 7342 7345 7364 
##   56   44   55   49   53   33   28   44   52   53   48   51   58   56   44 
## 7635 7688 7697 7734 7890 7919 8009 8150 8165 8175 8188 8193 8202 8357 8367 
##   51   54   32   22   51   37   47   44   49   33   30   43   35   27   14 
## 8477 8531 8627 8628 8707 8775 8800 8854 8857 8874 8946 8983 9021 9104 9158 
##   37   41   53   61   48   48   32   32   64   36   58   51   56   55   53 
## 9198 9225 9292 9340 9347 9359 9397 9508 9550 9586 
##   31   36   19   29   57   53   47   35   29   59
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-71" style="background:;">
  <hgroup>
    <h2>Create new Student ID</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <h1>Method 1</h1>

<p>Use the rownames</p>

<pre><code class="r">hsb$SID &lt;- rownames(hsb)
head(hsb)
</code></pre>

<pre><code>##     id minority female    ses mathach SID
## 1 1224        0      1 -1.528   5.876   1
## 2 1224        0      1 -0.588  19.708   2
## 3 1224        0      0 -0.528  20.349   3
## 4 1224        0      0 -0.668   8.781   4
## 5 1224        0      0 -0.158  17.898   5
## 6 1224        0      0  0.022   4.583   6
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <h1>Method 2</h1>

<p>Use some other arbitrary index</p>

<pre><code class="r">hsb$SID &lt;- seq(from = 100, 
  length.out = nrow(hsb), by = 8)
head(hsb)
</code></pre>

<pre><code>##     id minority female    ses mathach SID
## 1 1224        0      1 -1.528   5.876 100
## 2 1224        0      1 -0.588  19.708 108
## 3 1224        0      0 -0.528  20.349 116
## 4 1224        0      0 -0.668   8.781 124
## 5 1224        0      0 -0.158  17.898 132
## 6 1224        0      0  0.022   4.583 140
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-72" style="background:;">
  <hgroup>
    <h2>Rename <code>id</code> variable to <code>ScID</code></h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">names(hsb)
</code></pre>

<pre><code>## [1] &quot;id&quot;       &quot;minority&quot; &quot;female&quot;   &quot;ses&quot;      &quot;mathach&quot;  &quot;SID&quot;
</code></pre>

<pre><code class="r">names(hsb)[1] &lt;- &quot;ScID&quot;
head(hsb)
</code></pre>

<pre><code>##   ScID minority female    ses mathach SID
## 1 1224        0      1 -1.528   5.876 100
## 2 1224        0      1 -0.588  19.708 108
## 3 1224        0      0 -0.528  20.349 116
## 4 1224        0      0 -0.668   8.781 124
## 5 1224        0      0 -0.158  17.898 132
## 6 1224        0      0  0.022   4.583 140
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-73" style="background:;">
  <hgroup>
    <h2>Reorder variables (house cleaning)</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">hsb &lt;- hsb[ ,c(&quot;SID&quot;, &quot;ScID&quot;, &quot;minority&quot;, &quot;female&quot;, &quot;ses&quot;, &quot;mathach&quot;)]
head(hsb)
</code></pre>

<pre><code>##   SID ScID minority female    ses mathach
## 1 100 1224        0      1 -1.528   5.876
## 2 108 1224        0      1 -0.588  19.708
## 3 116 1224        0      0 -0.528  20.349
## 4 124 1224        0      0 -0.668   8.781
## 5 132 1224        0      0 -0.158  17.898
## 6 140 1224        0      0  0.022   4.583
</code></pre>

<p>Alternatively, by index</p>

<pre><code class="r">d &lt;- d[ ,c(ncol(d), 1:(ncol(d) - 1))]
</code></pre>

<pre><code class="r">c(ncol(d), 1:(ncol(d) - 1))
</code></pre>

<pre><code>## [1] 7 1 2 3 4 5 6
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-74" style="background:;">
  <hgroup>
    <h2>Visualize relation among all variables</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">pairs(d[ ,-c(1:2)])
</code></pre>

<p><img src="assets/fig/pairsPlot1-1.png" alt="plot of chunk pairsPlot1"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-75" style="background:;">
  <hgroup>
    <h2>Get a better pairs plot</h2>
  </hgroup>
  <article data-timings="">
    <p>Look at the documentation for <code>pairs()</code> (then scroll down)</p>

<pre><code class="r">?pairs
</code></pre>

<p><img src="./assets/img/pairsDocumentation.png" alt="pairsDocumentation"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-76" style="background:;">
  <hgroup>
    <h2>Fancy pairs plot</h2>
  </hgroup>
  <article data-timings="">
    <h1>Run the functions from the documentation file</h1>

<pre><code class="r">panel.hist &lt;- function(x, ...) {
    usr &lt;- par(&quot;usr&quot;); on.exit(par(usr))
    par(usr = c(usr[1:2], 0, 1.5) )
    h &lt;- hist(x, plot = FALSE)
    breaks &lt;- h$breaks; nB &lt;- length(breaks)
    y &lt;- h$counts; y &lt;- y/max(y)
    rect(breaks[-nB], 0, breaks[-1], y, col = &quot;cyan&quot;, ...)
}

panel.cor &lt;- function(x, y, digits = 2, prefix = &quot;&quot;, cex.cor, ...) {
    usr &lt;- par(&quot;usr&quot;); on.exit(par(usr))
    par(usr = c(0, 1, 0, 1))
    r &lt;- abs(cor(x, y, use = &quot;complete.obs&quot;)) # I added the use part
    txt &lt;- format(c(r, 0.123456789), digits = digits)[1]
    txt &lt;- paste0(prefix, txt)
    if(missing(cex.cor)) cex.cor &lt;- 0.8/strwidth(txt)
    text(0.5, 0.5, txt, cex = cex.cor * r)
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-77" style="background:;">
  <article data-timings="">
    <pre><code class="r">pairs(d[ ,-c(1:2)], 
  lower.panel = panel.smooth, 
  diag.panel = panel.hist, 
  upper.panel = panel.cor)
</code></pre>

<p><img src="assets/fig/pairsPlot2-1.png" alt="plot of chunk pairsPlot2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-78" style="background:;">
  <hgroup>
    <h1>Exploring the relation between SES and Math Achievement</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-79" style="background:;">
  <hgroup>
    <h2>Individual Plots</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">hist(hsb$mathach)
</code></pre>

<p><img src="assets/fig/hsbHists-1.png" alt="plot of chunk hsbHists"></p>

<pre><code class="r">hist(hsb$ses)
</code></pre>

<p><img src="assets/fig/hsbHists-2.png" alt="plot of chunk hsbHists"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">plot(hsb$ses, hsb$mathach)
</code></pre>

<p><img src="assets/fig/hsbScatter-1.png" alt="plot of chunk hsbScatter"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-80" style="background:;">
  <hgroup>
    <h2>Correlation</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <p>Use the <code>cor()</code> function</p>

<pre><code class="r">cor(hsb$ses, hsb$mathach)
</code></pre>

<pre><code>## [1] 0.3607556
</code></pre>

<p><br>
And, as always, take a look at the documentation for <code>cor()</code></p>

</div>
<div style='float:right;width:48%;'>
  <p><img src="./assets/img/corDocumentation.png" alt="corDocumentation"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-81" style="background:;">
  <hgroup>
    <h2>Missing data</h2>
  </hgroup>
  <article data-timings="">
    <p>For illustration purposes, lets randomly make some cases missing, and then try
  to estimate the relation between the variables again</p>

<div style='float:left;width:48%;'>
  <h1>Randomly 10% of assign cases to missing</h1>

<pre><code class="r">set.seed(1000) # For reproducibility
summary(hsb$ses)
</code></pre>

<pre><code>##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## -3.758000 -0.538000  0.002000  0.000143  0.602000  2.692000
</code></pre>

<pre><code class="r">samp &lt;- sample(c(0, 1), nrow(hsb), replace = TRUE, prob = c(.9, .1))
table(samp) / nrow(hsb)
</code></pre>

<pre><code>## samp
##          0          1 
## 0.90480167 0.09519833
</code></pre>

<pre><code class="r">hsb$ses[samp == 1] &lt;- NA
summary(hsb$ses)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
## -3.7580 -0.5380  0.0020  0.0001  0.5920  2.6920     684
</code></pre>

</div>
<div style='float:right;width:48%;'>
  
</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-82" style="background:;">
  <hgroup>
    <h2>Correlation</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">cor(hsb$ses, hsb$mathach)
</code></pre>

<pre><code>## [1] NA
</code></pre>

<p>This fails, because R doesn&#39;t know what to do with the missing data. Exclude
  those cases, and let&#39;s try again.</p>

<pre><code class="r">temp &lt;- na.omit(hsb)
head(temp)
</code></pre>

<pre><code>##   SID ScID minority female    ses mathach
## 1 100 1224        0      1 -1.528   5.876
## 2 108 1224        0      1 -0.588  19.708
## 3 116 1224        0      0 -0.528  20.349
## 4 124 1224        0      0 -0.668   8.781
## 5 132 1224        0      0 -0.158  17.898
## 6 140 1224        0      0  0.022   4.583
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">cor(temp$ses, temp$mathach)
</code></pre>

<pre><code>## [1] 0.3608712
</code></pre>

<p>Alternatively, use the optional <code>use</code> argument</p>

<pre><code class="r">cor(hsb$ses, hsb$mathach, 
  use = &quot;complete.obs&quot;)
</code></pre>

<pre><code>## [1] 0.3608712
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-83" style="background:;">
  <hgroup>
    <h2>Modeling the relation between SES and Math</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">mHSB &lt;- lm(mathach ~ ses, data = hsb)
display(mHSB, detail = TRUE)
</code></pre>

<pre><code>## lm(formula = mathach ~ ses, data = hsb)
##             coef.est coef.se t value Pr(&gt;|t|)
## (Intercept)  12.79     0.08  160.77    0.00  
## ses           3.21     0.10   31.19    0.00  
## ---
## n = 6501, k = 2
## residual sd = 6.42, R-Squared = 0.13
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-84" style="background:;">
  <hgroup>
    <h2>Plot the relation and the model</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r"># Plot the relation
plot(hsb$ses, hsb$mathach)

# Overlay the regression line
abline(mHSB, col = &quot;blue&quot;, lty = 3, lwd = 2)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/hsbScatterReg2-1.png" alt="plot of chunk hsbScatterReg2"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-85" style="background:;">
  <hgroup>
    <h2>Fit the model for females and males separately</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">males &lt;- lm(mathach ~ ses, 
  data = hsb, subset = female == 0)
display(males)
</code></pre>

<pre><code>## lm(formula = mathach ~ ses, data = hsb, subset = female == 0)
##             coef.est coef.se
## (Intercept) 13.55     0.12  
## ses          3.01     0.16  
## ---
## n = 3078, k = 2
## residual sd = 6.60, R-Squared = 0.11
</code></pre>

<p><br>
Note the differences between the parameter estimates. Might we want to consider
  an interaction?</p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">females &lt;- lm(mathach ~ ses, 
  data = hsb, subset = female == 1)
display(females)
</code></pre>

<pre><code>## lm(formula = mathach ~ ses, data = hsb, subset = female == 1)
##             coef.est coef.se
## (Intercept) 12.13     0.11  
## ses          3.27     0.14  
## ---
## n = 3423, k = 2
## residual sd = 6.18, R-Squared = 0.14
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-86" style="background:;">
  <hgroup>
    <h2>Plotting male and female models</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">male_d &lt;- subset(hsb, female == 0)
plot(male_d$ses, male_d$mathach)
abline(males, col = &quot;blue&quot;)
</code></pre>

<p><img src="assets/fig/malePlot-1.png" alt="plot of chunk malePlot"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">female_d &lt;- subset(hsb, female == 0)
plot(female_d$ses, female_d$mathach)
abline(females, col = &quot;red&quot;)
</code></pre>

<p><img src="assets/fig/femalePlot-1.png" alt="plot of chunk femalePlot"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-87" style="background:;">
  <hgroup>
    <h2>Model the interaction</h2>
  </hgroup>
  <article data-timings="">
    <p>Change <em>female</em> to a factor to help with plotting interpretability later</p>

<pre><code class="r">hsb$female &lt;- factor(hsb$female, levels = c(0, 1), labels = c(&quot;Male&quot;, &quot;Female&quot;))
head(hsb)
</code></pre>

<pre><code>##   SID ScID minority female    ses mathach
## 1 100 1224        0 Female -1.528   5.876
## 2 108 1224        0 Female -0.588  19.708
## 3 116 1224        0   Male -0.528  20.349
## 4 124 1224        0   Male -0.668   8.781
## 5 132 1224        0   Male -0.158  17.898
## 6 140 1224        0   Male  0.022   4.583
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-88" style="background:;">
  <hgroup>
    <h2>Model the interaction</h2>
  </hgroup>
  <article data-timings="">
    <p>Shortcuts:</p>

<pre><code class="r">int &lt;- lm(mathach ~ ses*female, data = hsb)
</code></pre>

<p>expands to </p>

<pre><code class="r">int &lt;- lm(mathach ~ ses + female + ses:female, data = hsb)
</code></pre>

<p>Note the importance of distinguishing between <code>*</code> and <code>:</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-89" style="background:;">
  <hgroup>
    <h2>Visualize the interaction</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">visreg(int, &quot;ses&quot;, by = &quot;female&quot;, 
  overlay = TRUE, partial = FALSE)
</code></pre>

<p><img src="assets/fig/visInteraction1-1.png" alt="plot of chunk visInteraction1"></p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">visreg(int, &quot;ses&quot;, by = &quot;female&quot;)
</code></pre>

<p><img src="assets/fig/visInteraction2-1.png" alt="plot of chunk visInteraction2"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-90" style="background:;">
  <hgroup>
    <h2>Evaluate coefficients</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">display(int, detail = TRUE)
</code></pre>

<pre><code>## lm(formula = mathach ~ ses * female, data = hsb)
##                  coef.est coef.se t value Pr(&gt;|t|)
## (Intercept)       13.55     0.12  117.58    0.00  
## ses                3.01     0.15   20.10    0.00  
## femaleFemale      -1.42     0.16   -8.95    0.00  
## ses:femaleFemale   0.25     0.21    1.23    0.22  
## ---
## n = 6501, k = 4
## residual sd = 6.38, R-Squared = 0.14
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-91" style="background:;">
  <hgroup>
    <h2>Intercept variance between schools</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(lme4)
mlHSB &lt;- lmer(mathach ~ ses + (1|ScID), data = hsb)
display(mlHSB)
</code></pre>

<pre><code>## lmer(formula = mathach ~ ses + (1 | ScID), data = hsb)
##             coef.est coef.se
## (Intercept) 12.71     0.19  
## ses          2.44     0.11  
## 
## Error terms:
##  Groups   Name        Std.Dev.
##  ScID     (Intercept) 2.15    
##  Residual             6.09    
## ---
## number of obs: 6501, groups: ScID, 160
## AIC = 42242.8, DIC = 42226.7
## deviance = 42230.8
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-92" style="background:;">
  <hgroup>
    <h2>How did the results change?</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">coef(mHSB)
</code></pre>

<pre><code>## (Intercept)         ses 
##   12.794598    3.207653
</code></pre>

<pre><code class="r">fixef(mlHSB)
</code></pre>

<pre><code>## (Intercept)         ses 
##   12.709981    2.436065
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-93" style="background:;">
  <hgroup>
    <h2>Caterpillar plot</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(lattice)
qqmath(ranef(mlHSB, condVar = TRUE), strip = FALSE)$ScID
</code></pre>

<p><img src="assets/fig/catterPlot-1.png" alt="plot of chunk catterPlot"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-94" style="background:;">
  <hgroup>
    <h2>SES variability?</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">mlHSB2 &lt;- lmer(mathach ~ ses + (ses|ScID), data = hsb)
display(mlHSB2)
</code></pre>

<pre><code>## lmer(formula = mathach ~ ses + (ses | ScID), data = hsb)
##             coef.est coef.se
## (Intercept) 12.72     0.19  
## ses          2.44     0.12  
## 
## Error terms:
##  Groups   Name        Std.Dev. Corr  
##  ScID     (Intercept) 2.16           
##           ses         0.56     -0.14 
##  Residual             6.08           
## ---
## number of obs: 6501, groups: ScID, 160
## AIC = 42244.3, DIC = 42224.5
## deviance = 42228.4
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-95" style="background:;">
  <hgroup>
    <h2>Compare competing models</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">anova(mlHSB, mlHSB2)
</code></pre>

<pre><code>## refitting model(s) with ML (instead of REML)
</code></pre>

<pre><code>## Data: hsb
## Models:
## mlHSB: mathach ~ ses + (1 | ScID)
## mlHSB2: mathach ~ ses + (ses | ScID)
##        Df   AIC   BIC logLik deviance  Chisq Chi Df Pr(&gt;Chisq)
## mlHSB   4 42239 42266 -21115    42231                         
## mlHSB2  6 42240 42281 -21114    42228 2.3919      2     0.3024
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-96" style="background:;">
  <article data-timings="">
    <pre><code class="r">qqmath(ranef(mlHSB2, condVar = TRUE))$ScID
</code></pre>

<p><img src="assets/fig/catterPlot2-1.png" alt="plot of chunk catterPlot2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-97" style="background:;">
  <hgroup>
    <h2>Practice</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Read in the data file <em>ratebeer_beerjobber.txt</em></li>
<li>Plot the relation between <em>abv</em> (x-axis) and <em>score.overall</em> (y-axis)</li>
<li>Find the correlation between <em>abv</em> and <em>score.overall</em></li>
<li>Fit a simple linear regression model, with <em>abv</em> predicting <em>score.overall</em></li>
<li>Plot the relation between <em>abv</em> (x-axis) and <em>score.overall</em> (y-axis)</li>
<li>Overlay the regression line on the scatterplot</li>
<li>Fit a multilevel model with the intercept varying by brewer</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-98" style="background:;">
  <hgroup>
    <h2>Answers</h2>
  </hgroup>
  <article data-timings="">
    <p>Read in the data file <code>ratebeer_beerjobber.txt</code></p>

<pre><code class="r">d &lt;- read.delim(&quot;./data/ratebeer_beerjobber.txt&quot;)
head(d)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 2                  Abbey Monks Tripel Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 2            Abbey Tripel 8.0       3            NA             NA
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-99" style="background:;">
  <hgroup>
    <h2>Answers</h2>
  </hgroup>
  <article data-timings="">
    <p>Plot the relation between <code>abv</code> (x-axis) and <code>score.overall</code> (y-axis)</p>

<pre><code class="r">plot(score.overall ~ abv, data = d)
</code></pre>

<p><img src="assets/fig/practice2-1.png" alt="plot of chunk practice2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-100" style="background:;">
  <hgroup>
    <h2>Answers (continued)</h2>
  </hgroup>
  <article data-timings="">
    <p>Find the correlation between <code>abv</code> and <code>score.overall</code></p>

<pre><code class="r">cor(d$abv, d$score.overall, use = &quot;complete.obs&quot;)
</code></pre>

<pre><code>## [1] 0.4758994
</code></pre>

<p>Fit a simple linear regression model, with <code>abv</code> predicting <code>score.overall</code></p>

<pre><code class="r">m2 &lt;- lm(score.overall ~ abv, data = d)
display(m2)
</code></pre>

<pre><code>## lm(formula = score.overall ~ abv, data = d)
##             coef.est coef.se
## (Intercept) 27.97     3.83  
## abv          6.17     0.60  
## ---
## n = 367, k = 2
## residual sd = 21.33, R-Squared = 0.23
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-101" style="background:;">
  <hgroup>
    <h2>Answers (continued)</h2>
  </hgroup>
  <article data-timings="">
    <p>Overlay the regression line</p>

<pre><code class="r">plot(score.overall ~ abv, data = d)
abline(a = 27.97, b = 6.17, col = &quot;blue&quot;)
</code></pre>

<p><img src="assets/fig/practice5-1.png" alt="plot of chunk practice5"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-102" style="background:;">
  <hgroup>
    <h2>Multilevel model</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">byBrewer &lt;- lmer(score.overall ~ abv + (1|brewer), data = d)
display(byBrewer)
</code></pre>

<pre><code>## lmer(formula = score.overall ~ abv + (1 | brewer), data = d)
##             coef.est coef.se
## (Intercept) 32.28     3.81  
## abv          5.27     0.54  
## 
## Error terms:
##  Groups   Name        Std.Dev.
##  brewer   (Intercept) 13.41   
##  Residual             17.43   
## ---
## number of obs: 367, groups: brewer, 67
## AIC = 3230.9, DIC = 3230.4
## deviance = 3226.6
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Data: Beer!'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Load data'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Histograms'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Look at the documentation'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Change the number of break points'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Alternative: Plot a table of frequencies'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Smooth the distribution'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Density binwidth'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Your turn'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Scatter plots and controlling lines, colors, axes, etc.'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='The <code>plot()</code> function'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Plot types'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Scatter plots'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Additional arguments'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Examples: Beer style and overall ratings'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Change point type, color, and size'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Colors in R'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Point Types'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Line types'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Add horizontal and vertical reference lines at the mean'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='NA'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Quick aside: Fitting linear regression models in R'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Formula structure'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Modeling the relation between beer style rating and the overall rating'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Alternative summary'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='Extensions'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Plot the relation and the model'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='A note on <code>abline</code>'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Fit a nonlinear model'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='Fit the model'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='Overlay the regression line'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Include the SE'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='NA'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='Investigate assumptions of the model'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='If we have time...'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='Overlay a density plot on a histogram, maintain frequency y-axis'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Multi-step process'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='NA'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title='A few extensions with packages'>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='beanplot'>
         41
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=42 title='NA'>
         42
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=43 title='Another example'>
         43
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=44 title='visreg'>
         44
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=45 title='NA'>
         45
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=46 title='NA'>
         46
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=47 title='car'>
         47
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=48 title='Nonlinearity'>
         48
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=49 title='Analysis-specific plotting'>
         49
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=50 title='Practice (and then break)'>
         50
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=51 title='Lists'>
         51
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=52 title='Lists'>
         52
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=53 title='Accessing List Elements'>
         53
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=54 title='Access list elements via names'>
         54
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=55 title='Naming lists versus vectors'>
         55
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=56 title='NA'>
         56
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=57 title='Lists returned by functions'>
         57
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=58 title='NA'>
         58
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=59 title='Other functions will transform data into lists'>
         59
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=60 title='More on lists'>
         60
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=61 title='Lists and data frames'>
         61
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=62 title='More on data frames'>
         62
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=63 title='Complete applied (but very simple) example'>
         63
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=64 title='Goals'>
         64
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=65 title='Load Data'>
         65
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=66 title='About the HSB data'>
         66
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=67 title='Check out the data a bit'>
         67
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=68 title='Evaluate the structure of the data'>
         68
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=69 title='What is this ses variable?'>
         69
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=70 title='Evaluate <code>id</code>'>
         70
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=71 title='Create new Student ID'>
         71
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=72 title='Rename <code>id</code> variable to <code>ScID</code>'>
         72
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=73 title='Reorder variables (house cleaning)'>
         73
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=74 title='Visualize relation among all variables'>
         74
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=75 title='Get a better pairs plot'>
         75
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=76 title='Fancy pairs plot'>
         76
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=77 title='NA'>
         77
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=78 title='Exploring the relation between SES and Math Achievement'>
         78
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=79 title='Individual Plots'>
         79
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=80 title='Correlation'>
         80
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=81 title='Missing data'>
         81
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=82 title='Correlation'>
         82
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=83 title='Modeling the relation between SES and Math'>
         83
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=84 title='Plot the relation and the model'>
         84
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=85 title='Fit the model for females and males separately'>
         85
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=86 title='Plotting male and female models'>
         86
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=87 title='Model the interaction'>
         87
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=88 title='Model the interaction'>
         88
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=89 title='Visualize the interaction'>
         89
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=90 title='Evaluate coefficients'>
         90
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=91 title='Intercept variance between schools'>
         91
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=92 title='How did the results change?'>
         92
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=93 title='Caterpillar plot'>
         93
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=94 title='SES variability?'>
         94
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=95 title='Compare competing models'>
         95
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=96 title='NA'>
         96
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=97 title='Practice'>
         97
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=98 title='Answers'>
         98
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=99 title='Answers'>
         99
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=100 title='Answers (continued)'>
         100
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=101 title='Answers (continued)'>
         101
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=102 title='Multilevel model'>
         102
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>