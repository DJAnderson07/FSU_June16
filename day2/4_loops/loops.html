<!DOCTYPE html>
<html>
<head>
  <title>Loops: An introduction and overview</title>
  <meta charset="utf-8">
  <meta name="description" content="Loops: An introduction and overview">
  <meta name="author" content="Daniel Anderson">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/zenburn.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  
  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Loops: An introduction and overview</h1>
    <h2>Day 2: Afternoon, Session 2</h2>
    <p>Daniel Anderson<br/>R Training: Florida State University, June 22, 2016</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <style>
em {
  font-style: italic
}
</style>

<style>
strong {
  font-weight: bold;
}
</style>

<h2>Agenda</h2>

<ul>
<li>For loops </li>
<li>Apply family of loops

<ul>
<li><code>apply()</code>

<ul>
<li>Also <code>rowSums()</code> and <code>colSums()</code></li>
</ul></li>
<li><code>lapply()</code></li>
<li><code>sapply()</code></li>
<li><code>mapply()</code></li>
<li><code>tapply()</code>

<ul>
<li>Also <code>rowsum()</code></li>
</ul></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <hgroup>
    <h2>Basic overview: for loops</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <div align = "left">
<img src = ../assets/img/forLoops.png width = 450 height = 200>
</div>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">a &lt;- letters[1:26]
a
</code></pre>

<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot;
## [18] &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;
</code></pre>

<pre><code class="r">for(i in 1:5){
    print(a[i])
}
</code></pre>

<pre><code>## [1] &quot;a&quot;
## [1] &quot;b&quot;
## [1] &quot;c&quot;
## [1] &quot;d&quot;
## [1] &quot;e&quot;
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Another basic example</h2>
  </hgroup>
  <article data-timings="">
    <p>Simulate tossing a coin, record results</p>

<pre><code class="r">b &lt;- rep(NA, 10)
b
</code></pre>

<pre><code>##  [1] NA NA NA NA NA NA NA NA NA NA
</code></pre>

<pre><code class="r">for(i in seq_along(b)) {
    b[i] &lt;- sample(c(&quot;Heads&quot;, &quot;Tails&quot;), 1)
}
b
</code></pre>

<pre><code>##  [1] &quot;Tails&quot; &quot;Tails&quot; &quot;Heads&quot; &quot;Tails&quot; &quot;Tails&quot; &quot;Heads&quot; &quot;Tails&quot; &quot;Heads&quot;
##  [9] &quot;Heads&quot; &quot;Heads&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <hgroup>
    <h2>Basic example of nested for loops</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">m &lt;- matrix(101:112, ncol = 3)
m
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]  101  105  109
## [2,]  102  106  110
## [3,]  103  107  111
## [4,]  104  108  112
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">for(i in 1:3) {
    for(j in 1:4) {
        print(m[j, i])
    }
}
</code></pre>

<pre><code>## [1] 101
## [1] 102
## [1] 103
## [1] 104
## [1] 105
## [1] 106
## [1] 107
## [1] 108
## [1] 109
## [1] 110
## [1] 111
## [1] 112
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <hgroup>
    <h2>Batch processing with for loops</h2>
  </hgroup>
  <article data-timings="">
    <h1>Look at the HSB_pieces folder, within the data folder.</h1>

<p><img src="../assets/img/HSBFiles.png" alt="HSBFiles"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <hgroup>
    <h2>Load all files</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r"># List all files in directory
files &lt;- list.files(&quot;./data/HSB_pieces/&quot;)
files
</code></pre>

<pre><code>## [1] &quot;NonWhiteFemaleHSB.csv&quot; &quot;NonWhiteMaleHSB.csv&quot;   &quot;WhiteFemaleHSB.csv&quot;   
## [4] &quot;WhiteMaleHSB.csv&quot;
</code></pre>

<pre><code class="r"># Create empty list
l &lt;- vector(&quot;list&quot;, length(files))
l
</code></pre>

<pre><code>## [[1]]
## NULL
## 
## [[2]]
## NULL
## 
## [[3]]
## NULL
## 
## [[4]]
## NULL
</code></pre>

<div style='float:left;width:48%;'>
  
</div>
<div style='float:right;width:48%;'>
  
</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>For loop to batch read files</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">for(i in seq_along(files)) {
    l[[i]] &lt;- read.csv(paste0(&quot;./data/HSB_pieces/&quot;, files[i]))
}

# Name elements of the list according to the file name
names(l) &lt;- substr(files, 1, nchar(files) - 4)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Inspect the structure of the list</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">str(l)
</code></pre>

<pre><code>## List of 4
##  $ NonWhiteFemaleHSB:&#39;data.frame&#39;:   1065 obs. of  5 variables:
##   ..$ id      : int [1:1065] 1224 1288 1296 1296 1296 1296 1296 1296 1296 1296 ...
##   ..$ minority: int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female  : int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses     : num [1:1065] -1.248 -1.468 -0.148 -1.568 -0.288 ...
##   ..$ mathach : num [1:1065] 4.75 10.66 12.67 4.97 8.28 ...
##  $ NonWhiteMaleHSB  :&#39;data.frame&#39;:   909 obs. of  5 variables:
##   ..$ id      : int [1:909] 1224 1224 1224 1288 1288 1296 1296 1296 1296 1296 ...
##   ..$ minority: int [1:909] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female  : int [1:909] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses     : num [1:909] -1.528 0.142 -1.658 -0.328 -0.158 ...
##   ..$ mathach : num [1:909] 4.145 -1.688 0.122 10.171 5.552 ...
##  $ WhiteFemaleHSB   :&#39;data.frame&#39;:   2730 obs. of  5 variables:
##   ..$ id      : int [1:2730] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority: int [1:2730] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female  : int [1:2730] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses     : num [1:2730] -1.528 -0.588 -0.618 -0.888 -1.448 ...
##   ..$ mathach : num [1:2730] 5.88 19.71 -2.83 1.53 9.47 ...
##  $ WhiteMaleHSB     :&#39;data.frame&#39;:   2481 obs. of  5 variables:
##   ..$ id      : int [1:2481] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority: int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female  : int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses     : num [1:2481] -0.528 -0.668 -0.158 0.022 -0.998 -0.458 -0.468 0.332 -0.298 -0.078 ...
##   ..$ mathach : num [1:2481] 20.349 8.781 17.898 4.583 0.523 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Create a new variable</h2>
  </hgroup>
  <article data-timings="">
    <p>For each data frame, we&#39;re going to create a new variable that is a
  standardized version of <code>mathach</code>. Note that this variable will be standardized relative to the specific group.</p>

<pre><code class="r"># First, write a z-score function
standardize &lt;- function(x) (x - mean(x, na.rm = TRUE)) / (sd(x, na.rm = TRUE))

# Next, loop through the list to create each new variable
for(i in seq_along(l)) {
    l[[i]]$math_z &lt;- standardize(l[[i]]$mathach)
}
head(l[[1]])
</code></pre>

<pre><code>##     id minority female    ses mathach     math_z
## 1 1224        1      1 -1.248   4.753 -0.6949256
## 2 1288        1      1 -1.468  10.664  0.2485645
## 3 1296        1      1 -0.148  12.668  0.5684350
## 4 1296        1      1 -1.568   4.968 -0.6606082
## 5 1296        1      1 -0.288   8.278 -0.1322792
## 6 1296        1      1 -1.088   6.244 -0.4569382
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <article data-timings="">
    <pre><code class="r">str(l)
</code></pre>

<pre><code>## List of 4
##  $ NonWhiteFemaleHSB:&#39;data.frame&#39;:   1065 obs. of  6 variables:
##   ..$ id      : int [1:1065] 1224 1288 1296 1296 1296 1296 1296 1296 1296 1296 ...
##   ..$ minority: int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female  : int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses     : num [1:1065] -1.248 -1.468 -0.148 -1.568 -0.288 ...
##   ..$ mathach : num [1:1065] 4.75 10.66 12.67 4.97 8.28 ...
##   ..$ math_z  : num [1:1065] -0.695 0.249 0.568 -0.661 -0.132 ...
##  $ NonWhiteMaleHSB  :&#39;data.frame&#39;:   909 obs. of  6 variables:
##   ..$ id      : int [1:909] 1224 1224 1224 1288 1288 1296 1296 1296 1296 1296 ...
##   ..$ minority: int [1:909] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female  : int [1:909] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses     : num [1:909] -1.528 0.142 -1.658 -0.328 -0.158 ...
##   ..$ mathach : num [1:909] 4.145 -1.688 0.122 10.171 5.552 ...
##   ..$ math_z  : num [1:909] -0.9376 -1.7968 -1.5301 -0.0499 -0.7303 ...
##  $ WhiteFemaleHSB   :&#39;data.frame&#39;:   2730 obs. of  6 variables:
##   ..$ id      : int [1:2730] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority: int [1:2730] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female  : int [1:2730] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses     : num [1:2730] -1.528 -0.588 -0.618 -0.888 -1.448 ...
##   ..$ mathach : num [1:2730] 5.88 19.71 -2.83 1.53 9.47 ...
##   ..$ math_z  : num [1:2730] -1.11 1.028 -2.455 -1.782 -0.553 ...
##  $ WhiteMaleHSB     :&#39;data.frame&#39;:   2481 obs. of  6 variables:
##   ..$ id      : int [1:2481] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority: int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female  : int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses     : num [1:2481] -0.528 -0.668 -0.158 0.022 -0.998 -0.458 -0.468 0.332 -0.298 -0.078 ...
##   ..$ mathach : num [1:2481] 20.349 8.781 17.898 4.583 0.523 ...
##   ..$ math_z  : num [1:2481] 0.824 -0.892 0.461 -1.514 -2.117 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>Matrix creation</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(100)
m &lt;- matrix(rnorm(n = 12, mean = 100, sd = 10), ncol = 3)
m
</code></pre>

<pre><code>##           [,1]      [,2]      [,3]
## [1,]  94.97808 101.16971  91.74741
## [2,] 101.31531 103.18630  96.40138
## [3,]  99.21083  94.18209 100.89886
## [4,] 108.86785 107.14533 100.96274
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>For loops to calculate column means</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">colMeans &lt;- rep(NA, ncol(m))
for(i in 1:ncol(m)) {
    colMeans[i] &lt;- mean(m[ ,i])
}
colMeans
</code></pre>

<pre><code>## [1] 101.0930 101.4209  97.5026
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Store rows in list</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">rows &lt;- vector(&quot;list&quot;, 4)
for(i in 1:4) {
    rows[[i]] &lt;- m[i, ]
}
rows
</code></pre>

<pre><code>## [[1]]
## [1]  94.97808 101.16971  91.74741
## 
## [[2]]
## [1] 101.31531 103.18630  96.40138
## 
## [[3]]
## [1]  99.21083  94.18209 100.89886
## 
## [[4]]
## [1] 108.8678 107.1453 100.9627
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>A few things to note</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>For loops require you initialize objects</li>
</ul>

<div style='float:left;width:48%;'>
  <pre><code class="r">a &lt;- rep(NA, 100)
for(i in 1:100) {
    a[i] &lt;- rnorm(1, mean = 0, sd = i)
}
a
</code></pre>

<pre><code>##   [1]   -0.2016340    1.4796810    0.3701385   -0.1172668   -1.9442712
##   [6]    3.0651375   -6.3966993   18.4823746   -3.9428098    7.6406062
##  [11]    2.8815742    9.2808552  -10.5869286   -6.1383080  -10.8033233
##  [16]    3.6951125  -19.6814009    4.4473679   -1.7311577   35.1475124
##  [21]   -2.8965218   -2.4462569  -15.8703294   -5.3230615    4.5726921
##  [26]   10.8504054   28.7658628   27.1656565   -2.9472479   42.0961047
##  [31]  -55.0800446   19.9317565  -17.2353506   44.9558525  -12.7204114
##  [36]   47.4863667    1.6198255  -71.3889235  -17.4354251  -69.5439179
##  [41]    7.3334588   79.6935594  -97.6927959   43.1404221  -62.9471527
##  [46]   83.9441315   64.9210403  -40.2648900  -12.8377930   -3.4422014
##  [51]  -19.3230614  134.2618642    6.8812093  -38.5033489   35.0896834
##  [56]   11.2947291   -3.9852660   -5.3644128   26.4852931  -63.8613402
##  [61]  -70.9075787  102.2083483 -129.9120492    0.8159821  -70.6893427
##  [66]   17.8556066   67.5662755 -141.0595233   61.8807368   -3.4997037
##  [71]  -95.5198010 -139.0472305   51.7994556  -11.6849724   16.2275905
##  [76]   62.1195178  132.9925331   -8.0940828  -44.0126610  114.2641144
##  [81]  -72.3295496  -94.9208417  -44.0146058  205.4373516  -70.7621428
##  [86]   35.5627070 -102.5454332 -103.3150587  -29.6301782  122.6802336
##  [91]  -42.6924079   77.5445582 -135.5934162  -37.6287565  -73.7596421
##  [96]  -35.4524651  120.2898415  -10.5285132   17.0867571   25.4601268
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">for(i in 1:100) {
    f[i] &lt;- rnorm(1, mean = 0, sd = i)
}
</code></pre>

<pre><code>## Error in f[i] &lt;- rnorm(1, mean = 0, sd = i): object of type &#39;closure&#39; is not subsettable
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>No printing by default</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">for(i in seq(0, 500, length.out = 40)) {
    rnorm(100, 0, i)
}
</code></pre>

<p>What sort of object would you need to create to most efficiently store the
  results of this <code>for</code> loop?</p>

</div>
<div style='float:right;width:48%;'>
  <pre><code class="r">for(i in seq(0, 500, length.out = 40)) {
    print( round( rnorm(100, 0, i), 2) )
}
</code></pre>

<pre><code>##   [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
##  [36] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
##  [71] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
##   [1]   7.83  11.35   1.56  -5.21  22.76  -7.68  10.90  -6.03  -6.19   4.08
##  [11]  -2.81  14.54   8.97  -6.02   1.22  12.99   5.85   5.34   3.03 -15.36
##  [21]  -3.25   3.02  -1.70  13.72 -16.78   9.60   2.27   2.77  -3.34   5.47
##  [31]  -6.99  -9.84 -13.92 -13.50   4.96  -0.96   4.45  21.43  -2.99 -16.60
##  [41]  12.11   5.59  18.62 -14.87  -8.94  16.08   0.21 -17.47 -21.74   2.89
##  [51]   6.67   5.53  -5.79  14.59   4.29  -7.69  -3.03  -8.54   4.40  -3.37
##  [61]  12.85  -7.80   0.59  22.06   0.06  28.69  14.71 -12.63  -6.64 -14.19
##  [71] -32.90 -20.21   9.34   9.12  21.20   7.38  -4.47   3.14  22.84  -0.66
##  [81]   5.93 -12.74  28.71 -16.49   0.88 -16.23  -3.64  -6.89  -6.28  -2.91
##  [91]  -5.22 -16.42 -12.60   8.54  17.29   5.79  -0.21 -14.07 -17.52  23.70
##   [1]  15.88  32.85 -35.10 -24.41 -10.61 -24.08 -30.01  -9.24   4.25 -27.63
##  [11]  16.66 -21.00  60.57   3.00 -53.94  24.94 -48.27 -47.47  -3.89   1.32
##  [21]  -1.83 -30.75  -3.51 -27.05 -25.14 -43.69  20.24 -34.13  -8.32 -22.31
##  [31] -11.14  29.24  42.25  16.47  15.58  41.36  -4.98 -17.13 -34.95 -26.76
##  [41]  24.09  57.51 -46.64  -8.44  -2.71   4.02 -26.19  28.69  52.15 -12.48
##  [51]  36.62 -30.59   3.69  37.30  23.16 -11.48   2.31 -12.33 -28.53 -19.06
##  [61]  24.25  -2.77 -28.26  44.54 -13.23 -25.58   1.92  41.55  -6.46  13.09
##  [71]   5.41  -7.74 -50.81 -18.66 -19.09  21.36  20.85  -3.46 -20.54  20.92
##  [81] -15.56 -28.82  19.12 -13.50 -16.11  21.83 -14.12  12.25 -32.46  34.36
##  [91] -18.21  47.80 -13.91  -6.70  21.59  47.77 -40.15  15.93 -21.83  39.94
##   [1]    8.91   24.98   50.89   -2.81   53.51  -10.49   10.86   10.49
##   [9]   -5.29   26.67   57.58   21.59   34.69    2.99   -4.11  -21.87
##  [17]   23.53  -47.40  -43.38   80.90  -28.79 -104.59  -19.73   24.46
##  [25]  -53.41  -40.47   23.06   45.75   14.70  -20.37  -45.33   26.18
##  [33]  -79.57   25.84   -2.48  -27.98  -39.99    5.15   38.89   32.94
##  [41]   11.13 -133.01  -66.01  -21.71  -37.87   -4.88   12.47   13.12
##  [49]    4.65   23.72    8.51   -4.52   52.39  -50.09   -6.56    9.78
##  [57]   14.25  -30.30  -17.71  -15.52    9.08   35.45   23.44  -49.11
##  [65]   -9.89   58.15    1.91   55.51   17.06   26.13   -9.94   11.71
##  [73]  -15.73  -19.12   28.41    0.09  -17.54   -6.21   34.40  -44.38
##  [81]  -28.95   34.92  -52.29   19.29   62.82  -49.35   -3.32   -1.93
##  [89]  -20.20  103.47   36.54   -9.37    4.54   31.36   15.49   53.65
##  [97]   11.13  -47.55    8.58   57.80
##   [1]   36.74   87.07  -31.79  -18.99  -39.86   41.18   66.99  -43.48
##   [9]  -30.30  -57.22    9.57   24.60    4.77   32.57   58.59    7.40
##  [17]   78.60   31.08    2.87   57.04  -80.40   59.93   83.41   12.63
##  [25]   12.13  -16.27   17.06   14.06    1.52   19.65   29.40    4.53
##  [33]   10.94   28.51    3.06  -30.89  -96.87  -79.30   27.76   -0.70
##  [41]  -21.42   14.68 -171.77  -11.88  -96.98   56.52   -9.32  -14.14
##  [49]   -1.13   54.64   14.57   72.07    1.72  -12.76   19.79   15.77
##  [57] -118.83   63.55  -22.03   11.55   39.15    3.34  -37.97   52.51
##  [65]   48.02  -16.45   16.81  -48.24 -106.11  -87.90  -40.32   20.39
##  [73]   -0.87   55.59  -17.56    7.70  -58.36   43.62  -48.78  -24.45
##  [81]  -20.82  -88.73   34.52    0.38   37.72    0.51  -50.62  -43.96
##  [89]   46.39   41.84  -59.20   21.32  -52.31   14.47    9.90  -56.24
##  [97]   48.17  -29.46   -9.22  -35.51
##   [1]   33.01   82.42   55.81  -56.90  -47.39   15.53    5.46  104.35
##   [9]  -40.05  -41.19   55.54  105.04   29.91  -58.29  -54.32  -45.56
##  [17]  -72.51   -8.15   30.16   25.57  -54.17   58.96  -94.56  132.22
##  [25]   19.92  -76.95  -34.08  -46.49  -23.80   54.78  -64.78 -139.66
##  [33]  -74.88   21.44  -93.89  -50.03    4.72   40.25  -78.31   33.52
##  [41]   68.95   63.64   24.98   29.69  -82.22  -24.46   80.75  -18.61
##  [49]   13.84  -41.70  -20.50   36.91  -22.48 -122.00   -1.15   15.98
##  [57]  -57.73   -4.13   44.45  -62.59   96.03    5.10  119.62   22.23
##  [65]   -1.80  -74.46    8.50   22.55  -75.84   -2.88   76.76   -4.68
##  [73]  -26.19   13.56 -197.44   30.08    8.37  -80.44  -74.87  137.62
##  [81]  -35.17  108.23  -77.88  -43.04    4.13  -54.52   47.23   82.78
##  [89]   42.99  -19.65 -141.00  -22.28   46.28   11.42  -86.84  -51.24
##  [97]   25.68  -53.28   17.37  -24.65
##   [1]  -43.65   -7.77    1.69  -41.54  -96.10   78.78   67.56  -71.80
##   [9]  104.69   -4.26   26.59  -33.42   -7.61   52.45   87.02 -142.63
##  [17]   99.73  -30.98   75.65   42.12  -49.44 -103.49    8.84  -69.05
##  [25]  -15.16  -49.05   51.67  -39.47   94.01  -44.85   14.60   36.35
##  [33]  -49.60 -101.82  -39.35    1.88   27.04  -51.54  -33.62  -31.36
##  [41]   76.84  -69.47  110.74  122.87    6.02  -99.15   64.85  -86.12
##  [49]   61.64  126.59   25.94   36.27 -110.28  -48.10   48.88  -33.29
##  [57]  -25.46  -86.94   66.03 -110.53   15.68 -120.31 -158.50   -0.95
##  [65]  -17.63  -67.05 -168.30   61.31   14.42   39.52  -43.78   98.86
##  [73]   77.72   14.14   19.20  -29.58   64.26   70.63  -56.84   14.42
##  [81]   -6.67   -9.47   68.38   27.15  -15.56  -18.39   83.09  104.68
##  [89]   34.30  119.99   28.04   33.36  121.99  -61.74  158.69   34.36
##  [97]    2.01   19.19   -1.92  -71.89
##   [1] -147.15  -41.90  -41.02  125.81   19.09  189.94 -147.55  -35.17
##   [9] -132.06   31.56 -128.60  112.78   17.61  -87.48  -77.76  -14.02
##  [17]   64.70   89.34  -35.37   63.66   39.75  -49.44    0.95   17.90
##  [25]  -85.07  -88.89  164.14 -212.61   91.78  130.94   55.25  125.71
##  [33]   63.24  110.43   73.82   89.87  -36.31   83.25 -112.36 -106.71
##  [41]  144.84  -40.37  -71.27   -4.51   41.02 -200.63  -60.86   23.04
##  [49]    6.36  131.94  160.34   18.55  -43.53   50.24    0.31   82.34
##  [57]   41.68 -109.32 -126.78   24.73   32.27  158.08 -126.97  -95.32
##  [65]   42.47  113.79   55.66   89.43  -50.39  -67.78   72.84 -127.00
##  [73]   97.80   81.41   13.90   37.81   43.50  -71.62  107.84 -114.82
##  [81]   19.40   55.36  101.39   15.13    2.85  103.50  -39.03  -41.52
##  [89]    8.29  -34.40    7.99 -100.74   12.63  131.38  -78.24 -150.24
##  [97]   10.69   45.84   71.42 -200.20
##   [1]    9.19  236.14   99.29  118.01   -3.58  129.05  114.28  -10.37
##   [9]   35.74   25.01 -187.43  129.02  -19.50  -96.03  -61.84  122.23
##  [17]  -96.67  -44.40    5.13   73.27   14.06  -46.49  169.37   55.02
##  [25]  -81.78  109.11   58.24  143.84   -6.07  -72.66 -207.76   64.80
##  [33]  158.07  -69.72  134.77  -32.99  -36.41 -139.87  -50.98 -100.72
##  [41]  148.02  112.84  226.50   12.42 -194.03  -65.56   26.69   -3.79
##  [49]   23.64 -109.37  -65.66  -58.81  126.92   -7.37  -75.23   62.58
##  [57]   92.97 -202.31 -125.39   14.25   18.57  -77.17  218.03   81.80
##  [65] -112.50   60.34  -23.37   39.13  118.85  -37.92  -93.70    5.71
##  [73]  175.36  -52.86   26.39  -79.20   80.76   40.89  175.44 -156.80
##  [81]  222.36  272.47 -185.57   21.33  167.95  -33.19 -154.19 -114.17
##  [89] -150.80   10.94   35.85  156.75  -67.39   75.67  -72.38 -107.39
##  [97]  -72.25  107.43  -20.25  -52.79
##   [1] -181.73   83.57   66.12   77.42  -76.69  -86.19 -152.94  -67.09
##   [9] -129.24  -85.78   69.69  -40.40  147.26  145.02  -62.09  192.42
##  [17]  -77.32   72.20   92.13  -52.81 -111.70    3.18 -211.24   43.99
##  [25]   26.43   40.79  -13.43   98.39 -149.57 -108.03  199.89  -21.08
##  [33]   78.18   -4.07    8.14  -12.34   73.49  -31.15 -190.28 -237.24
##  [41] -121.08   -1.14  -67.59 -107.93    1.94  117.50   10.77  -79.55
##  [49]   54.56   93.42   -1.99   20.19    3.69  -25.87  117.86   14.46
##  [57]  -79.22  154.83   62.01   86.48 -144.78  -99.30   -8.48  192.48
##  [65]   57.64   80.69  -56.54  139.31   96.08  -26.74  -92.80   56.01
##  [73]  223.36 -144.78   -5.10  -84.38  -97.86 -193.32  282.56 -150.76
##  [81] -102.66 -314.16  -15.55   14.64  269.01 -100.83  -38.06  116.96
##  [89]  134.51  -47.23  -22.72  125.87  108.62 -129.39  -58.64  -53.15
##  [97]  -51.67   -6.05 -115.49    9.33
##   [1]  -16.00  168.10  -53.29   33.32 -113.18  -22.67  -84.95  -20.79
##   [9]  -51.84  -44.53   70.57  -29.74  -23.65  139.87  155.62  -22.96
##  [17] -107.89   49.66 -108.62  138.93   42.14  129.50   99.73   83.21
##  [25]  -16.98  -24.06  -42.92  -95.77  152.97   23.20 -166.98  -43.97
##  [33]   88.31   27.12  113.71  144.41  -21.62 -174.81 -143.62  -35.50
##  [41] -220.33  -31.41  -30.86  -41.76   36.97 -170.76  -40.26 -204.75
##  [49]  -15.83 -280.60   97.72   62.11   84.97  193.30  -62.18  159.78
##  [57]   31.17  213.93  203.82   96.18  -50.43 -261.82 -138.75  -89.34
##  [65]  118.63 -104.59   85.77  -34.34   38.06  -28.86  179.34  -69.16
##  [73]   21.03  -12.13   20.04  -88.43  -80.33 -179.20   -1.76 -118.62
##  [81]  210.62  313.94  -72.73 -146.68  118.83  185.36   63.71   54.76
##  [89]  -29.67   51.79  -70.50  -88.86 -175.97   -9.93  -13.60   56.50
##  [97]  -36.53   80.79 -206.10 -117.37
##   [1] -223.49 -157.36   96.71  160.08  154.11 -152.86 -134.89 -227.52
##   [9]  140.74  112.97  115.66  -13.09  -44.04  273.45  -95.97   -6.92
##  [17]   16.92 -184.54   83.57 -146.72 -168.56 -258.84   13.56   26.89
##  [25]   50.98  131.72 -120.28  -54.02   16.98  131.26   21.51  321.58
##  [33]  188.55  -91.03  -16.12  -82.08 -240.15  -37.00  -22.09   30.21
##  [41]   58.50   43.85  -88.09  116.09 -160.82  244.24  268.70    5.69
##  [49]  -29.70 -136.58  -11.99  -39.05   21.92  276.95    4.21 -354.52
##  [57]   90.04  -10.66 -163.21  154.43  -88.88  127.59 -115.36   26.14
##  [65]   81.52  127.42   33.92  248.53 -153.06  -96.41   21.19   42.41
##  [73]   41.35  180.21  -66.00  -48.53  225.98 -210.97  415.92  -71.79
##  [81]  -32.41   70.18  201.37   19.67  -37.95  -58.60 -125.68   69.63
##  [89]  -37.02   11.30 -126.85  -84.60 -258.42   23.80  186.07  105.04
##  [97]  168.94  237.24  184.20  119.32
##   [1]  195.86    1.56   -5.96  -64.36 -235.33 -328.34 -186.07   78.64
##   [9]  130.13 -141.62  200.63 -133.81  148.59   66.91   86.05  -48.38
##  [17]  -12.71    0.50   79.06 -332.28 -140.39 -251.40  215.10  -48.54
##  [25]  267.04   28.77  -31.54  112.48    8.81  368.86 -177.66 -204.22
##  [33]  217.04  -45.61 -198.76  -16.25  208.59  217.12 -275.43   97.88
##  [41] -109.70   70.67 -233.00   56.98  -15.37  194.57    6.19  143.10
##  [49]  -97.26  188.73  115.04 -122.33 -116.28  105.04  -47.46  -29.66
##  [57]  287.28   20.66  -69.36 -326.18 -346.74 -181.10  -91.45  -90.33
##  [65] -125.03  199.70  104.98  -43.23 -233.81   63.47   47.19  -42.02
##  [73]  -61.60 -429.77  144.68 -102.71 -475.74  119.38   12.92  295.86
##  [81]    0.98  189.96    2.67   -3.21  212.15   75.63  171.49 -157.04
##  [89]  125.19  -62.13  -41.11   16.28  275.66    9.53  -41.06  253.10
##  [97]  -44.40  -85.46    4.15 -196.01
##   [1]   16.57  232.73  115.66   53.40  107.95 -349.12  -28.31  134.83
##   [9]  102.07  -71.14  136.02 -164.37   -7.40  226.15 -112.26  137.90
##  [17]  204.64   15.52  -78.60 -105.20 -205.58  -17.27  -87.87  163.01
##  [25]  117.18  -62.64  -66.58   11.06  177.98  -18.93  170.71  -63.98
##  [33]  141.67  -61.39  270.01 -158.53 -217.62  -29.06  -71.08  -74.24
##  [41]  -80.11  241.67  171.39 -119.94  -34.63  201.02  -82.90 -112.82
##  [49]  265.44  132.66  104.22   32.71   -2.61 -454.68  314.51 -135.93
##  [57]   -0.06 -134.80  -52.00  155.48    9.05   14.40 -101.06   -0.52
##  [65]  372.25 -120.57  105.07   77.99  -25.90   82.24   72.60  219.30
##  [73]  -35.19  169.42  -95.97    6.07  187.87   54.80  197.73  139.53
##  [81]  393.65   77.77   29.84   51.12   92.03 -218.08  -90.55   41.25
##  [89]  131.01   79.00 -244.50   40.10 -160.70  232.89  -68.50  402.16
##  [97]  -91.46   70.15  -81.49  258.53
##   [1] -152.69 -339.62 -193.94 -115.02  -38.52  313.50  250.60  -95.82
##   [9]  -88.22  111.77  -66.80  151.26 -130.06 -280.72  -25.11   53.31
##  [17] -138.89 -202.50    6.32  -28.81 -101.26   51.93    5.49  135.99
##  [25]  -58.47 -111.39   24.97   48.12   21.00  145.78  121.01  280.35
##  [33] -121.28   -8.83  -75.39  -83.35  -99.28  184.54  -88.81 -205.90
##  [41]  221.14  112.54   37.65 -111.88   65.96 -134.26   29.66   97.89
##  [49]  258.46   -0.54 -477.48   46.99 -115.51  -17.94   89.69   -9.30
##  [57]   -5.53  222.25  -26.29  128.42  176.71  -14.58  -58.69 -217.88
##  [65] -121.52  232.09  -53.72 -191.63  -31.91 -364.81  138.61 -212.04
##  [73]  -73.97   24.77   33.86  -77.66 -241.26  172.06 -134.10  -47.33
##  [81]   27.51  -94.15 -134.59  -54.32   58.00  164.96  -43.57   59.54
##  [89] -346.51  -16.79   27.63  268.77  -42.45 -282.70 -217.63 -122.53
##  [97]    3.52  258.59    2.67  243.80
##   [1]  -90.38   32.50 -107.86   84.88  -19.08   14.87   13.31    6.72
##   [9] -175.48   83.49 -319.41    5.60  165.38   10.52  119.82  120.77
##  [17]    8.36   87.21  -77.75   88.26 -164.54  131.98    7.51 -271.72
##  [25]  -39.58  271.51   50.77 -389.78  118.80  241.37   97.23  -14.61
##  [33] -226.28  141.96  -64.49  337.20  226.92 -182.25   -0.84 -269.42
##  [41] -127.43  210.75 -168.63 -146.69   70.63 -313.07   21.39  -16.49
##  [49] -155.44   66.84  289.75   92.93  173.33  -20.23 -191.78 -127.33
##  [57]  252.63   57.78   78.97 -442.01 -101.73 -134.21  -18.33  -17.87
##  [65]   93.35 -164.49  -87.81  137.17  108.22   27.87  242.15 -153.15
##  [73]   72.75  -46.37   81.04 -207.91  -50.58 -395.54  177.77  -45.83
##  [81] -304.08 -140.96  150.97 -426.04  242.80 -192.93   68.54   -5.82
##  [89]  278.78 -113.01  151.76 -155.36 -358.27  125.63  391.21   54.06
##  [97]  179.17 -163.83  -79.74 -133.76
##   [1] -213.74  177.07  130.39   31.50  305.55   47.66  -86.76   -1.83
##   [9]  -82.19 -115.00 -186.56  -99.50  295.88   27.11 -172.14  182.50
##  [17]  115.93   29.23  357.04 -225.91  213.33  -59.92 -206.90   36.66
##  [25]  185.47  -87.42   88.72  159.95  216.02 -131.23  -36.78 -307.39
##  [33]  104.93 -192.71  191.75 -232.55  136.15   82.45  -69.19 -309.13
##  [41]  432.62  200.86  389.64   84.98  260.59  164.78  -91.45  -39.23
##  [49] -236.02    3.93  159.80 -207.96  -23.73    8.20 -105.30  -67.41
##  [57]  112.20  161.63  138.92 -106.89  -40.99 -210.45  102.60 -202.85
##  [65]  218.08  200.12  -29.36  -25.48 -230.57  227.62  202.89  257.34
##  [73]   27.48 -338.87  156.77  137.49 -229.79  -24.25   94.51  175.28
##  [81]  -86.63   16.47   81.75  -91.01 -318.90 -140.71  131.51  109.21
##  [89]  130.83  232.20  -10.56 -152.41  -55.99  488.00   45.20  -25.22
##  [97] -183.35  174.16  -41.81  296.01
##   [1] -288.16 -208.67  248.72  187.52 -449.82 -276.33  -13.83  -54.68
##   [9] -122.47  105.53  198.91  290.08 -151.62  -92.13  153.70  195.68
##  [17]  211.87 -106.16  -11.85   77.22  -61.60   98.69  177.78  129.69
##  [25] -189.10  170.27   77.58   87.77  -75.57   -6.05  104.56   16.62
##  [33] -108.35   52.08   40.01  -79.09   49.44   63.24  215.31 -238.47
##  [41]  100.85  -63.35  -60.17 -121.12  243.82 -167.16 -217.75  106.85
##  [49]  367.35  326.74   14.70  -84.15 -192.28  207.00  -47.41 -125.36
##  [57]  132.67 -188.35    8.12  -44.20   21.62  193.25   85.52 -721.98
##  [65]   89.32  -19.55   -0.01 -204.06  307.26  119.41 -254.13 -244.75
##  [73] -142.67  -85.62  -28.90   75.05 -150.93  134.71 -142.91 -360.02
##  [81]  439.24 -179.65 -156.57  129.75   71.17  -40.61  -71.83  311.74
##  [89] -134.19  209.74  -75.85 -243.18 -125.05   83.98 -124.84  -17.44
##  [97] -202.08   32.34  155.24  188.96
##   [1]  -83.63  -64.37   95.89 -157.09  301.51   49.75  -33.92  692.28
##   [9]   77.46  173.90 -178.39  -58.34  159.42   -2.19 -161.35 -509.87
##  [17]  101.45  450.89  125.73 -498.63  356.12 -108.21  295.92  142.22
##  [25] -273.07 -165.48 -311.35  -62.34  -51.97  409.02  289.84   80.98
##  [33] -117.78  336.90 -189.74  316.97 -292.76  379.98  203.79   44.75
##  [41]  292.59 -522.92  -24.58   40.85   55.10   26.17  -24.19  264.27
##  [49] -439.95  302.57  162.11  480.14  -91.60   59.08  -53.81 -197.80
##  [57]  346.55  -69.17  269.76 -243.78 -321.95   44.77   51.23 -156.29
##  [65]  -80.52   91.64   50.21  -85.32   41.51   74.91   17.13    1.70
##  [73]  -55.21 -131.72  381.10  -61.51  309.86  284.83  265.88 -286.26
##  [81]  135.47 -107.85 -437.18  198.21  165.02 -206.34  172.86  350.52
##  [89]  -93.75   11.72  -24.31  131.53 -296.36  -88.70  602.90   -9.38
##  [97] -474.94  570.55  240.12  208.51
##   [1] -209.82  271.17 -342.60  120.37 -339.73  112.05  368.28 -438.39
##   [9] -560.13 -568.20 -122.08  184.35   82.35   92.33  135.29  -93.02
##  [17]   37.19  -83.80 -191.03  267.65    0.76  119.30   -2.86  161.87
##  [25] -162.52  285.51  249.83   76.24  -87.01  105.73   24.83    9.28
##  [33] -354.53  164.97 -112.73  389.86  307.18  337.55 -219.07  -89.47
##  [41]   84.22 -103.00 -160.01  499.73    6.84  -31.27  370.01 -550.28
##  [49]  301.70  336.16  325.19   36.32  437.19  142.90   63.42  202.41
##  [57] -205.35 -108.92   62.15  646.04  114.58  -15.93  -84.05  182.70
##  [65]   19.14  107.31  -97.88  150.56  156.52  242.14 -203.95  224.63
##  [73]  -70.30  161.17 -175.90  233.93  -87.19  284.63 -163.01   43.18
##  [81] -223.90  -18.09   75.96   83.56 -238.05   15.54  -97.08  154.74
##  [89]  281.32 -433.60  263.99  272.44 -378.70  -40.09  156.33  453.60
##  [97]  656.45  320.82 -316.58  108.26
##   [1]  234.56 -139.06   65.09  493.90  352.15  690.87  179.88  -59.02
##   [9] -158.74  -83.50   46.36  544.94 -214.49  258.02   11.38 -866.01
##  [17]  442.63  562.38  -42.37  382.15 -242.74  143.96   41.35  141.59
##  [25]  185.83 -367.99  -70.44  140.85  155.79   77.91   84.80    7.25
##  [33] -251.97   -0.04   57.23 -501.89  339.92 -206.21 -620.88  -50.64
##  [41] -516.43  226.64  269.57  458.52 -200.44 -110.85  314.97  -86.39
##  [49] -249.34    2.85  -44.14  250.05 -272.72 -103.42 -336.49  -86.23
##  [57]  -53.14  280.90  153.82  -31.52  209.21 -431.81  118.17 -363.23
##  [65]   58.31 -444.56   -1.32  -85.90 -336.35 -416.63  283.07 -254.82
##  [73]  533.69 -124.06   25.02  253.57 -110.57 -517.09  -76.45  394.52
##  [81]  146.60 -230.39 -188.07   -9.21  -68.52 -108.62 -275.95 -121.43
##  [89]    6.72 -120.27 -293.09  120.15  132.85  175.75 -122.07 -238.09
##  [97] -563.85 -222.96  139.34   70.09
##   [1]  -69.22   38.59  228.62   10.14  291.95  -16.92 -209.61 -243.02
##   [9]   65.90    6.09 -494.82    4.30   12.29   -5.70  323.71 -203.38
##  [17] -172.91  276.20 -141.79    2.71  564.19   14.98  174.27 -441.89
##  [25]  -22.82  168.56   74.34  167.54  275.91 -294.09 -263.55  -82.39
##  [33]  -34.83   12.82   27.99 -112.04  465.67   85.92 -402.96 -305.84
##  [41] -369.54  488.03  451.49   91.72 -135.21 -398.34  199.38   -4.73
##  [49]  123.37  112.06  368.08 -172.08 -505.42 -331.48 -253.82   51.28
##  [57] -126.31   39.85   47.65 -364.72  -16.88 -207.28  396.78  -27.12
##  [65]  365.44  -88.32  -46.21  417.50  374.21  140.83   15.34 -292.40
##  [73]  131.25   34.95  -10.79 -126.24 -354.34 -244.17 -171.90  494.50
##  [81] -181.30  180.74   -5.54  176.77 -162.33 -353.34  360.58   46.56
##  [89]  548.02  328.51   -0.63 -258.21   32.97  226.29   58.08  162.65
##  [97] -162.70 -296.88   64.25 -270.18
##   [1] -361.67  177.84  128.37  156.15   89.86  384.29 -176.54 -165.41
##   [9]  250.34 -118.86  310.74 -190.14  269.96 -421.40  274.16  404.71
##  [17] -217.07  397.47 -365.81 -737.11   86.52  407.72   10.09 -142.84
##  [25]  931.37 -548.35 -176.15 -636.36 -270.51  -35.78  494.50  340.23
##  [33] -507.81   42.66  -39.47  414.55  -83.32  367.01   15.94 -249.11
##  [41] -207.15  -45.31 -247.13 -158.74 -253.55  -49.90  227.40 -210.14
##  [49] -183.37 -167.96 -154.15   15.67  597.93 -442.75  327.19  157.31
##  [57]  -30.01 -389.44  -71.31 -175.88 -124.41   90.57 -544.22 -154.80
##  [65]  127.44  308.61   68.34  -26.06   10.61  445.70 -148.79  499.67
##  [73] -210.81 -142.70  -83.87  187.22   20.52  102.64 -188.63 -243.24
##  [81]   38.96 -185.30  616.49   74.13  412.50 -295.85  538.88  280.04
##  [89] -110.02  160.09 -176.34 -129.79  411.28 -251.86  343.55  160.84
##  [97] -138.43 -203.99   17.59  344.36
##   [1]  174.55  437.91   20.92  -98.58 -319.05   26.68  -45.85 -265.13
##   [9]  217.38 -183.15 -219.14 -366.50 -304.78  360.61  -72.63  151.03
##  [17]  -50.32 -205.02  194.77 -346.98 -160.25   50.29 -136.47 -163.46
##  [25] -296.73 -220.90  365.17 -503.61  315.02  -68.76  284.92 -183.51
##  [33]  198.45  234.55  451.38  223.66  -64.53 -180.09  428.07   89.68
##  [41] -345.03  111.97  192.65 -346.04  562.99 -126.87 -205.65 -417.69
##  [49] -167.82   55.59 -150.42  -40.68  219.07  271.15   33.07  -41.07
##  [57]  565.47  531.01 -257.89  -48.83 -288.72   21.68  339.37  775.57
##  [65]   94.27 -365.93  144.57 -194.85  257.04  201.97 -209.80  601.42
##  [73]  353.46  159.10  828.27 -386.77 -159.24 -329.94  128.83 -237.71
##  [81]   87.72  287.12 -289.13 -408.32  -40.31  543.54   23.61 -406.90
##  [89] -832.07  103.27  320.70 -381.04  215.50  269.08   31.51  -74.46
##  [97]  228.76   72.80  -15.40 -108.91
##   [1]  256.69  -22.86  205.11  -70.92 -424.97    9.15  -91.76 -119.30
##   [9]  205.38 -444.66  -15.62 -684.26 -318.19  137.51 -236.88 -188.70
##  [17] -216.53  -86.39  436.35  751.59  -95.51  186.85 -745.89 -166.09
##  [25]  -72.38  -11.71   -0.15   65.95 -107.79  -36.22  210.68  133.68
##  [33] -117.29  -63.25  272.29 -443.37  305.41 -201.52 -109.33 -284.74
##  [41]  157.98  503.64  655.83  420.06  372.51  110.98  867.82  574.79
##  [49] -252.74  318.82 -265.74  -96.38 -394.59 -243.64  527.53  102.18
##  [57]  381.01  188.52 -139.01 -105.24   76.85 -309.01  426.90  316.74
##  [65]  295.58 -298.86  261.26 -145.70  117.89 -209.42    4.42  -85.69
##  [73]  112.95  260.68 -198.16 -331.21  327.79  178.83   43.10 -195.72
##  [81] -316.83 -370.50 -270.41  143.57  -86.83  124.30  463.64  -30.67
##  [89] -273.73 -350.34  101.60 -173.42  -81.69  151.12   25.41   15.58
##  [97] -444.53   38.05 -205.49 -156.61
##   [1]   96.03 -229.72  323.43 -404.91  248.89  200.80  371.48  300.56
##   [9] -458.05 -284.66 -280.04 -376.51  -93.78 -125.45 -242.61  -17.11
##  [17]  -52.35  574.79  129.16  160.22   34.60  378.03 -117.82 -486.77
##  [25] -213.20  394.84  271.64  425.77 -257.26 -277.39 -635.80  478.37
##  [33]  448.73  -71.39 -855.63 -191.62 -409.32  -60.54 -187.70  306.35
##  [41]  330.13 -187.91  472.35  -70.60 -251.61  147.64 -275.52  104.79
##  [49]  615.64 -414.75   39.44 -159.96   76.48 -214.12 -570.85  263.83
##  [57]  350.34 -374.31 -382.22  528.16 -211.22 -509.31 -561.88 -411.15
##  [65]  -39.24 -413.43 -238.27 -212.13 -255.62   62.42  236.82 -693.59
##  [73]   23.16   82.87  403.73  507.54  204.14 -287.31 -103.26  454.35
##  [81]  152.88  210.00  196.39 -277.10  204.01  229.67  -54.77  -51.84
##  [89]   86.35  475.61  459.46 -524.01  202.94 -323.77  187.02 -176.03
##  [97]   78.28  287.35 -145.96 -338.46
##   [1]  276.27 -159.95 -227.19 -260.97  -88.50  312.51  814.34 -167.39
##   [9] -503.97  512.81 -336.86  180.78   88.74 -114.39  284.05 -354.17
##  [17] -492.61  140.75 -221.88  188.80 -552.60 -109.02   67.87 -301.01
##  [25]  -87.72 -388.68 -737.29 -337.83 -200.28 -322.84  356.92  -48.98
##  [33] -185.42  343.08 -852.99  650.68   23.91 -194.36 -266.25  128.24
##  [41]   24.55 -365.40  173.81  -40.78  213.56 -170.26   94.20 -931.18
##  [49]  -39.78 -194.83  203.67  132.60   27.17 -330.95   90.06  512.45
##  [57] -527.82   93.11 -207.93 -154.76   -9.41  291.99  -86.77 -229.09
##  [65]  402.18  170.32  -82.34  472.47 -577.33  686.39  332.19 -378.39
##  [73]  162.85 -117.90  293.26  -99.84 -429.29 -389.34 -462.65 -381.52
##  [81] -374.94   87.95  -25.67 -684.25 -464.87 -321.23 -303.23  -60.86
##  [89] -273.88 -165.64 -307.32 -813.63   33.60 -141.55  185.65 -121.94
##  [97]  175.37   53.18 -376.28  434.89
##   [1]   78.38   58.96   41.14  -59.29 -318.23 -117.68  148.95  106.29
##   [9] -195.79  411.91  606.22  322.52 -310.15 -466.75  501.21 -166.93
##  [17] -422.06 -429.33 -280.66  146.64  -11.15  -41.93 -140.98 -797.78
##  [25]  250.83  481.31 -343.05  -43.36  -70.65  588.96  530.90 -430.16
##  [33]  220.45  177.20  317.40  279.47  297.61  536.31  -64.76  302.06
##  [41]   69.52  626.94 -247.98   -5.11  732.94  584.59  118.03 -553.19
##  [49] -198.45 -486.50   30.44 -416.10 -150.76  348.14 -290.60 -331.41
##  [57]  215.54  410.10  157.03 -136.81  -50.27 -252.44 -163.20 -300.48
##  [65] -110.65  236.18   48.69 -312.97   18.66 -367.22  326.54  256.55
##  [73] -189.68 -769.42 -441.85  732.08 -113.37 -159.67  216.57 -371.08
##  [81] -620.80 -290.31 -149.79  182.43  -78.41 -759.29 -549.41  -53.78
##  [89]  264.98 -351.83 -138.46  682.11  413.91 -131.71  647.51 -552.12
##  [97]  -18.69  507.10 -194.53 -337.82
##   [1] -821.93  116.26  135.39 -253.22   14.43 -818.22  105.38   90.59
##   [9] -342.39  382.27 -255.91  100.81  -93.10  143.50 -254.08  -44.96
##  [17]   20.72 -134.03  126.46 -453.38  451.17 -469.78 -390.10  292.98
##  [25]  330.84  432.81 -291.11 -486.06 -172.15  283.56  265.29 -203.68
##  [33] -282.01  178.32  -69.34 -159.47   12.52  371.72   -8.62 -283.69
##  [41]  723.16  108.46 -179.80    7.89 -175.36 -133.75  357.57  347.24
##  [49]   14.33 -175.35   65.68 -261.79  430.53  238.25  217.98 -249.02
##  [57]  -34.22  633.46 -159.50 -199.92  -52.40 -247.55 -277.53 -374.10
##  [65] -631.52 -171.27  443.86  197.41 -209.83  157.69  -37.05  800.88
##  [73]  201.11  162.53  272.48   21.70  374.40 -132.97  430.00  186.24
##  [81]  -99.80 -395.31  455.42 -455.40  123.41    2.52   24.11 -105.23
##  [89]   80.71  -58.15  -59.42  166.82 -254.38  626.32  134.90 -618.78
##  [97]  426.13  -61.37 -317.32 -144.13
##   [1] -297.53  769.35 -205.95  167.97  163.77  385.58 -158.95  305.94
##   [9]  166.47  666.81 -244.42   91.40 -177.54   97.50  683.53  556.72
##  [17]  373.38 -286.30  242.91 -117.14  -69.37  392.86  231.13 -114.49
##  [25]   62.35  567.08  539.38  686.50  118.18 -496.83  275.86  694.05
##  [33]  159.77   11.51 -106.09  366.83 -215.53  337.67  357.58  254.23
##  [41] -182.28  193.01  143.53 -109.88   92.16  491.60  749.65  515.34
##  [49]  309.43 -538.67 -459.96 -905.81  462.84  -35.78 -366.97   89.88
##  [57] -498.40   51.16  345.44 -778.77 -197.64 -166.02  155.56 -680.45
##  [65]  296.10 -220.04 -125.76  -79.52 -383.04 -111.24  357.09  570.73
##  [73] -440.14 -608.87  692.46  158.18  462.73 -835.17  239.16   72.71
##  [81]  218.97 -364.37  -49.25 -919.26 -175.55 -731.81  294.23  317.61
##  [89] -545.67  434.03  552.15  177.26 -535.61   49.80  335.64   28.96
##  [97] -696.68 -340.57  834.05 -111.57
##   [1]  -735.87  -392.59   222.70  -866.48   176.77   521.99  -355.80
##   [8]   461.91  -355.95   191.28  -317.18  -625.75  -188.22    68.05
##  [15]    89.09   -36.66  -191.14   158.12    27.83  -664.10  -123.40
##  [22]   127.59    58.68  -277.07    45.53  -259.88   301.52   -94.38
##  [29]  -172.55   -78.95   206.63  -655.16   441.47   520.56  -385.22
##  [36]   398.73   -76.88  -274.66   -37.43    37.95  -168.31    81.57
##  [43]   516.65   396.60   -30.82  -218.27  -153.94   -70.38  -292.94
##  [50]   654.42  -288.04    24.32   452.88   182.55   111.97  -207.63
##  [57]  -102.24   287.37  -268.95   201.92   615.41   376.75  -405.05
##  [64]  -127.98   -90.76  -393.02  -302.40  -314.22  -223.15  -559.81
##  [71]  -160.30   399.73  -252.07   406.35  -658.93   221.59   -40.58
##  [78]    15.59  -367.46   459.24  -222.75    93.72  -262.98   167.82
##  [85]   313.48   -32.95  -733.25  -621.48   264.95  -267.06  -250.60
##  [92]  -134.73   213.27   725.78   289.80 -1041.95  -766.67  -241.64
##  [99]  -693.47  -171.86
##   [1]  -430.99   -43.79   -45.32  -315.40  -821.14   409.81  -613.38
##   [8]  -152.55   308.47    51.62  -271.88  -299.94  -547.37  -145.91
##  [15]  -247.80   171.07   294.96   531.28   227.06   -48.88  -157.78
##  [22]  -665.59   301.02    53.04    63.65    31.00   501.56   962.77
##  [29]   483.26  1045.44    30.91   362.20  -131.28  -484.45   543.70
##  [36]   -87.11  -486.96  -229.38   774.33  -416.64   -87.26   -53.70
##  [43]   -75.55   243.28    19.33  -100.87  -557.12  -248.95   320.54
##  [50]  -199.75  -992.60   117.98  -145.59   775.57  -238.74  -362.24
##  [57]   218.83  -928.64    83.94  -187.99   471.27  -104.47   359.47
##  [64]   -42.15  -570.79 -1624.68   423.25   244.96   206.58   -67.13
##  [71]  -197.56   315.03  -794.02  -580.43  -362.46   367.88   -75.85
##  [78]  -176.36   142.86   177.14   -51.73   280.94    76.22  -328.65
##  [85]   497.85   390.01    61.04    -0.14   -63.32  -107.78  -218.77
##  [92]   140.40  -201.59   827.62    -5.41   290.77  -105.22  -307.10
##  [99]    24.28   738.47
##   [1]  156.17  253.45  380.04  557.47 -129.77 -217.78 -185.26  181.60
##   [9]  130.75 -373.64  118.90  643.20  146.99   48.35  233.07  200.52
##  [17]  241.77 -495.19 -705.79 -497.47  632.11  344.48 -114.96  341.99
##  [25]  -68.92  240.24   43.81  106.30 -173.84 -252.32  162.19 -245.27
##  [33] -608.91  460.09  432.82 -323.64  -72.83 -659.01 -316.56  323.98
##  [41] -230.60  103.19 -155.69 -511.83  169.31  150.04 -871.90 -201.11
##  [49]  192.97 -932.85  664.02 -152.85 -123.24  132.03  224.23 -530.29
##  [57] -165.04  265.54  238.26  619.12 -480.03  436.51 -273.18 -554.92
##  [65] -399.25 -141.36 -949.34 -528.12 -219.34 -399.59 -332.31  615.89
##  [73]  301.06  276.23  828.75  401.53  649.47 -321.01 -402.39  -58.30
##  [81]  -46.22 -250.55 -100.58  548.59   16.15 -268.90 -580.49  421.74
##  [89]  185.26 -491.45   20.71  377.90  878.63 -407.23 -174.32   49.57
##  [97]   87.68 -484.14  468.74   78.15
##   [1]   726.41   -20.44  -355.64  -731.60   -69.87   539.24   416.83
##   [8]    -7.19   123.89   113.28  -439.92    90.68  -363.19   282.68
##  [15]   165.25  -235.41   474.28 -1026.16   658.19   183.01   383.78
##  [22]  -772.68  -213.38   246.10  -223.72  -337.92   465.99   184.67
##  [29]  -254.17   176.53   289.02   415.92   -12.48   153.99  -142.16
##  [36]   494.95  -573.59   532.55  -265.12   428.92  -325.95   300.82
##  [43]  -244.54   -64.18  -491.85  -235.72  -111.75   275.51   309.28
##  [50]   -94.96    -5.12  -255.09    38.73  -669.73   118.18   -75.01
##  [57]   257.73   437.67   259.64  -495.08   334.82   481.06  -229.00
##  [64]   683.80    49.80   249.09  -145.85  -435.77   371.35   306.44
##  [71]   352.81  -100.45    16.40   553.46  -490.67   670.50   408.63
##  [78]  -108.64  -189.32  -192.30  -444.26  -820.54   222.79  -515.50
##  [85]  -171.15     4.20  -133.88   229.64   -77.97    98.44  -516.24
##  [92]   205.10  -448.68  -402.73   408.45   366.68  -113.14    49.58
##  [99]    75.77  -462.67
##   [1]   193.52  -238.28  -568.83  -303.38   588.23   -95.32  -986.67
##   [8]   224.14  -685.97   -17.91     7.85   366.78  -314.69    93.26
##  [15]  -351.60   139.11 -1041.57   192.98   290.13   213.39  -350.43
##  [22]   640.60     5.18   259.22  1106.18   190.47   426.71   405.12
##  [29]  -574.26  -436.17   222.22   380.39   144.76  -106.41   532.67
##  [36]   864.32  -197.90   -35.88   -33.54  -144.35   223.14   364.48
##  [43]   -68.36  -954.35   679.89  -159.31   145.23  -475.56  -274.56
##  [50]   103.60  -385.87    25.47  -190.65   253.19  -379.24    19.77
##  [57]    86.35   -27.36    42.69   228.27   597.95   282.95   494.07
##  [64]  -516.19   666.75   142.42  -494.16  -244.46  -115.05   643.95
##  [71]   221.29  -267.05  -454.68  -195.07  -343.05  -232.91   367.26
##  [78]   183.19  -340.53   477.82   143.21  -426.29  -489.17  -101.97
##  [85]   223.02   -47.85  -642.47   -90.83  -398.05   -43.22  -409.00
##  [92]  -325.55   366.85  -432.20   406.63   151.98 -1145.29   688.23
##  [99]    59.87   -59.61
##   [1]    79.42  -751.76    -8.59   768.42   -21.78  -419.56   262.96
##   [8]   674.76  -403.33  -264.52   420.66   108.00  -214.65    34.74
##  [15]   474.26   807.96  -773.09   577.22   175.19  -478.21   106.56
##  [22]  -108.73   351.56  -610.63    26.68  1168.89   147.30    92.54
##  [29]   -38.79   574.03  -141.69  -449.29  -306.21   683.59   122.02
##  [36]  -324.43 -1040.48 -1318.39   390.66   257.42  -644.26   262.79
##  [43]   616.51  -260.20   413.63  -457.96   385.44  -697.03   572.70
##  [50]   343.76    22.36  -522.42  -409.26  -151.13  -114.46  1216.25
##  [57]   251.85   788.52   -40.31  -174.17  -213.94  1083.10    63.26
##  [64]    18.82  -575.10   363.12   -90.65   373.25     7.45  -527.69
##  [71]    64.41  1053.70  -220.31   324.77    78.45   104.58   -38.29
##  [78]    57.68  -356.99  -412.31  -877.44   -20.71   696.37   220.57
##  [85]  -506.39  -392.51   428.71   479.46   166.80    -2.08   339.54
##  [92]   -43.03  -344.48   625.24  -136.68  1112.63   504.98   412.00
##  [99]   149.97  -413.29
##   [1]  -124.23   455.16  -394.44   999.18   237.12   247.92  -335.16
##   [8]   678.91    34.91  -178.95  -359.30 -1010.40   549.93  -378.38
##  [15]  -592.89  -642.65   741.71    90.55     6.68   113.58   104.53
##  [22]   432.79   124.81  -306.17   396.36   380.69  -397.28  -109.04
##  [29]   -41.37  -579.27  -586.55  -434.31   285.83  -465.12    59.46
##  [36]   519.56   347.59  -481.68   147.87   659.83 -1087.73  -664.32
##  [43]   410.68   164.70   191.64   232.53  -424.97   720.27   326.88
##  [50]  -130.60  -144.11   157.46     4.28    33.07  -163.71   127.18
##  [57]  -782.06   342.33  -488.94    82.31  -289.61   481.14  -353.46
##  [64]  -640.37    64.21   -34.66  -650.03   313.07  -345.43  -380.82
##  [71]  -746.53   548.51  -192.45  -471.28  -387.68  -301.77   509.26
##  [78]  -598.05  -724.83  -227.62   115.88  -467.78  -267.13   -35.68
##  [85]   354.01  -190.21   471.53 -1108.93   -70.28   205.48  -120.28
##  [92]   -45.15   -75.71  -285.96   513.67    53.49  -655.93  -256.44
##  [99]   433.24   529.26
##   [1]  689.63  -76.52  425.44  205.71   23.87  136.71  622.86 -267.63
##   [9]  493.33 -259.24  -74.86  147.80 -228.25  586.65 -691.95  439.67
##  [17] -458.17 -190.66 -573.04   13.25  -34.71  648.65  500.52  232.69
##  [25] -203.43 -124.60 -650.50 -291.60 -239.71  857.75  437.69   71.13
##  [33]  217.69  893.95  126.16 -147.36 -529.20  141.74 -677.67  -68.39
##  [41]  593.32  -55.05 1037.89 -428.15 -434.41  399.36 -327.36 -162.08
##  [49] -248.80   96.70  305.91 -334.99 -427.63  299.77 -321.50  722.06
##  [57] -272.08 -484.42 -434.24  376.16 -272.41  517.20  618.29  -12.45
##  [65]  633.73 -425.76 -849.53  107.51  312.53 -492.01  725.23  408.39
##  [73] -296.41 -708.29   55.45   92.91  340.16 -829.23  439.26   29.77
##  [81] -262.52  443.52  122.30 -541.00  239.44  275.03   39.68 -603.56
##  [89]   42.95 -221.20  120.95  313.69 -150.79 -682.29 -862.69 -434.51
##  [97]  264.33   36.55 -227.27 -588.79
##   [1]   538.42  -354.23  -267.74   -13.45   -77.46   620.83  -125.02
##   [8]  -310.80  -185.57   728.50  -274.23   875.27    95.11   105.27
##  [15]    88.57   151.66  -438.46   354.63   663.27  -837.85    26.00
##  [22]   -50.19   -58.70   -51.33  -552.18  -289.16   256.87   -26.96
##  [29]   -46.99   680.38   192.48  -750.23  -346.06   122.73  -478.61
##  [36]  -270.96  -369.63  -243.64  -136.03   108.97   142.65   419.08
##  [43]  -287.19  -808.81   399.49    99.30  1322.74   496.12    52.11
##  [50]   711.13  -108.90 -1181.98    10.99   899.12  -589.24   -67.82
##  [57]  -691.41  -269.73  -185.81   -87.04  -580.41  -288.13   982.90
##  [64]  -241.39  -141.07   822.11  -159.74   237.16  -342.38  1894.17
##  [71]  -793.39    -6.88  -134.15  -455.37  -213.76   417.28  -753.37
##  [78]   354.58  -537.90   385.06    92.17   -60.87   -39.78   165.11
##  [85]  -487.98   326.90   462.93  -301.56  -577.14  -373.94  -523.72
##  [92]   141.58  -598.76    -8.39   379.99    95.93   300.17  -303.94
##  [99]   205.36  -224.67
##   [1]  -621.79   -51.41  -585.20   894.53  -362.54  -151.51   132.54
##   [8]  -832.48   378.53  -106.01  -150.08  -156.91  -759.52   401.39
##  [15]   139.12   388.11   414.83   884.10  -481.35  -828.92   941.20
##  [22]   632.65   243.18   214.96    70.36  -600.00   551.23  -305.21
##  [29]   585.74  -320.22    32.85   425.28  -251.16  -768.61  -132.65
##  [36]  -494.25   190.36  -355.08  -530.06  -108.35  -351.70   666.88
##  [43]  -592.25   380.79   201.33  -362.79   242.85  -250.35  -189.56
##  [50]   368.82  -404.20  -288.16   266.05   308.50  1168.07   119.19
##  [57]  -311.55   218.84   408.05  -616.21  -895.69   446.51  -578.06
##  [64]  -214.37  -487.01  -514.69 -1080.71  -614.72 -1376.15  -251.92
##  [71]  -437.27  -704.21   -54.13  -644.54   563.72   619.53  -191.88
##  [78]   227.21   308.89   228.53   597.66  -136.32   245.08   803.02
##  [85]   582.26  -261.22   -47.87  -731.75  -309.39  1357.97   141.41
##  [92]   220.55  -662.12   229.65  -138.12  -615.01   217.13  -200.78
##  [99]  -222.35   375.82
</code></pre>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>Storing random variables</h2>
  </hgroup>
  <article data-timings="">
    <h1>A bit of a convoluted nested for loop</h1>

<pre><code class="r">m &lt;- matrix(rep(NA, 40*100), ncol = 100)

for(i in 1:40) {
    for(j in seq(0, 500, length.out = 40)[i]) {
        m[i, ] &lt;- rnorm(100, 0, j)
    }
}
head(m)
</code></pre>

<pre><code>##           [,1]       [,2]       [,3]       [,4]        [,5]     [,6]
## [1,]   0.00000   0.000000   0.000000   0.000000   0.0000000  0.00000
## [2,]  17.15808  -2.476363  -7.358526  12.281141  -0.8602777 15.65838
## [3,] -29.57301 -22.316825  21.276769   6.215364   7.5869387 31.71108
## [4,]  18.53503 -16.803256 -11.159468 -22.309801 -85.0600147 34.85136
## [5,] -10.58283  88.295955   7.962968  40.578377  34.0025056 51.74244
## [6,] 142.92708  36.176127 -59.918253  57.606241 113.7885382 32.45456
##            [,7]       [,8]       [,9]       [,10]     [,11]       [,12]
## [1,]   0.000000   0.000000   0.000000    0.000000   0.00000    0.000000
## [2,]   7.754137  -4.085729  16.419953   -1.067967 -22.65132    3.831958
## [3,]  -2.879273  -3.803274  -7.679799   13.083020 -19.87236   25.497315
## [4,]  20.833841 -23.193353 -57.338818   23.371369  13.21156   14.264091
## [5,] -54.621837   7.962333  31.574667  -44.199491  20.49615 -104.207346
## [6,] -22.018950 -67.238024   6.935963 -101.350406 -40.22205  -41.801909
##          [,13]     [,14]      [,15]     [,16]      [,17]       [,18]
## [1,]   0.00000   0.00000  0.0000000   0.00000   0.000000   0.0000000
## [2,] -17.47663 -11.15149  5.0295168  12.37988   4.149750   0.7932756
## [3,] -27.75584  47.61907  9.5175103 -25.49762 -24.056006 -10.8596950
## [4,] -18.55512 -30.70568 46.4126933  23.44447  20.425015   3.3375555
## [5,] -94.42404  -9.13566 44.6972395 -63.17979  94.838323  21.1853377
## [6,]  52.55140 111.78782  0.3802697 158.75291  -8.772762 -84.6013313
##          [,19]     [,20]      [,21]      [,22]     [,23]      [,24]
## [1,]   0.00000   0.00000   0.000000   0.000000   0.00000   0.000000
## [2,]  26.33389  15.21580 -12.655559   1.235258  11.75409   8.026788
## [3,]  20.15364  11.70060  -2.773402  20.868388   7.80084 -22.665198
## [4,]  33.01048 -19.46735 106.327788 -54.447038 -45.72678  35.152876
## [5,]  69.66991 -40.78722   5.800490   8.607129  22.84946 -11.562577
## [6,] -22.30786  46.56020 -14.016755   4.241410 -13.21229  21.882165
##           [,25]      [,26]     [,27]      [,28]     [,29]        [,30]
## [1,]   0.000000   0.000000  0.000000   0.000000   0.00000    0.0000000
## [2,]  -4.115039  11.163307  2.525500  -2.502326 -32.29864    4.4710929
## [3,]  12.782674 -29.367098 -3.060861 -23.673603  14.94229  -15.9132681
## [4,] -52.403778  -4.723491 64.100344 -11.580986  80.83909    9.7663595
## [5,]  57.519076 -32.434054  9.021932  24.691411  28.89675    0.3531922
## [6,]  60.358654 -49.331043 50.952610  12.593758  18.29170 -103.1041200
##             [,31]      [,32]      [,33]     [,34]     [,35]      [,36]
## [1,]   0.00000000   0.000000    0.00000   0.00000   0.00000   0.000000
## [2,]  -0.05241057   9.413437  -13.47833   6.59815 -15.25603   9.682837
## [3,]   4.23357017 -43.837033   -7.46568  24.57277  19.31753 -32.498472
## [4,]  41.26399941 -43.532440  -38.36194 -29.66669 -14.11129 -20.897922
## [5,]  18.44821728  90.863470  -19.53769 -28.50761 -62.98439 -66.957153
## [6,] -50.50702471  55.829979 -113.19472  91.80506 106.55223  31.971720
##           [,37]     [,38]      [,39]       [,40]      [,41]      [,42]
## [1,]   0.000000  0.000000   0.000000   0.0000000   0.000000    0.00000
## [2,]  -3.962685  3.739141 -12.494549  -1.8385578  -2.185439  -10.70331
## [3,]  76.710870  0.640596  -3.746091  52.9588555 -35.682527    2.25487
## [4,] -20.011418  8.051758  29.967052 -35.2045320 -61.853193  -30.41773
## [5,]  30.616615 -9.743057  21.688975   0.5722465  20.826355  118.77869
## [6,]  79.199868 46.052201 -74.081697  -8.7180620 -27.695978 -105.77708
##           [,43]      [,44]      [,45]      [,46]       [,47]      [,48]
## [1,]   0.000000   0.000000   0.000000   0.000000   0.0000000   0.000000
## [2,]  -3.782900 -10.592171 -18.911698 -21.600728   1.1818437   2.687921
## [3,]  -5.989716   2.973968  -3.760434  -2.597685 -31.0319979 -49.444781
## [4,]  10.457835 -59.598572 -35.303827  20.511160  22.8735003 -26.893173
## [5,]  -5.193724  -9.774633 -13.470008 140.862895 -16.4097434 -36.871211
## [6,] -56.166813 -30.783420 -82.042172  31.664132   0.4228221  11.126238
##           [,49]      [,50]     [,51]      [,52]      [,53]       [,54]
## [1,]   0.000000   0.000000   0.00000   0.000000   0.000000    0.000000
## [2,]   1.771754 -13.766496  22.81198   8.621292  19.628213  -15.450741
## [3,] -38.655837  -2.349381 -37.75027 -18.249975 -12.287742   16.731539
## [4,] -14.930612 -41.210782  53.42359 -57.226582  -9.497171    2.905126
## [5,]  34.182831 -18.091879 -26.69083  25.232165  67.377391 -107.159453
## [6,] 160.579530  -3.647247 -33.86951 -33.198970 -76.588762  -34.987525
##           [,55]      [,56]       [,57]      [,58]      [,59]     [,60]
## [1,]   0.000000   0.000000   0.0000000   0.000000   0.000000  0.000000
## [2,]  -6.244333   6.614586  -0.3272225 -13.870368  -4.056573 12.397017
## [3,]   2.536589  43.639619 -72.4292586 -32.529256 -23.884756 27.370369
## [4,] -14.850118  71.687908  30.8552234   8.351372  -4.943059 58.816267
## [5,] 115.625513 -67.509315 -29.0467835  18.750252  41.446148 -4.147892
## [6,]  47.770808 -18.128004 -55.5351603  73.615307 -70.662788 47.994835
##          [,61]      [,62]      [,63]     [,64]      [,65]     [,66]
## [1,]   0.00000   0.000000   0.000000   0.00000   0.000000   0.00000
## [2,]  11.79386  -9.652259   6.410428  14.68887   5.732915   3.91944
## [3,] -16.13403  40.444122  11.319779  43.33212  -7.499725  26.28687
## [4,]  33.62916  25.186366  -1.299195 -59.00115 -23.203315  36.80670
## [5,] -86.40499 -97.368797 105.540262 113.82389   5.540282 -40.78750
## [6,] -32.30602  66.096188 -88.129310 -52.73091 113.935763 -17.19966
##          [,67]      [,68]      [,69]      [,70]      [,71]      [,72]
## [1,]   0.00000   0.000000   0.000000   0.000000   0.000000   0.000000
## [2,]  19.40138 -10.657306   9.682225  -6.878207   9.273745 -12.648079
## [3,]  10.31016 -20.744902   5.158438  17.902435   8.467144  19.198787
## [4,] -45.07168   3.138525  -7.480459  14.646691  -5.240594  33.874550
## [5,]  50.35244  18.554273 -20.673079 -16.445215  25.309916  -8.616302
## [6,]  28.84871 -72.542504 -75.317182  -3.724335 -48.915151  13.272865
##          [,73]      [,74]       [,75]     [,76]       [,77]        [,78]
## [1,]   0.00000   0.000000   0.0000000   0.00000   0.0000000   0.00000000
## [2,]  10.99860   6.766805  -2.2350550  19.38627   0.3159278  -0.02375048
## [3,]  14.21538  49.196415   0.2145765 -11.90549 -35.9261008 -16.88388087
## [4,] -60.93910 -13.518774 -44.6877067 -38.56387  15.0067949  20.70332618
## [5,] -46.56150  48.635003 -35.7468876  50.39779  38.4588658 -21.51616453
## [6,] -22.69998  83.866920 -16.9944907  52.53072  79.3795117  61.43186761
##           [,79]     [,80]      [,81]      [,82]      [,83]       [,84]
## [1,]   0.000000   0.00000   0.000000   0.000000   0.000000   0.0000000
## [2,] -10.872574 -14.67650 -16.627459   2.469706   5.446098   4.6529434
## [3,]  39.067696  -2.17323  10.835446  17.018164  14.717397  -0.5121756
## [4,] -56.229027  20.28831   3.389371  24.680535  45.632009  24.9739995
## [5,] -21.581824 -54.94966  10.097625 -27.776653 109.141656  11.6353262
## [6,]   5.849308 -74.82934  29.514471  17.491537  46.572901 -50.0061444
##           [,85]      [,86]      [,87]      [,88]      [,89]      [,90]
## [1,]   0.000000  0.0000000   0.000000   0.000000   0.000000   0.000000
## [2,]  -4.743696 15.8144526  -4.208566  -6.029826   2.290216  -8.931408
## [3,] -20.737213 -5.2267919 -17.751596 -10.400145 -30.313620   4.530087
## [4,] -17.574236 -5.7107987 -25.942664  26.342416 -50.383434  -4.894678
## [5,]  21.379629 50.2659099 -44.113235 -48.851003 -57.536742 -14.141358
## [6,]  58.904847  0.3572754  24.447567 -74.486502  12.955289  83.345157
##           [,91]      [,92]      [,93]     [,94]      [,95]      [,96]
## [1,]   0.000000   0.000000   0.000000   0.00000   0.000000   0.000000
## [2,]   9.361034  -9.558861  -9.303856  13.59591 -11.872855  -3.992232
## [3,]  -3.328390 -36.695392 -11.451326 -10.40748   6.556257  21.822743
## [4,] -32.439666   8.914194  22.090450 -21.95757 -28.674349  28.626433
## [5,]   9.266969   8.171904   8.649397 -18.46903 105.515217  20.251799
## [6,]  13.433058  -8.668205 124.258005  40.04737  52.289861 -88.377501
##           [,97]      [,98]     [,99]     [,100]
## [1,]   0.000000   0.000000   0.00000   0.000000
## [2,]  -7.193925   7.671864  28.90202   8.666876
## [3,] -23.786832  33.810524   4.20925  -1.427832
## [4,]  13.136089  26.876882  63.01565  34.997857
## [5,]  87.268415 -27.331002 -25.87545 -40.198359
## [6,] 121.971434 -23.925800 -53.28089 -19.412959
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Use the results for plotting</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">plot(-100:100, 
    seq(0, 0.02, 
        length.out = length(-100:100)), 
    type = &quot;n&quot;,
    xlab = &quot;Simulated value&quot;,
    ylab = &quot;Density&quot;,
    main = &quot;100 Random Normal 
    Draws w/Same Mean and Varying SDs&quot;)
for(i in 2:nrow(m)) {
    lines(density(m[i, ]), col = &quot;gray&quot;)    
}
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/unnamed-chunk-19-1.png" alt="plot of chunk unnamed-chunk-19"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>A few more plotting examples</h2>
  </hgroup>
  <article data-timings="">
    <h1>Display likelihood of data, given a distribution: Half-Cauchy</h1>

<div style='float:left;width:48%;'>
  <pre><code class="r">data &lt;- seq(0, 10, .1)
plot(x = data, 
    y = seq(0, 0.6, 
        length.out = length(data)), 
    type = &quot;n&quot;,
    ylab = &quot;Density&quot;,
    main = &quot;Half-Cauchy Distribtuion&quot;)
for(i in seq(0.5, 10, by = 0.5)) {
    lines(x = data, 
        y = dcauchy(data, 0, i), 
        col = &quot;gray&quot;)
}
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/unnamed-chunk-21-1.png" alt="plot of chunk unnamed-chunk-21"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Student&#39;s \(t\)</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;'>
  <pre><code class="r">data2 &lt;- seq(-5, 5, length.out = 100)
plot(x = data2, 
    y = seq(0, 0.4, 
        length.out = length(data2)), 
    type = &quot;n&quot;,
    ylab = &quot;Density&quot;, 
    main = &quot;Standard Normal vs 
        t-Distribution&quot;)

for(i in 1:20) {
    lines(x = data2, 
        y = dt(data2, i), 
        col = i)
}

lines(x = data2, y = dnorm(data2, 0, 1), 
    lwd = 3, lty = 2)
</code></pre>

</div>
<div style='float:right;width:48%;'>
  <p><img src="assets/fig/unnamed-chunk-23-1.png" alt="plot of chunk unnamed-chunk-23"></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>One last for loop example</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Load the beer data, fit a regression within each brewer between style and
overall score. </li>
<li>Plot all the regression lines on one plot to get a sense of the intercept
and slope variability.</li>
</ul>

<pre><code class="r">beer &lt;- read.delim(&quot;./data/ratebeer_beerjobber.txt&quot;)
head(beer)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 2                  Abbey Monks Tripel Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 2            Abbey Tripel 8.0       3            NA             NA
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Fitting a regression model within each brewery</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>First, remove cases with missing data on <code>score.overall</code> or 
<code>score.by.style</code>. </li>
</ul>

<pre><code class="r">beer &lt;- beer[!is.na(beer$score.overall) &amp; !is.na(beer$score.by.style), ]
head(beer)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
## 8          Alameda Klickitat Pale Ale    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
## 8       American Pale Ale 5.3      61            75             67
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <article data-timings="">
    <ul>
<li>Second, subset the data to only breweries with at least 3 beers (this is a
really convoluted way of doing it, but works with the topics we&#39;ve discussed so far. <code>tapply</code> would be a much better approach, which we&#39;ll talk about shortly).</li>
</ul>

<pre><code class="r">splitd &lt;- split(beer, as.character(beer$brewer)) # overide factor

nBeers &lt;- data.frame(brewer = unique(beer$brewer), 
                     nBeers = rep(NA, length(unique(beer$brewer))))

for(i in seq_along(splitd)) {
    nBeers$nBeers[i] &lt;- nrow(splitd[[i]])
}
beer &lt;- merge(beer, nBeers, by = &quot;brewer&quot;, all = TRUE)
head(beer)
</code></pre>

<pre><code>##                   brewer                                name
## 1 Abbey Beverage Company                     Abbey Monks Ale
## 2 Abbey Beverage Company                     Abbey Monks Wit
## 3    Alameda Brewing Co. Alameda Barn Owl Imperial Brown Ale
## 4    Alameda Brewing Co.         Alameda Black Bear XX Stout
## 5    Alameda Brewing Co.       Alameda El Torero Organic IPA
## 6    Alameda Brewing Co.          Alameda Klickitat Pale Ale
##                     style abv ratings score.overall score.by.style nBeers
## 1             Belgian Ale 5.2      96            50             49      2
## 2 Belgian White (Witbier) 5.1      46            23             19      2
## 3               Brown Ale 7.9      13            74             81      6
## 4           Foreign Stout 6.8     172            94             76      6
## 5    India Pale Ale (IPA) 7.2      56            74             43      6
## 6       American Pale Ale 5.3      61            75             67      6
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <hgroup>
    <h2>Finally, subset the data and fit each regression model</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">beer &lt;- subset(beer, nBeers &gt; 2)

regList &lt;- vector(&quot;list&quot;, length(unique(beer$brewer)))
coefs &lt;- vector(&quot;list&quot;, length(regList))

for(i in seq_along(regList)) {
    regList[[i]] &lt;- lm(score.overall ~ score.by.style, 
        data = beer, 
        subset = beer$brewer == unique(beer$brewer)[i])

    coefs[[i]] &lt;- coef(regList[[i]])
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h2>Now plot all the regression lines</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(beer$score.by.style, beer$score.overall, 
    type = &quot;n&quot;, 
    xlab = &quot;Style Score&quot;, 
    ylab = &quot;Overall Score&quot;, 
    main = &quot;Variability in Style and Overall Scores by Brewery&quot;)

for(i in seq_along(coefs)) {
    abline(a = coefs[[i]][1], b = coefs[[i]][2], 
        col = i)
}
for(i in 1:nrow(beer)) {
    points(beer$score.by.style[i], beer$score.overall[i],
        pch = 21, 
        col = as.numeric(beer$brewer)[i],
        bg = as.numeric(beer$brewer)[i])
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-25" style="background:;">
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-29-1.png" alt="plot of chunk unnamed-chunk-29"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-26" style="background:;">
  <hgroup>
    <h2>Summary on for loops</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Very general</li>
<li>Some say they are slower 

<ul>
<li>(They&#39;re wrong, see <a href="https://kbroman.wordpress.com/2013/04/02/apply-vs-for/">https://kbroman.wordpress.com/2013/04/02/apply-vs-for/</a>)</li>
</ul></li>
<li>Pretty intuitive</li>
<li>Have limitation (initializing objects, etc.)</li>
<li>Lots of other kinds of loops (outside of the apply family, which we&#39;ll talk
about next) exist outside of for loops (e.g., while, repeat)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-27" style="background:;">
  <hgroup>
    <h1>apply family of loops</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-28" style="background:;">
  <hgroup>
    <h2>Some basic background</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>The apply family of loops are exceptionally useful, and can often speed up
your code.</li>
<li>Advantages over for loops include

<ul>
<li>No need for initialization of objects</li>
<li>Automatic indexing of an object (if you want)</li>
<li>Simplification of results (can be a massive benefit)</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-29" style="background:;">
  <hgroup>
    <h2>apply</h2>
  </hgroup>
  <article data-timings="">
    <p>Each of the members of the apply family function a little bit differently. The <code>apply()</code> function is probably the most straight forward.</p>

<div align = "center">
<img src = ../assets/img/apply.png width = 1000 height = 600>
</div>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-30" style="background:;">
  <hgroup>
    <h2>Examples of <code>apply()</code></h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">m &lt;- matrix(1:12, ncol = 4)
m
</code></pre>

<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    4    7   10
## [2,]    2    5    8   11
## [3,]    3    6    9   12
</code></pre>

<pre><code class="r"># Mean of each row
apply(m, 1, mean)
</code></pre>

<pre><code>## [1] 5.5 6.5 7.5
</code></pre>

<pre><code class="r"># Mean of each column
apply(m, 2, mean)
</code></pre>

<pre><code>## [1]  2  5  8 11
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-31" style="background:;">
  <hgroup>
    <h2>A few more examples: LSAT data</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">lsat &lt;- read.csv(&quot;./data/LSAT_theta.csv&quot;)
head(lsat)
</code></pre>

<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5 Obs      Exp        z1     se.z1
## 1      0      0      0      0      0   3 2.277412 -1.895344 0.7954828
## 2      0      0      0      0      0   3 2.277412 -1.895344 0.7954828
## 3      0      0      0      0      0   3 2.277412 -1.895344 0.7954828
## 4      0      0      0      0      1   6 5.860769 -1.479314 0.7960948
## 5      0      0      0      0      1   6 5.860769 -1.479314 0.7960948
## 6      0      0      0      0      1   6 5.860769 -1.479314 0.7960948
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-32" style="background:;">
  <hgroup>
    <h2>Calculate raw scores</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">lsat$raw &lt;- apply(lsat[ ,1:5], 1, sum) # Only item-level data
head(lsat)
</code></pre>

<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5 Obs      Exp        z1     se.z1 raw
## 1      0      0      0      0      0   3 2.277412 -1.895344 0.7954828   0
## 2      0      0      0      0      0   3 2.277412 -1.895344 0.7954828   0
## 3      0      0      0      0      0   3 2.277412 -1.895344 0.7954828   0
## 4      0      0      0      0      1   6 5.860769 -1.479314 0.7960948   1
## 5      0      0      0      0      1   6 5.860769 -1.479314 0.7960948   1
## 6      0      0      0      0      1   6 5.860769 -1.479314 0.7960948   1
</code></pre>

<pre><code class="r">table(lsat$raw)
</code></pre>

<pre><code>## 
##   0   1   2   3   4   5 
##   3  20  85 237 357 298
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-33" style="background:;">
  <hgroup>
    <h2>Calculate p values</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">apply(lsat[ ,1:5], 2, mean, na.rm = TRUE)
</code></pre>

<pre><code>## Item.1 Item.2 Item.3 Item.4 Item.5 
##  0.924  0.709  0.553  0.763  0.870
</code></pre>

<p>Notice that additional arguments to the function (in this case <code>mean</code>) just
  get passed as additional arguments to <code>apply()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-34" style="background:;">
  <hgroup>
    <h2>One more example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">att &lt;- read.delim(&quot;./data/attitude.txt&quot;)
head(att)
</code></pre>

<pre><code>##   rating complaints privileges learning raises critical advance
## 1     43         51         30       39     61       92      45
## 2     63         64         51       54     63       73      47
## 3     71         70         68       69     76       86      48
## 4     61         63         45       47     54       84      35
## 5     81         78         56       66     71       83      47
## 6     43         55         49       44     54       49      34
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-35" style="background:;">
  <hgroup>
    <h2>Center all but <em>learning</em> (which we&#39;ll say is our outcome)</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">center &lt;- function(x) x - mean(x, na.rm = TRUE) # write the centering function
att2 &lt;- att # copy dataset
att2[ ,-4] &lt;- apply(att[ ,-4], 2, center) # apply the function to all but the 4th column
head(att2)
</code></pre>

<pre><code>##       rating complaints privileges learning     raises   critical
## 1 -21.633333      -15.6 -23.133333       39  -3.633333  17.233333
## 2  -1.633333       -2.6  -2.133333       54  -1.633333  -1.766667
## 3   6.366667        3.4  14.866667       69  11.366667  11.233333
## 4  -3.633333       -3.6  -8.133333       47 -10.633333   9.233333
## 5  16.366667       11.4   2.866667       66   6.366667   8.233333
## 6 -21.633333      -11.6  -4.133333       44 -10.633333 -25.766667
##     advance
## 1  2.066667
## 2  4.066667
## 3  5.066667
## 4 -7.933333
## 5  4.066667
## 6 -8.933333
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-36" style="background:;">
  <hgroup>
    <h2>Check that centering worked</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">round( apply(att2, 2, mean, na.rm = TRUE), 2)
</code></pre>

<pre><code>##     rating complaints privileges   learning     raises   critical 
##       0.00       0.00       0.00      56.37       0.00       0.00 
##    advance 
##       0.00
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-37" style="background:;">
  <hgroup>
    <h2>Summing rows</h2>
  </hgroup>
  <article data-timings="">
    <p>The following are equivalent</p>

<pre><code class="r">apply(att, 1, sum)
</code></pre>

<pre><code>##  [1] 361 415 488 389 482 328 392 428 478 403 387 387 373 450 482 443 513
## [18] 460 444 424 297 426 401 333 381 508 492 366 518 443
</code></pre>

<pre><code class="r">rowSums(att)
</code></pre>

<pre><code>##  [1] 361 415 488 389 482 328 392 428 478 403 387 387 373 450 482 443 513
## [18] 460 444 424 297 426 401 333 381 508 492 366 518 443
</code></pre>

<p>However, <code>rowSums</code> is optimized for speed (but it often doesn&#39;t have a huge
  practical impact)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-38" style="background:;">
  <hgroup>
    <h2>Summing columns</h2>
  </hgroup>
  <article data-timings="">
    <p>The same rules apply for summing collumns. The following are equivalent</p>

<pre><code class="r">apply(att, 2, sum) 
</code></pre>

<pre><code>##     rating complaints privileges   learning     raises   critical 
##       1939       1998       1594       1691       1939       2243 
##    advance 
##       1288
</code></pre>

<pre><code class="r">colSums(att)
</code></pre>

<pre><code>##     rating complaints privileges   learning     raises   critical 
##       1939       1998       1594       1691       1939       2243 
##    advance 
##       1288
</code></pre>

<p>but <code>colSums</code> is, again, optimized for speed</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-39" style="background:;">
  <hgroup>
    <h2>Column and row means</h2>
  </hgroup>
  <article data-timings="">
    <p>No examples, but just a note that <code>colMeans()</code> and <code>rowMeans()</code> are equivalent
  optimized versions of <code>apply()</code> for computing the mean of a column or row.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-40" style="background:;">
  <hgroup>
    <h2>lapply and sapply</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><code>lapply()</code> allows you to apply a function to a <strong>l</strong>ist. You can also use it
similarly to a <code>for</code> loop. In both cases, <code>lapply()</code> will return a <strong>l</strong>ist.</li>
<li><code>sapply()</code> does the same thing as <code>lapply()</code>, but simplifies the result if it
can, into a vector, matrix, or array.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-41" style="background:;">
  <hgroup>
    <h2>Basic structure of an lapply loop</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="../assets/img/lapply.png" alt="lapply"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-42" style="background:;">
  <hgroup>
    <h2>Batch loading</h2>
  </hgroup>
  <article data-timings="">
    <h1>Alternative to for loop</h1>

<pre><code class="r">files &lt;- list.files(&quot;./data/HSB_pieces/&quot;)
l &lt;- lapply(seq_along(files), function(i) {
  read.csv(paste0(&quot;./data/HSB_pieces/&quot;, files[i]))
})
names(l) &lt;- substr(files, 1, nchar(files) - 4)
str(l)
</code></pre>

<pre><code>## List of 4
##  $ NonWhiteFemaleHSB:&#39;data.frame&#39;:   1065 obs. of  5 variables:
##   ..$ id      : int [1:1065] 1224 1288 1296 1296 1296 1296 1296 1296 1296 1296 ...
##   ..$ minority: int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female  : int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses     : num [1:1065] -1.248 -1.468 -0.148 -1.568 -0.288 ...
##   ..$ mathach : num [1:1065] 4.75 10.66 12.67 4.97 8.28 ...
##  $ NonWhiteMaleHSB  :&#39;data.frame&#39;:   909 obs. of  5 variables:
##   ..$ id      : int [1:909] 1224 1224 1224 1288 1288 1296 1296 1296 1296 1296 ...
##   ..$ minority: int [1:909] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female  : int [1:909] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses     : num [1:909] -1.528 0.142 -1.658 -0.328 -0.158 ...
##   ..$ mathach : num [1:909] 4.145 -1.688 0.122 10.171 5.552 ...
##  $ WhiteFemaleHSB   :&#39;data.frame&#39;:   2730 obs. of  5 variables:
##   ..$ id      : int [1:2730] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority: int [1:2730] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female  : int [1:2730] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses     : num [1:2730] -1.528 -0.588 -0.618 -0.888 -1.448 ...
##   ..$ mathach : num [1:2730] 5.88 19.71 -2.83 1.53 9.47 ...
##  $ WhiteMaleHSB     :&#39;data.frame&#39;:   2481 obs. of  5 variables:
##   ..$ id      : int [1:2481] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority: int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female  : int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses     : num [1:2481] -0.528 -0.668 -0.158 0.022 -0.998 -0.458 -0.468 0.332 -0.298 -0.078 ...
##   ..$ mathach : num [1:2481] 20.349 8.781 17.898 4.583 0.523 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-43" style="background:;">
  <hgroup>
    <h2>Create group-standardized mathach variable</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">standardize &lt;- function(x) (x - mean(x, na.rm = TRUE)) / (sd(x, na.rm = TRUE))
l &lt;- lapply(l, function(x) {
  x$mathach_z &lt;- standardize(x$mathach)
  return(x) # This part is important if you want the full data frame returned
})
str(l)
</code></pre>

<pre><code>## List of 4
##  $ NonWhiteFemaleHSB:&#39;data.frame&#39;:   1065 obs. of  6 variables:
##   ..$ id       : int [1:1065] 1224 1288 1296 1296 1296 1296 1296 1296 1296 1296 ...
##   ..$ minority : int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female   : int [1:1065] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses      : num [1:1065] -1.248 -1.468 -0.148 -1.568 -0.288 ...
##   ..$ mathach  : num [1:1065] 4.75 10.66 12.67 4.97 8.28 ...
##   ..$ mathach_z: num [1:1065] -0.695 0.249 0.568 -0.661 -0.132 ...
##  $ NonWhiteMaleHSB  :&#39;data.frame&#39;:   909 obs. of  6 variables:
##   ..$ id       : int [1:909] 1224 1224 1224 1288 1288 1296 1296 1296 1296 1296 ...
##   ..$ minority : int [1:909] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ female   : int [1:909] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses      : num [1:909] -1.528 0.142 -1.658 -0.328 -0.158 ...
##   ..$ mathach  : num [1:909] 4.145 -1.688 0.122 10.171 5.552 ...
##   ..$ mathach_z: num [1:909] -0.9376 -1.7968 -1.5301 -0.0499 -0.7303 ...
##  $ WhiteFemaleHSB   :&#39;data.frame&#39;:   2730 obs. of  6 variables:
##   ..$ id       : int [1:2730] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority : int [1:2730] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female   : int [1:2730] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ ses      : num [1:2730] -1.528 -0.588 -0.618 -0.888 -1.448 ...
##   ..$ mathach  : num [1:2730] 5.88 19.71 -2.83 1.53 9.47 ...
##   ..$ mathach_z: num [1:2730] -1.11 1.028 -2.455 -1.782 -0.553 ...
##  $ WhiteMaleHSB     :&#39;data.frame&#39;:   2481 obs. of  6 variables:
##   ..$ id       : int [1:2481] 1224 1224 1224 1224 1224 1224 1224 1224 1224 1224 ...
##   ..$ minority : int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ female   : int [1:2481] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ ses      : num [1:2481] -0.528 -0.668 -0.158 0.022 -0.998 -0.458 -0.468 0.332 -0.298 -0.078 ...
##   ..$ mathach  : num [1:2481] 20.349 8.781 17.898 4.583 0.523 ...
##   ..$ mathach_z: num [1:2481] 0.824 -0.892 0.461 -1.514 -2.117 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-44" style="background:;">
  <hgroup>
    <h2>Example without return</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">standardized &lt;- lapply(l, function(x) standardize(x$mathach))
str(standardized)
</code></pre>

<pre><code>## List of 4
##  $ NonWhiteFemaleHSB: num [1:1065] -0.695 0.249 0.568 -0.661 -0.132 ...
##  $ NonWhiteMaleHSB  : num [1:909] -0.9376 -1.7968 -1.5301 -0.0499 -0.7303 ...
##  $ WhiteFemaleHSB   : num [1:2730] -1.11 1.028 -2.455 -1.782 -0.553 ...
##  $ WhiteMaleHSB     : num [1:2481] 0.824 -0.892 0.461 -1.514 -2.117 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-45" style="background:;">
  <hgroup>
    <h2>Revisiting the convoluted random matrix from earlier</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">m &lt;- matrix(rep(NA, 40*100), ncol = 100)

for(i in 1:40) {
  for(j in seq(0, 500, length.out = 40)[i]) {
    m[i, ] &lt;- rnorm(100, 0, j)
  }
}
head(m)
</code></pre>

<pre><code>##            [,1]      [,2]       [,3]      [,4]       [,5]      [,6]
## [1,]   0.000000   0.00000   0.000000   0.00000   0.000000   0.00000
## [2,] -21.874576 -24.54976   8.532838  18.07436   4.562821 -15.66735
## [3,]  21.951617  19.19955  49.895563 -23.61232 -28.087902 -18.31227
## [4,] -94.130290 -39.01536  63.982166  -3.86699  -1.345679  13.30072
## [5,]  -4.573152  43.81524 -22.386900 -93.94795 -26.157613 -36.63052
## [6,]  38.827947 -74.39016  -1.217216 -14.07251 -25.744343 -75.70714
##            [,7]       [,8]      [,9]      [,10]      [,11]      [,12]
## [1,]   0.000000   0.000000   0.00000   0.000000   0.000000   0.000000
## [2,]   9.340892  -1.195750  15.77426  -4.200959 -13.686415  -1.587885
## [3,] -37.317913   5.918424  13.85633 -16.933327  11.980623 -45.742652
## [4,]  69.076251 -21.290615 -25.65045  33.515370  17.097690 -25.102180
## [5,]  -4.659974 -10.778498  28.02415 -54.354002   7.526128 -13.897364
## [6,]  -8.422572  -4.052512  90.47519  80.465519  -7.991264 110.662960
##           [,13]     [,14]      [,15]      [,16]     [,17]      [,18]
## [1,]   0.000000  0.000000   0.000000   0.000000  0.000000   0.000000
## [2,]   3.393776 -7.872251  -9.981772 -12.556632 13.344422   2.309377
## [3,]  -2.161819 50.724273  -5.528820  -9.525169 65.832946  34.033881
## [4,] -21.511541 15.702046 -49.657800  34.046925 15.485865 -32.610711
## [5,]  89.562520 10.591686  -7.624458 -49.142214 29.497622 -35.214127
## [6,] 117.602730 45.237615 100.834706 -88.984011  4.132504 -25.015896
##           [,19]      [,20]       [,21]     [,22]      [,23]      [,24]
## [1,]   0.000000   0.000000   0.0000000   0.00000  0.0000000   0.000000
## [2,]  23.748821 -11.607094 -14.3714841 -10.82592  8.2293965  23.323913
## [3,]  -4.020087  11.822065  19.8038688  17.43192 -2.1823003 -11.897067
## [4,] -70.237259  25.629890   0.6391019 -23.09012 -0.5516659  -4.449662
## [5,] -20.398159  90.537375  20.7448712 -56.47312 52.6080243  18.164178
## [6,] -12.920345   3.644021  21.1627709  15.51249 94.8441123 -36.566632
##           [,25]     [,26]      [,27]      [,28]       [,29]      [,30]
## [1,]   0.000000   0.00000   0.000000   0.000000    0.000000   0.000000
## [2,]   2.147158 -13.02643 -12.587077   6.190714   -1.155584   6.150375
## [3,] -31.415103 -35.63933  11.622056  41.113121  -20.448483 -15.921069
## [4,] -21.691667 -15.91453 -24.135836   7.663517   -3.705905 -22.645165
## [5,] -26.742571 -54.05404  38.521611  33.091947  -40.936091 -93.454696
## [6,]  28.743470 -93.79999   6.954432 121.601664 -123.488638   1.348351
##           [,31]      [,32]     [,33]      [,34]     [,35]     [,36]
## [1,]   0.000000   0.000000   0.00000   0.000000   0.00000   0.00000
## [2,]  13.156264   4.863365  15.10199  30.983246  12.78495 -35.03118
## [3,]   4.259493  11.506619  19.93334  18.436097  61.77012 -15.33709
## [4,] -53.538279  94.070638 -28.42336   8.717246 -11.45335  43.67266
## [5,]  -3.625343 -46.123062 -39.39475 -21.118371 -19.93265 -61.03184
## [6,] -16.376612   8.907928 -57.40744  15.122209 -30.97651 -21.79882
##          [,37]       [,38]       [,39]      [,40]      [,41]      [,42]
## [1,]   0.00000    0.000000    0.000000   0.000000   0.000000   0.000000
## [2,]  -6.69275   11.909750   -9.574300  -3.818171 -19.592566  -5.553418
## [3,]  41.69922   -7.665746  -21.585493  22.007409  -6.991718 -20.268581
## [4,]  45.07840   51.125256    8.737416 -20.664580  15.183430  -3.712530
## [5,]  70.53684  -36.680698   44.675125   8.245827  68.667453  59.447416
## [6,] -52.26198 -141.883862 -106.009109  56.121724  86.688317 -64.930950
##           [,43]      [,44]      [,45]     [,46]     [,47]     [,48]
## [1,]   0.000000   0.000000  0.0000000   0.00000   0.00000   0.00000
## [2,]  -9.658408  -1.888344  8.3956518  17.69089  15.79586  29.66133
## [3,] -14.131583 -24.072229 22.7990286 -12.83427  28.69588  75.56108
## [4,] -44.696018  -5.962616 36.1738907  39.18295 -16.41152  10.33081
## [5,] -36.165715  10.106008 -0.9970032 -16.10636 -50.19516 -49.98887
## [6,]  -4.527190  23.393357  8.4478677  16.51379  48.76866 -23.79599
##          [,49]      [,50]      [,51]      [,52]     [,53]     [,54]
## [1,]   0.00000   0.000000   0.000000    0.00000   0.00000   0.00000
## [2,] -17.73943 -14.793903  -1.252705    6.66314 -10.67507  -4.89795
## [3,]  55.37319   3.263845 -30.465074   34.70144  24.69227 -10.31706
## [4,] -16.96919 -42.538328 -32.121069   10.81917  13.14366 -48.65109
## [5,] -64.23685 -48.277583 -48.499016   72.15457 -25.55187 -35.62098
## [6,]  68.72864  91.848948 -66.203641 -135.61847 -27.79088  27.33222
##            [,55]      [,56]      [,57]      [,58]      [,59]      [,60]
## [1,]   0.0000000   0.000000   0.000000   0.000000   0.000000   0.000000
## [2,]   1.0049804  -4.359792  -4.463184  -8.258448 -15.855628   5.006046
## [3,] -30.8447237   4.436088 -43.543996 -11.126981  -9.902629  12.603823
## [4,]  -0.6666076  16.280624 -39.585891  19.977952  48.074893 -20.081940
## [5,]  98.3974957 -53.417264  69.106547 -71.678781 -38.347983  26.606278
## [6,] -25.4151418 -17.208764  61.510386  59.600462  37.105437 -52.641328
##           [,61]      [,62]       [,63]     [,64]       [,65]      [,66]
## [1,]   0.000000   0.000000   0.0000000   0.00000   0.0000000   0.000000
## [2,]  -3.734255   1.481763   5.4219298 -10.82228  -0.7518365   4.788841
## [3,]  -5.928546  -6.644415  -6.2162412  40.88825  -1.7434140  15.879565
## [4,]  22.522766  14.959867   7.2067660 -60.56950  17.7901039   2.622805
## [5,] -40.597823  -8.279296 -40.5098102 -60.94215  62.7326221  -9.648127
## [6,]  11.337631 -13.150931   0.9330851 -20.44027 162.7570755 -29.933496
##          [,67]      [,68]      [,69]      [,70]      [,71]      [,72]
## [1,]   0.00000   0.000000   0.000000   0.000000    0.00000    0.00000
## [2,]  21.89805  -2.876102   4.126017 -19.083660   12.85621   11.42703
## [3,] -57.09776  10.487147 -16.943355  -8.869613  -20.23693   11.67759
## [4,]  18.79936 -65.323864  31.507170 -15.425783  -43.98978 -116.91659
## [5,]  48.43784   3.393511 -22.283399 -40.741032   33.85342   20.23646
## [6,] -23.91323  76.160853 159.856915 -75.098724 -149.10474   67.76611
##          [,73]     [,74]      [,75]      [,76]       [,77]      [,78]
## [1,]   0.00000  0.000000   0.000000   0.000000   0.0000000   0.000000
## [2,]  12.67468  1.266782 -12.454735  -1.636918 -10.9727230  -9.103202
## [3,] -28.05165  8.570585   1.290495  14.823074  -0.3364204 -28.892690
## [4,] -12.79691 84.357391 -19.872257 -55.371716  -0.2398755 -33.660679
## [5,]  53.96718 54.403670  65.439838 -77.789966 -86.5411962  -9.852709
## [6,]  21.90430 31.770475  26.713724  53.357311 -19.9027840 -27.920191
##           [,79]      [,80]      [,81]      [,82]     [,83]     [,84]
## [1,]   0.000000   0.000000   0.000000   0.000000  0.000000   0.00000
## [2,] -18.484477  10.763168 -16.848700  -5.142572 -2.191242   1.88756
## [3,]  -6.226468 -33.206177  -4.700925  22.988839 -4.752202 -19.74313
## [4,]  -7.063931  -2.657318  21.919299  25.919375 40.423908 -11.43363
## [5,]  34.491333 121.053975  33.138528  11.444381 38.229695 -36.13553
## [6,] 121.666749 -93.327873  -4.597543 -91.045289  1.049447  15.39977
##          [,85]      [,86]     [,87]      [,88]     [,89]      [,90]
## [1,]  0.000000   0.000000   0.00000   0.000000   0.00000   0.000000
## [2,] 10.440252 -10.066837  15.14123  -4.331396 -42.15571   3.098116
## [3,] -8.186372   1.653313  10.37017  -8.478314  17.10114 -39.879119
## [4,] 22.794242 -65.043274 -41.32589  58.863120  10.44024 -59.938037
## [5,] -2.707041  42.931022  38.57258 -28.646099  57.75060  35.858351
## [6,] 71.106955 -15.765599 126.66817 -51.966985  67.61266 -48.630600
##           [,91]      [,92]      [,93]    [,94]      [,95]     [,96]
## [1,]   0.000000   0.000000   0.000000  0.00000   0.000000   0.00000
## [2,] -24.326060 -18.093584 -27.933463 10.43376 -16.532632 -10.14615
## [3,]   5.323473   1.738459  -7.084819 47.73561 -42.352657 -52.68440
## [4,] -42.985469  32.049356 -84.113012 55.77551  -3.837217 -21.78882
## [5,]  78.947543  -1.334701   7.861977 85.53612  20.970772 -64.57017
## [6,]  86.385179 -50.270685 -52.960014 15.33057 -38.746092 107.63658
##            [,97]       [,98]      [,99]     [,100]
## [1,]   0.0000000   0.0000000    0.00000   0.000000
## [2,]   0.6356171  24.6460613   15.94694  13.430946
## [3,] -11.5608166  14.2212892  -29.11536  -8.508638
## [4,]  42.9125004 -12.9870998  -75.49900 -13.604358
## [5,] -17.7691725  47.8050801   82.18821 -15.522959
## [6,] -24.1381231  -0.6304307 -126.93192  -4.235386
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-46" style="background:;">
  <hgroup>
    <h2>Creating the same matrix with lapply</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">norm &lt;- lapply(seq(0, 500, length.out = 40), function(i) rnorm(100, 0, i))
str(norm)
</code></pre>

<pre><code>## List of 40
##  $ : num [1:100] 0 0 0 0 0 0 0 0 0 0 ...
##  $ : num [1:100] -1.09 -23.29 -17.18 24.09 -2.04 ...
##  $ : num [1:100] 11.3 -31.1 19.4 16.5 12.6 ...
##  $ : num [1:100] 13.44 8.97 41.74 -55.3 30.15 ...
##  $ : num [1:100] -37.58 -2.09 15.44 -104.75 51.47 ...
##  $ : num [1:100] 66.5 60.2 -12.6 -76.5 -84 ...
##  $ : num [1:100] -49.4 -89.5 -44.5 21.1 59.9 ...
##  $ : num [1:100] 102.48 -8.25 103.17 -127.14 55.88 ...
##  $ : num [1:100] -188.2 -30 -51.4 -63.9 105.3 ...
##  $ : num [1:100] -9.06 -55.01 -202.57 196.27 72.88 ...
##  $ : num [1:100] -181 181 -218 -143 142 ...
##  $ : num [1:100] 149 32.3 146.7 -151.8 93.7 ...
##  $ : num [1:100] -244.38 18.72 1.34 -144.22 -101.95 ...
##  $ : num [1:100] -191.6 -164.2 -120.1 31.1 26.4 ...
##  $ : num [1:100] 104 81.2 10.7 101.4 -90.7 ...
##  $ : num [1:100] 260.9 48.3 -189.5 -110.3 -123.3 ...
##  $ : num [1:100] 139 243 -165 -35 -276 ...
##  $ : num [1:100] -32.8 77.5 189.9 -57.5 98.6 ...
##  $ : num [1:100] -53.2 -36.7 -119.5 417.6 -372.8 ...
##  $ : num [1:100] -20.4 -567.7 -154.5 -246.2 -405.6 ...
##  $ : num [1:100] -1.2 270.4 -52 -22.7 -103.7 ...
##  $ : num [1:100] -62.5 -30.1 -395.7 282 303.8 ...
##  $ : num [1:100] -83.8 -27.9 329.2 -327.4 96.8 ...
##  $ : num [1:100] 184 449 265 -127 452 ...
##  $ : num [1:100] -82.5 323.7 69.4 -435 59.6 ...
##  $ : num [1:100] -174.7 20.6 95 -41 64.5 ...
##  $ : num [1:100] -188 -130 404 244 601 ...
##  $ : num [1:100] -25.5 -236.2 852.4 258.4 -327.8 ...
##  $ : num [1:100] 36.7 -586.6 -87.8 -472.7 -270 ...
##  $ : num [1:100] 553 308 -157 -305 -207 ...
##  $ : num [1:100] -697 -237 -364 328 229 ...
##  $ : num [1:100] -757.7 -135.8 81.8 227.6 401.6 ...
##  $ : num [1:100] 579.1 -429.3 -53.9 -629.9 393.6 ...
##  $ : num [1:100] -111 -111 -308 -83 -345 ...
##  $ : num [1:100] -409 163 654 -140 -156 ...
##  $ : num [1:100] -176 -222 -329 295 971 ...
##  $ : num [1:100] 34.5 138.2 345.1 -11.1 600.5 ...
##  $ : num [1:100] 700 559 -322 -173 287 ...
##  $ : num [1:100] 85.7 318.8 299.8 659.5 323.8 ...
##  $ : num [1:100] 940 203 -366 -889 648 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-47" style="background:;">
  <article data-timings="">
    <pre><code class="r">m &lt;- matrix(unlist(norm), ncol = 100, byrow = TRUE)
head(m)
</code></pre>

<pre><code>##            [,1]       [,2]      [,3]       [,4]       [,5]        [,6]
## [1,]   0.000000   0.000000   0.00000    0.00000   0.000000    0.000000
## [2,]  -1.090936 -23.294158 -17.17511   24.09232  -2.042613   -2.720904
## [3,]  11.288336 -31.066647  19.42629   16.46477  12.617442   53.186527
## [4,]  13.442951   8.967309  41.73708  -55.29607  30.148638  -25.102917
## [5,] -37.578536  -2.093755  15.44136 -104.74963  51.470391   49.784075
## [6,]  66.545734  60.179227 -12.64947  -76.46762 -83.999533 -111.150541
##            [,7]      [,8]       [,9]      [,10]      [,11]      [,12]
## [1,]   0.000000   0.00000   0.000000   0.000000   0.000000  0.0000000
## [2,]  -3.187885  14.70283 -14.409342  -2.873393  -8.002393 13.9413828
## [3,]   4.758578 -11.64853   1.228822 -41.118259 -39.746471 -0.2346785
## [4,]  -8.840914  36.36546 -40.639630 -41.867919   5.045609 18.9080650
## [5,]  -8.506191  43.10901   7.084981 -15.083269  59.113564 41.0103721
## [6,] -68.464863 -31.86814 -33.466801  36.666288 -12.520204 19.1785903
##            [,13]      [,14]     [,15]     [,16]      [,17]      [,18]
## [1,]   0.0000000   0.000000   0.00000   0.00000   0.000000   0.000000
## [2,]  -0.4586929  12.019723  16.15618 -19.29662  -1.830583  -6.524573
## [3,] -30.9082258  26.287245 -20.66758 -14.32310  32.069269   5.135831
## [4,]  -2.8471756   5.552431 -47.90101 -39.11174 -54.833369 -76.332429
## [5,] -47.3530149 -31.949572 -15.06064  16.82872 -43.408117   6.452073
## [6,] -77.3992215 -24.137219 -27.40429 -47.20589 -38.067196 -48.747172
##            [,19]     [,20]     [,21]     [,22]      [,23]         [,24]
## [1,]   0.0000000   0.00000   0.00000  0.000000   0.000000   0.000000000
## [2,] -13.5970136  13.13247  14.82834 -4.252426  -9.603535   1.499938642
## [3,]   0.8915581 -18.65343 -21.44559  1.891006 -14.885250  -1.054948609
## [4,]   6.9606446 -46.60415  34.91747 31.607821  23.059559  16.961885206
## [5,]  96.2881858  70.04666 -21.47940 -6.519423 -55.200661  -0.005371586
## [6,]  10.0045743 -49.36665 -89.59657 19.624659 -41.764026 -71.676595664
##            [,25]      [,26]      [,27]      [,28]     [,29]      [,30]
## [1,]    0.000000    0.00000   0.000000   0.000000   0.00000   0.000000
## [2,]   -4.083198  -16.51374   4.187493  22.102331  13.94676 -21.592750
## [3,]   -5.702490   29.32232 -56.969686   4.622197 -22.85803  -4.659068
## [4,]  103.096635  -29.54216  43.181542 -28.063382  33.17541  -8.102883
## [5,] -135.251345   14.60151  40.831947  97.457816  16.57974  -9.420978
## [6,]  -31.111208 -101.77168  -6.540748 -65.540000  17.74193 -38.897075
##             [,31]      [,32]      [,33]      [,34]        [,35]      [,36]
## [1,]    0.0000000   0.000000   0.000000    0.00000    0.0000000   0.000000
## [2,]    6.1011906  -1.811743   6.967052   -2.34441   -0.7601629   2.468217
## [3,]    0.9212136 -26.335163 -66.044711  -46.52628   14.9902126 -47.089768
## [4,]  -12.1367897 -15.399448 -71.487028  -31.76960   14.0300805 -61.022859
## [5,]  -25.7288413   9.268210 -16.440183   94.83911   27.9615113  40.237811
## [6,] -115.1330434  16.986466 -12.028441 -109.04720 -116.1970618 -42.125626
##          [,37]       [,38]      [,39]      [,40]      [,41]     [,42]
## [1,]   0.00000   0.0000000   0.000000   0.000000   0.000000  0.000000
## [2,]  15.07097  27.5267853   1.711936 -27.839255   3.852398 -6.002615
## [3,] -42.04519 -70.6429561   9.245932  19.660543  15.066741 -3.960932
## [4,]  55.33227  -0.4626273  30.233712   2.933427  62.788975 23.448546
## [5,] -49.20138 -57.1174200 -25.348063 -58.169685  22.760457 24.846240
## [6,]  10.00582  58.1707088 -28.970450  39.354248 -33.786683 91.732463
##          [,43]       [,44]      [,45]      [,46]      [,47]      [,48]
## [1,]   0.00000   0.0000000  0.0000000   0.000000   0.000000   0.000000
## [2,]  16.89335  11.5390261  0.7546922 -10.203319  19.489608   7.111329
## [3,]  30.74144  10.4260983 22.9549036  48.101212  44.580696  14.318136
## [4,]  86.77640 -46.8149588  5.8606702 -15.122703  -9.792226 -17.200476
## [5,] -19.40006  79.5625481 -9.7644921  14.919087  54.554865 -12.925669
## [6,]  96.29152   0.6690316  5.4142852   4.386393 -85.836305  41.165656
##           [,49]      [,50]     [,51]     [,52]      [,53]     [,54]
## [1,]   0.000000   0.000000   0.00000   0.00000   0.000000   0.00000
## [2,]  -2.764703  -7.196588 -17.52353  29.34083  -4.733428 -16.05461
## [3,] -18.242887 -11.616683  57.12978 -19.90351 -16.387822  18.94076
## [4,]   5.521163  38.363862 -19.00858  64.10029  -3.178857  25.39464
## [5,] -55.229132  18.308945  18.93005 -19.54301   8.907288  70.29907
## [6,] -21.847025 -22.470644  33.41051  45.67884 152.324193  60.40646
##           [,55]      [,56]      [,57]     [,58]     [,59]        [,60]
## [1,]   0.000000   0.000000   0.000000   0.00000   0.00000    0.0000000
## [2,]  -5.568458   6.991571   4.731605  10.62056  18.68112   -0.5642107
## [3,]   4.126302  -4.729873 -16.560292 -21.81168  39.38111   -1.4217062
## [4,] -18.255078   3.698609 -12.761755 -15.44440 -15.45560  -67.1009534
## [5,] -20.352650 -62.170201 -38.504931  24.67947 -81.68532  -19.4345723
## [6,]  73.038671 -16.220363 -82.754609 -64.17989  -8.39578 -128.6590198
##           [,61]       [,62]      [,63]      [,64]     [,65]      [,66]
## [1,]   0.000000    0.000000   0.000000   0.000000  0.000000   0.000000
## [2,]   1.420262   15.028316   1.538247   1.428181 10.172733  27.447000
## [3,]   8.632130  -24.746598 -13.198945 -18.844708 -7.080449 -23.562399
## [4,]   2.224097   47.864635  17.824673  11.566504 21.019915   5.207353
## [5,]  44.907232    4.538955 -54.447399  15.275240 -7.536467 -86.985491
## [6,] -25.351322 -123.246918  27.299665 -24.213668 12.940855  -6.468134
##           [,67]      [,68]       [,69]      [,70]       [,71]     [,72]
## [1,]   0.000000   0.000000    0.000000   0.000000   0.0000000  0.000000
## [2,]  -4.262653   6.002833  -19.995408 -15.509682  10.1894074  1.864112
## [3,] -19.662302  16.346879   -2.756271 -12.459025  -5.1202764  9.847561
## [4,] -27.080736  60.434467   54.442300  58.223656 -42.2548136 48.349290
## [5,]  36.626945  37.065817 -114.676769   4.389082  20.7692460 34.495211
## [6,]  29.778834 -81.380323  -83.289882  49.923987   0.1644353 83.292578
##          [,73]      [,74]      [,75]     [,76]      [,77]      [,78]
## [1,]   0.00000   0.000000   0.000000  0.000000    0.00000   0.000000
## [2,] -23.40077  -4.322921   1.392524 -2.603231  -10.96083  -3.796601
## [3,]  33.16267  61.412226 -20.340450  3.709722   14.99235 -13.616075
## [4,] -35.62288  -6.558052  -8.315341  7.823315   40.18227 -29.715392
## [5,] -26.37921  61.019376  62.843274 96.020833   37.41780  -8.594015
## [6,]  17.82650 -75.293339  29.669408 90.171415 -149.56804  47.527784
##          [,79]     [,80]      [,81]      [,82]      [,83]      [,84]
## [1,]   0.00000  0.000000   0.000000   0.000000   0.000000   0.000000
## [2,]  14.14258  3.500132 -32.995404   9.795380  12.779576 -14.412195
## [3,]  19.29354 -7.495783  17.413252 -17.649221   5.238213  15.368909
## [4,]  33.75865 33.896312  -8.008761  15.764860  -6.977909 -81.704596
## [5,] -34.18053 71.085157  59.593573  43.169363 -34.164331 -22.344783
## [6,] -63.76888 61.840680 -31.812841  -3.201546 -85.888540   2.702353
##          [,85]      [,86]      [,87]      [,88]       [,89]      [,90]
## [1,]   0.00000   0.000000   0.000000   0.000000    0.000000   0.000000
## [2,]  -4.69705   6.560476  -2.992217 -13.133352    9.419683   3.304441
## [3,]  58.77919   3.693047  13.910811 -24.448679   13.455931  45.937483
## [4,] -21.14273  40.188970  79.798653 -13.898715   25.938326  18.556321
## [5,]  39.18893 -12.575257 -18.313689   4.762363  -23.153622 -29.974282
## [6,]  32.68277  53.439654  64.476437 -39.246499 -117.082768  33.088587
##           [,91]      [,92]      [,93]       [,94]      [,95]      [,96]
## [1,]   0.000000   0.000000   0.000000   0.0000000  0.0000000   0.000000
## [2,]   4.056395   4.367436  -7.394851  -0.8397216 -0.3934572 -11.003568
## [3,]  24.014103  15.015238  13.381525  37.8155145 60.9219327   4.171725
## [4,]  -8.009465  69.869746  -9.576815 -28.2087186 46.0151438  -5.870280
## [5,] 114.254119 -62.671262 -38.786554   7.4593549 94.7956461 -72.238368
## [6,]  37.565134  47.617952 -16.601395  54.5305848 34.3355059  31.273084
##            [,97]      [,98]       [,99]     [,100]
## [1,]   0.0000000   0.000000   0.0000000    0.00000
## [2,]  -0.7187261 -18.061261   0.5455942  -10.93446
## [3,] -38.4962220  84.695182 -19.8971708   13.43306
## [4,] -59.4842843  44.249074  -4.4317256  -19.86095
## [5,] -21.0415910  17.141170  34.9992969 -108.71963
## [6,] -62.5023271  -4.228897  87.4757072   46.15416
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-48" style="background:;">
  <hgroup>
    <h2>Even better, use sapply</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">m &lt;- sapply(seq(0, 500, length.out = 40), function(i) rnorm(100, 0, i))
head(m) 
</code></pre>

<pre><code>##      [,1]        [,2]       [,3]       [,4]       [,5]       [,6]
## [1,]    0 -28.7498404  18.357909 -12.093719  -4.857982  -41.08910
## [2,]    0  -0.4740087 -32.197975 -43.261971 -42.913651  113.38084
## [3,]    0  19.1003410 -40.990585 -10.187421   4.845368  103.11938
## [4,]    0  -0.4792325  46.786924   4.684405  15.686889   27.03504
## [5,]    0   2.3256463   4.940117  28.085208 103.828343   50.75423
## [6,]    0  -8.8416801  -7.054839   7.828474  26.303557 -196.13488
##             [,7]       [,8]       [,9]       [,10]      [,11]      [,12]
## [1,]   3.5398637   3.421005   12.76053   53.379026 -192.28966  -10.55225
## [2,] -10.3539989 127.619990   32.02507 -111.998089  -55.65724 -392.10551
## [3,]  16.8578479  96.276480  -88.03792   66.145781  224.65048   49.84701
## [4,]  -0.8021096 -76.766090 -127.60887  -60.010018  -42.45728 -181.14183
## [5,]  55.0317365   9.344202   30.64346   -2.321044  -76.37369 -166.47766
## [6,]  46.8805069  90.779709   37.40533 -114.525813  118.56789  -81.39552
##           [,13]      [,14]      [,15]       [,16]     [,17]      [,18]
## [1,]   4.699446  -23.74347  -75.05298  -19.446178 -162.3935  -58.00413
## [2,] -95.622923  -97.17553  -19.96401 -233.912007  151.1581 -168.39504
## [3,]  -2.900560  214.57470   52.21421  113.831916 -452.3895   43.37287
## [4,] -79.313146  -62.16767  -30.31857    8.115938  458.1796 -167.27992
## [5,] -28.734057 -235.18861   90.20546 -158.472679  165.6096  209.25345
## [6,] -16.266019  237.93724 -151.67085  -57.394920   40.0443  189.42950
##            [,19]      [,20]        [,21]     [,22]      [,23]      [,24]
## [1,] -138.962748  412.15483    0.1234494  202.1069  252.25236  168.32276
## [2,]   -2.566114   68.30297  -12.1604627  285.3094  272.10640   90.95024
## [3,]  172.642058  110.50521  -14.7605898 -108.3489   56.98541 -158.80950
## [4,] -138.079686 -611.91014 -310.8033197  223.6294  146.37489   89.90041
## [5,] -168.727828  -25.69122  -50.2896524  401.2926 -162.55526 -427.79737
## [6,]  -54.697488  -42.31489  119.8110584 -466.3544 -214.96259  348.10475
##           [,25]     [,26]     [,27]       [,28]      [,29]     [,30]
## [1,]  449.84623 -206.1102  571.2935    4.090188  516.77906  114.4083
## [2,]  -31.88812 -219.5337  135.0806  454.899690  -61.43168 -267.7324
## [3,]  275.46760  437.7347  393.2633 -607.505358 -350.10089  963.9480
## [4,]  488.47946 -108.2139 -607.3448 -300.439152  498.68942  766.0086
## [5,]  -88.05788  468.3717  130.0810  623.003968 -391.45480 -399.5051
## [6,] -219.47090 -240.0448  390.4528  -17.249330 -243.28696 -225.4792
##          [,31]     [,32]     [,33]      [,34]      [,35]        [,36]
## [1,] -717.9861 -195.2763 -619.9453 1002.68519  596.54752    -3.131105
## [2,]  222.3568  375.9691 -424.4260 -188.77225   26.48450   735.939357
## [3,] -266.6437   56.1768 -426.1717   11.84283 -592.74625  -388.693580
## [4,]  349.9076 -560.8510  103.7799 -498.25157  395.02513 -1112.972362
## [5,]  327.2731 -292.3743 -120.7766 -541.30446 -495.03110  -283.992590
## [6,]  114.7986  115.0293  855.0990 -189.00549  -14.30022   612.500091
##           [,37]      [,38]      [,39]      [,40]
## [1,]  -24.79580 1395.15272   66.85459 -342.87952
## [2,] -868.77572 -286.96177 -945.32097 -233.84214
## [3,]  199.78771   16.28452 -245.83113  -20.72176
## [4,]  458.56131  433.74546  284.23319  290.00995
## [5,] -127.26194  970.75116 -599.64609 -361.91775
## [6,]   77.68381 -200.47733  573.44402  503.48435
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-49" style="background:;">
  <article data-timings="">
    <p>Note that by default, sapply returned the transpose of the matrix we were
 going for before. That&#39;s really not a problem, now each column represent 100 draws from the corresponding random normal distribution rather than rows. We can easily verify this.</p>

<pre><code class="r">nrow(m)
</code></pre>

<pre><code>## [1] 100
</code></pre>

<pre><code class="r">ncol(m)
</code></pre>

<pre><code>## [1] 40
</code></pre>

<p><br>
Of course, we can also easily get the matrix back by just transposing it.</p>

<pre><code class="r">m &lt;- t(m)
head(m)
</code></pre>

<pre><code>##            [,1]        [,2]       [,3]       [,4]       [,5]        [,6]
## [1,]   0.000000   0.0000000   0.000000  0.0000000   0.000000    0.000000
## [2,] -28.749840  -0.4740087  19.100341 -0.4792325   2.325646   -8.841680
## [3,]  18.357909 -32.1979747 -40.990585 46.7869244   4.940117   -7.054839
## [4,] -12.093719 -43.2619708 -10.187421  4.6844054  28.085208    7.828474
## [5,]  -4.857982 -42.9136510   4.845368 15.6868890 103.828343   26.303557
## [6,] -41.089095 113.3808417 103.119383 27.0350389  50.754231 -196.134879
##            [,7]      [,8]        [,9]     [,10]        [,11]      [,12]
## [1,]   0.000000   0.00000    0.000000   0.00000   0.00000000   0.000000
## [2,] -27.814323 -19.71494   -4.331939  21.34810  -9.57571632   8.392808
## [3,]  -2.997375  11.78110   51.828445 -18.30563 -73.13200377  -6.920324
## [4,]   1.103374 -38.34125   -8.715264  62.34631   0.05520234  49.854612
## [5,]  32.787064 -95.95848 -107.814296 -99.72080   5.25235488 -58.482277
## [6,]  39.036078 -42.85471   -6.308581  25.13590  22.99573724  71.796608
##          [,13]      [,14]      [,15]      [,16]     [,17]       [,18]
## [1,]   0.00000   0.000000   0.000000   0.000000  0.000000   0.0000000
## [2,]  19.59949   4.195655   9.082011  -7.291538 -7.737114 -20.6981183
## [3,] -29.80729 -23.682793 -25.444086  18.074616 -3.971332  28.3716751
## [4,] -59.44036  12.098414  -4.116709 -30.437829 44.814021 -46.8762163
## [5,]  44.22762 -60.084883 -54.503088  41.228653 54.738403   0.8052343
## [6,] -89.50493 -81.138892 -78.489603 -35.938733 -2.124796  67.5881153
##          [,19]       [,20]      [,21]     [,22]     [,23]       [,24]
## [1,]   0.00000    0.000000   0.000000   0.00000   0.00000   0.0000000
## [2,] -15.22462    5.453072  -3.033760 -20.00718 -10.84533  -0.8671203
## [3,]  22.53497   -1.462550 -44.482495  28.90334  24.28677  44.1969196
## [4,] -22.18286   42.563906 -31.954221  26.68769  12.44505 -39.8352840
## [5,] -41.68127   86.349229 -40.444569 -17.99057  18.81656  27.1233304
## [6,] -10.11211 -108.212785  -8.971905  19.03094 -55.90915 -40.4849629
##           [,25]     [,26]     [,27]     [,28]      [,29]      [,30]
## [1,]   0.000000   0.00000  0.000000   0.00000   0.000000   0.000000
## [2,]  -2.548293  19.65443 -7.170673   1.60237   1.943820 -14.830645
## [3,]  14.553896 -17.28439  2.440064  27.19728   8.521084   1.202409
## [4,]  23.787634  19.64060 28.403022 -14.72681 -26.204020  -2.492272
## [5,] -64.419467  75.66298 25.211232  24.28292 -63.853830 -42.038831
## [6,] -26.931835 -43.35289 86.233960  13.10169 -29.945815 113.659403
##           [,31]      [,32]      [,33]      [,34]      [,35]      [,36]
## [1,]   0.000000   0.000000    0.00000   0.000000   0.000000   0.000000
## [2,]  20.850319   2.650257  -14.00013  -1.511404  -3.938582  -5.673828
## [3,] -16.137211  25.728115    2.08565 -51.748827  20.055551  29.797244
## [4,]  -9.608378  -5.423300   14.00872 -10.170060   6.447312 -39.596949
## [5,]  20.793283  53.337603   75.70359  -3.515349  40.620180   4.504418
## [6,]   1.761165 -31.694903 -100.88121 -16.665498 -12.155521 -83.847652
##           [,37]      [,38]      [,39]      [,40]       [,41]      [,42]
## [1,]    0.00000   0.000000   0.000000   0.000000   0.0000000   0.000000
## [2,]   10.04899   4.088923   3.080246  -7.441087  -0.1907581  -5.324375
## [3,]   18.23385  20.791795 -14.343705 -12.612884 -33.0782191  41.248430
## [4,] -120.96130  14.038228  22.150544  37.459838 -16.5250967  11.366748
## [5,]   28.61305 -50.400410 -42.881627  23.723640  15.6079133 -76.901561
## [6,]  -24.48541  50.247762  34.343675 -63.717991  28.9662956 -31.165571
##           [,43]      [,44]       [,45]      [,46]       [,47]      [,48]
## [1,]   0.000000   0.000000    0.000000   0.000000   0.0000000   0.000000
## [2,]   3.292797 -14.728324   -8.946368  -5.470137  -0.6084884   4.063838
## [3,] -37.559991   1.385763   11.101752  -9.193745 -15.2398328  -8.080602
## [4,] -23.712000 -25.131017 -108.590253   3.556614   1.4356725 -18.944533
## [5,]  -7.122985  28.215052    3.377233  71.233021  64.3310377 -19.462460
## [6,] -26.750274  15.642842  -27.084996 -94.852533   0.8987362 146.126260
##           [,49]      [,50]     [,51]     [,52]      [,53]     [,54]
## [1,]   0.000000   0.000000   0.00000   0.00000   0.000000   0.00000
## [2,]   0.373450   7.474591  22.10405  18.73238  -6.325047 -16.49028
## [3,] -36.866023  17.685872  42.53197  32.38228 -27.691902  20.38322
## [4,]  -9.092342  22.623601  33.14353 -17.26894 -44.609778  22.71862
## [5,]  47.480506 -24.114292 -71.61727  27.65325  49.245594 -30.19827
## [6,] -33.180660  -2.254190 -26.32039  30.50469  -2.711532  18.82703
##            [,55]      [,56]     [,57]      [,58]      [,59]      [,60]
## [1,]    0.000000   0.000000   0.00000   0.000000   0.000000   0.000000
## [2,]    2.531454  -5.672857  15.70860  -4.679825   9.296146  -3.721768
## [3,]   23.450432 -37.304805  46.38345  -4.183320 -21.625073 -14.502099
## [4,]  -20.549752 -39.988526 -39.34773 -36.888145  20.006873 -20.796868
## [5,]  -23.284855   4.709085 -47.65992  15.642988  99.461019  20.966551
## [6,] -194.364996 121.803354 -82.97332 -54.915410  34.562343  10.733658
##           [,61]     [,62]      [,63]     [,64]       [,65]      [,66]
## [1,]   0.000000   0.00000   0.000000  0.000000    0.000000   0.000000
## [2,]   8.007218  15.58276   9.833145  9.966150   16.804132   3.087616
## [3,] -36.584194 -46.27053  -3.730860 18.329039    2.517496 -19.408685
## [4,] -13.836680 -69.04160  -4.352486  7.698476   -2.225643  42.995778
## [5,]  80.539543  38.72523  41.181401 52.461047 -121.330243 -26.899106
## [6,]  24.080426 -87.62431 -70.337133 -9.699436   23.864057  29.961858
##            [,67]     [,68]      [,69]       [,70]     [,71]    [,72]
## [1,]   0.0000000   0.00000   0.000000    0.000000   0.00000  0.00000
## [2,] -18.1886622  -2.78774   8.106181   -6.950752  11.10522 18.22072
## [3,] -15.9437252  62.81061 -23.517789   27.786735  12.66729 15.65736
## [4,] -19.1477502  27.62983 -54.374775   38.131714  18.84450  1.44862
## [5,] -79.2774371 -13.75802   6.098159   48.348205 -38.14421 45.98098
## [6,]   0.8783279 -52.66514 -28.467457 -103.726713 -48.50017 70.38341
##           [,73]     [,74]     [,75]      [,76]     [,77]     [,78]
## [1,]   0.000000   0.00000   0.00000   0.000000   0.00000   0.00000
## [2,]   2.184544 -21.42413  13.51302   7.054951  19.31410   4.05286
## [3,]  17.718688 -17.86492 -10.42496 -38.313972  10.47591 -24.79316
## [4,]  23.631455  36.71095  72.72270 -56.371649  27.22682 -57.98134
## [5,] -12.668059 -26.90702  66.14982  23.785761 -25.63966 -99.18998
## [6,]  92.012687  43.40414  69.45510 -27.911522  12.09128 -23.05588
##          [,79]      [,80]      [,81]      [,82]     [,83]     [,84]
## [1,]   0.00000   0.000000   0.000000   0.000000   0.00000   0.00000
## [2,]   5.44095  -4.636457   3.924548  -8.813402  -9.07024 -13.22507
## [3,]  37.63799  11.771960 -19.569895 -22.835125 -27.78473  15.91217
## [4,]  22.22933  -5.417776  29.664950  33.355223 -24.32988 -62.23862
## [5,]  77.98112  27.201196  61.691628 -27.664733 -66.37079  35.40943
## [6,] 133.24084 -32.182421  -3.628769  22.724601 -13.69289 111.22835
##           [,85]      [,86]      [,87]       [,88]       [,89]      [,90]
## [1,]   0.000000   0.000000  0.0000000   0.0000000    0.000000    0.00000
## [2,] -11.295163   8.571715  0.5359048  -0.4986615   -1.718775  -23.66432
## [3,]   3.339996  42.848095 -0.4608207 -27.3774162   39.505876  -22.62798
## [4,]  71.237425  11.511651 42.6775961 -51.2507595  -73.430151 -106.86320
## [5,]   5.012217 -71.572929 92.4504949 -27.0858111   64.108699  -26.28519
## [6,] -76.210293  39.518466 23.1890999 -32.7393942 -112.782774  -49.68077
##           [,91]     [,92]      [,93]       [,94]      [,95]      [,96]
## [1,]   0.000000  0.000000   0.000000   0.0000000   0.000000   0.000000
## [2,]  -7.037267  5.815971   4.221769   3.1365254  -1.939036 -15.345910
## [3,]  13.215393 -7.756882  53.305016  -7.5577332 -26.614869  44.266049
## [4,]   8.511992 57.335841  41.584146 -20.6702311  17.891688  -5.709477
## [5,]  -6.830522 -3.832322  95.532432  -0.2001573  12.599213  55.116724
## [6,] -94.625436 23.004677 -51.105816  29.8280505  62.756493  63.690927
##           [,97]      [,98]      [,99]      [,100]
## [1,]   0.000000   0.000000   0.000000    0.000000
## [2,] -12.416246  10.036934  -4.801296    3.637649
## [3,]  -9.779849  -4.389657 -20.870822  -19.584657
## [4,]   2.819465 -29.202589  39.329034   -6.652172
## [5,] -20.832680  46.800379  25.139415 -134.647666
## [6,] -15.493764  -5.144524 -39.980598   15.590047
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-50" style="background:;">
  <hgroup>
    <h2>Contrasting lapply and sapply</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">sapply(l, function(x) cor(x$ses, x$mathach_z, use = &quot;complete.obs&quot;))
</code></pre>

<pre><code>## NonWhiteFemaleHSB   NonWhiteMaleHSB    WhiteFemaleHSB      WhiteMaleHSB 
##         0.3242966         0.2606627         0.3371732         0.2839241
</code></pre>

<pre><code class="r">lapply(l, function(x) cor(x$ses, x$mathach_z, use = &quot;complete.obs&quot;))
</code></pre>

<pre><code>## $NonWhiteFemaleHSB
## [1] 0.3242966
## 
## $NonWhiteMaleHSB
## [1] 0.2606627
## 
## $WhiteFemaleHSB
## [1] 0.3371732
## 
## $WhiteMaleHSB
## [1] 0.2839241
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-51" style="background:;">
  <hgroup>
    <h2>Summary on lapply/sapply</h2>
  </hgroup>
  <article data-timings="">
    <p>Major benefits over for loops include:</p>

<ul>
<li>No need to initialize objects</li>
<li>Names from the list are maintained</li>
<li>Overall, can substantially reduce the amount of code you may need to write,
and can therefore also make your code more clear.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-52" style="background:;">
  <hgroup>
    <h2>Multivariate apply</h2>
  </hgroup>
  <article data-timings="">
    <p>Consider the following</p>

<pre><code class="r">list(rnorm(1, 1, 5), 
     rnorm(2, 2, 4), 
     rnorm(3, 3, 3), 
     rnorm(4, 4, 2), 
     rnorm(5, 5, 1))
</code></pre>

<pre><code>## [[1]]
## [1] 1.267476
## 
## [[2]]
## [1] 8.820816 4.751550
## 
## [[3]]
## [1] 5.852912 8.769463 1.481745
## 
## [[4]]
## [1]  3.38396739  3.07165714  2.43326750 -0.09015432
## 
## [[5]]
## [1] 6.307548 3.688829 5.046789 6.727140 5.144146
</code></pre>

<hr>

<h2>Alternatively: mapply</h2>

<pre><code class="r">mapply(rnorm, 1:5, 1:5, 5:1)
</code></pre>

<pre><code>## [[1]]
## [1] -3.149019
## 
## [[2]]
## [1] 8.558414 7.849069
## 
## [[3]]
## [1]  0.4776326  0.6532662 -0.8086692
## 
## [[4]]
## [1] 0.8013886 4.9857227 4.2313439 5.2425254
## 
## [[5]]
## [1] 5.998260 6.362669 4.684601 4.731573 3.649714
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-53" style="background:;">
  <hgroup>
    <h2>An example from my <em>r2Winsteps</em> package</h2>
  </hgroup>
  <article data-timings="">
    <p>\[
p = \frac{e^{\theta - \delta}}{1 + e^{\theta - \delta}}
\]</p>

<pre><code class="r">prob &lt;- function(delta) exp(theta - delta) / (1 + exp(theta - delta))
# p &lt;- mapply(prob, sfile$delta)
dvec &lt;- c(-0.8, 0.8)

theta &lt;- seq(-4, 4, 0.1)
mapply(prob, dvec)
</code></pre>

<pre><code>##             [,1]        [,2]
##  [1,] 0.03916572 0.008162571
##  [2,] 0.04310725 0.009013299
##  [3,] 0.04742587 0.009951802
##  [4,] 0.05215356 0.010986943
##  [5,] 0.05732418 0.012128435
##  [6,] 0.06297336 0.013386918
##  [7,] 0.06913842 0.014774032
##  [8,] 0.07585818 0.016302499
##  [9,] 0.08317270 0.017986210
## [10,] 0.09112296 0.019840306
## [11,] 0.09975049 0.021881271
## [12,] 0.10909682 0.024127021
## [13,] 0.11920292 0.026596994
## [14,] 0.13010847 0.029312231
## [15,] 0.14185106 0.032295465
## [16,] 0.15446527 0.035571189
## [17,] 0.16798161 0.039165723
## [18,] 0.18242552 0.043107255
## [19,] 0.19781611 0.047425873
## [20,] 0.21416502 0.052153563
## [21,] 0.23147522 0.057324176
## [22,] 0.24973989 0.062973356
## [23,] 0.26894142 0.069138420
## [24,] 0.28905050 0.075858180
## [25,] 0.31002552 0.083172696
## [26,] 0.33181223 0.091122961
## [27,] 0.35434369 0.099750489
## [28,] 0.37754067 0.109096821
## [29,] 0.40131234 0.119202922
## [30,] 0.42555748 0.130108474
## [31,] 0.45016600 0.141851065
## [32,] 0.47502081 0.154465265
## [33,] 0.50000000 0.167981615
## [34,] 0.52497919 0.182425524
## [35,] 0.54983400 0.197816111
## [36,] 0.57444252 0.214165017
## [37,] 0.59868766 0.231475217
## [38,] 0.62245933 0.249739894
## [39,] 0.64565631 0.268941421
## [40,] 0.66818777 0.289050497
## [41,] 0.68997448 0.310025519
## [42,] 0.71094950 0.331812228
## [43,] 0.73105858 0.354343694
## [44,] 0.75026011 0.377540669
## [45,] 0.76852478 0.401312340
## [46,] 0.78583498 0.425557483
## [47,] 0.80218389 0.450166003
## [48,] 0.81757448 0.475020813
## [49,] 0.83201839 0.500000000
## [50,] 0.84553473 0.524979187
## [51,] 0.85814894 0.549833997
## [52,] 0.86989153 0.574442517
## [53,] 0.88079708 0.598687660
## [54,] 0.89090318 0.622459331
## [55,] 0.90024951 0.645656306
## [56,] 0.90887704 0.668187772
## [57,] 0.91682730 0.689974481
## [58,] 0.92414182 0.710949503
## [59,] 0.93086158 0.731058579
## [60,] 0.93702664 0.750260106
## [61,] 0.94267582 0.768524783
## [62,] 0.94784644 0.785834983
## [63,] 0.95257413 0.802183889
## [64,] 0.95689275 0.817574476
## [65,] 0.96083428 0.832018385
## [66,] 0.96442881 0.845534735
## [67,] 0.96770454 0.858148935
## [68,] 0.97068777 0.869891526
## [69,] 0.97340301 0.880797078
## [70,] 0.97587298 0.890903179
## [71,] 0.97811873 0.900249511
## [72,] 0.98015969 0.908877039
## [73,] 0.98201379 0.916827304
## [74,] 0.98369750 0.924141820
## [75,] 0.98522597 0.930861580
## [76,] 0.98661308 0.937026644
## [77,] 0.98787157 0.942675824
## [78,] 0.98901306 0.947846437
## [79,] 0.99004820 0.952574127
## [80,] 0.99098670 0.956892745
## [81,] 0.99183743 0.960834277
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-54" style="background:;">
  <hgroup>
    <h2>What&#39;s this used for?</h2>
  </hgroup>
  <article data-timings="">
    <p>Plotting</p>

<pre><code class="r">library(r2Winsteps)
data(science)
pars &lt;- runWinsteps(science[ ,1:25], science[ ,26:29])
plot(pars)
</code></pre>

<p><img src="assets/fig/r2WinstepsPlotting-1.png" alt="plot of chunk r2WinstepsPlotting"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-55" style="background:;">
  <hgroup>
    <h2>ICCs</h2>
  </hgroup>
  <article data-timings="">
    <p>(basically because I can&#39;t help myself)</p>

<pre><code class="r">plot(pars, type = &quot;ICCs&quot;, colors = colorRamps::rgb.tables(25))
</code></pre>

<p><img src="assets/fig/r2WinstepsPlot2-1.png" alt="plot of chunk r2WinstepsPlot2"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue" id="slide-56" style="background:;">
  <hgroup>
    <h1>Summaries by grouping variables</h1>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-57" style="background:;">
  <hgroup>
    <h2>Applying function by group</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>tapply()</code> function is useful for applying any generic function to each
  level of a grouping factor</p>

<p><img src="../assets/img/tapply.png" alt="tapply"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-58" style="background:;">
  <hgroup>
    <h2>Load the beer data</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">beer &lt;- read.delim(&quot;./data/ratebeer_beerjobber.txt&quot;) # Load beer data
head(beer)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 2                  Abbey Monks Tripel Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 2            Abbey Tripel 8.0       3            NA             NA
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-59" style="background:;">
  <hgroup>
    <h2>Mean overall score by brewer</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tapply(beer$score.overall, beer$brewer, mean, na.rm = TRUE)
</code></pre>

<pre><code>##                         Abbey Beverage Company 
##                                       36.50000 
##                            Alameda Brewing Co. 
##                                       83.16667 
##                                 Ale Industries 
##                                       93.00000 
##                       American Brewing Company 
##                                       76.00000 
##               Appalachian Brewing Company (PA) 
##                                       56.57143 
##                     Bent River Brewing Company 
##                                       54.50000 
##                          Bison Brewing Company 
##                                       63.50000 
##                          Blue Mountain Brewery 
##                                       81.66667 
##                             Blue Point Brewing 
##                                       65.76923 
##                         Boxcar Brewing Company 
##                                       23.33333 
##             Brewers Alley Restaurant &amp; Brewery 
##                                       58.50000 
##                       Carolina Brewing Company 
##                                       61.60000 
##                        Cavalry Brewing Company 
##                                       33.75000 
##                             Colorado Cider Co. 
##                                       59.50000 
##                      Crow Peak Brewing Company 
##                                       54.33333 
##                Devils Backbone Brewing Company 
##                                       70.50000 
##                      Devils Canyon Brewing Co. 
##                                       68.25000 
##                           Diamond Knot Brewery 
##                                       69.37500 
##                          Dicks Brewing Company 
##                                       73.58333 
##                           Dry Dock Brewing Co. 
##                                       91.00000 
##                         DuClaw Brewing Company 
##                                       80.71429 
##                Eddyline Restaurant and Brewery 
##                                       42.00000 
##                         Elevation Beer Company 
##                                       80.00000 
##                            Elysian Brewing Co. 
##                                       86.41176 
##                           Erie Brewing Company 
##                                       49.90000 
##                       Evil Genius Beer Company 
##                                       38.66667 
##                       Figure Eight Brewing LLC 
##                                       51.33333 
##                              Flat 12 Bierwerks 
##                                       79.20000 
##                           Fort Collins Brewery 
##                                       72.42857 
##                       French Broad Brewing Co. 
##                                       75.50000 
##                            Great River Brewery 
##                                       70.00000 
##                                     Hales Ales 
##                                       72.00000 
##                         Harlem Brewing Company 
##                                       20.00000 
##                        Heretic Brewing Company 
##                                       87.00000 
##                     High Noon Saloon &amp; Brewery 
##                                       26.33333 
##                       Highland Brewing Company 
##                                       75.75000 
##                      Hilliards Brewing Company 
##                                       57.66667 
##                         Hopworks Urban Brewery 
##                                       89.80000 
##                        Huebert Brewing Company 
##                                            NaN 
##                      La Cumbre Brewing Company 
##                                      100.00000 
##              Laurelwood Public House &amp; Brewery 
##                                       84.87500 
##                  Lazy Magnolia Brewing Company 
##                                       65.60000 
##     Left Coast/Oggis Pizza and Brewing Company 
##                                       80.57143 
##                              Mad River Brewery 
##                                       82.00000 
##                  Madison River Brewing Company 
##                                       44.00000 
##                                 Marble Brewery 
##                                       92.50000 
##                     Millstream Brewing Company 
##                                       60.30000 
##                                Mission Brewery 
##                                       72.33333 
##                       Monocacy Brewing Company 
##                                            NaN 
##                    Mother Road Brewing Company 
##                                            NaN 
##                   Moylans Brewery &amp; Restaurant 
##                                       84.00000 
##                   Narragansett Brewing Company 
##                                       37.14286 
##                           Odin Brewing Company 
##                                       69.66667 
##                     Pale Horse Brewing Company 
##                                       66.50000 
##                   Philadelphia Brewing Company 
##                                       55.80000 
##                      Port City Brewing Company 
##                                       70.00000 
##                            Rahr &amp; Sons Brewing 
##                                       32.00000 
##                                 Red Lodge Ales 
##                                       47.16667 
##                       Renegade Brewing Company 
##                                       72.00000 
## Rio Grande Brewing Co. (Sierra Blanca Brewing) 
##                                       23.75000 
##                              Rivertown Brewing 
##                                       60.58824 
##                       Santa Fe Brewing Company 
##                                       77.00000 
##                       Sierra Blanca Brewing Co 
##                                       41.20000 
##                             Six Rivers Brewery 
##                                       56.40000 
##                                Straight To Ale 
##                                       91.00000 
##                         Strike Brewing Company 
##                                            NaN 
##                      Telluride Brewing Company 
##                                            NaN 
##                          Terrapin Beer Company 
##                                       83.25000 
##                    Thunderhead Brewing Company 
##                                       39.50000 
##                           Twisted Pine Brewing 
##                                       42.80000 
##                        Upslope Brewing Company 
##                                       48.80000 
##                             Voodoo Brewing Co. 
##                                       75.66667
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-60" style="background:;">
  <hgroup>
    <h2>Number of beers rated by brewer</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tapply(beer$name, beer$brewer, length)
</code></pre>

<pre><code>##                         Abbey Beverage Company 
##                                              3 
##                            Alameda Brewing Co. 
##                                              7 
##                                 Ale Industries 
##                                              3 
##                       American Brewing Company 
##                                              3 
##               Appalachian Brewing Company (PA) 
##                                             14 
##                     Bent River Brewing Company 
##                                              2 
##                          Bison Brewing Company 
##                                              6 
##                          Blue Mountain Brewery 
##                                              6 
##                             Blue Point Brewing 
##                                             13 
##                         Boxcar Brewing Company 
##                                              3 
##             Brewers Alley Restaurant &amp; Brewery 
##                                              4 
##                       Carolina Brewing Company 
##                                              5 
##                        Cavalry Brewing Company 
##                                              5 
##                             Colorado Cider Co. 
##                                              4 
##                      Crow Peak Brewing Company 
##                                              3 
##                Devils Backbone Brewing Company 
##                                              2 
##                      Devils Canyon Brewing Co. 
##                                              4 
##                           Diamond Knot Brewery 
##                                              8 
##                          Dicks Brewing Company 
##                                             12 
##                           Dry Dock Brewing Co. 
##                                              3 
##                         DuClaw Brewing Company 
##                                              7 
##                Eddyline Restaurant and Brewery 
##                                              5 
##                         Elevation Beer Company 
##                                              1 
##                            Elysian Brewing Co. 
##                                             17 
##                           Erie Brewing Company 
##                                             10 
##                       Evil Genius Beer Company 
##                                              4 
##                       Figure Eight Brewing LLC 
##                                              6 
##                              Flat 12 Bierwerks 
##                                              7 
##                           Fort Collins Brewery 
##                                              7 
##                       French Broad Brewing Co. 
##                                              6 
##                            Great River Brewery 
##                                              4 
##                                     Hales Ales 
##                                              8 
##                         Harlem Brewing Company 
##                                              1 
##                        Heretic Brewing Company 
##                                              5 
##                     High Noon Saloon &amp; Brewery 
##                                              3 
##                       Highland Brewing Company 
##                                              8 
##                      Hilliards Brewing Company 
##                                              3 
##                         Hopworks Urban Brewery 
##                                              5 
##                        Huebert Brewing Company 
##                                              4 
##                      La Cumbre Brewing Company 
##                                              1 
##              Laurelwood Public House &amp; Brewery 
##                                              8 
##                  Lazy Magnolia Brewing Company 
##                                              5 
##     Left Coast/Oggis Pizza and Brewing Company 
##                                              7 
##                              Mad River Brewery 
##                                              6 
##                  Madison River Brewing Company 
##                                              4 
##                                 Marble Brewery 
##                                              4 
##                     Millstream Brewing Company 
##                                             10 
##                                Mission Brewery 
##                                              6 
##                       Monocacy Brewing Company 
##                                              1 
##                    Mother Road Brewing Company 
##                                              3 
##                   Moylans Brewery &amp; Restaurant 
##                                             13 
##                   Narragansett Brewing Company 
##                                              7 
##                           Odin Brewing Company 
##                                              3 
##                     Pale Horse Brewing Company 
##                                              6 
##                   Philadelphia Brewing Company 
##                                             10 
##                      Port City Brewing Company 
##                                              5 
##                            Rahr &amp; Sons Brewing 
##                                              4 
##                                 Red Lodge Ales 
##                                              6 
##                       Renegade Brewing Company 
##                                              1 
## Rio Grande Brewing Co. (Sierra Blanca Brewing) 
##                                              4 
##                              Rivertown Brewing 
##                                             17 
##                       Santa Fe Brewing Company 
##                                              9 
##                       Sierra Blanca Brewing Co 
##                                              5 
##                             Six Rivers Brewery 
##                                              5 
##                                Straight To Ale 
##                                              1 
##                         Strike Brewing Company 
##                                              5 
##                      Telluride Brewing Company 
##                                              1 
##                          Terrapin Beer Company 
##                                              4 
##                    Thunderhead Brewing Company 
##                                              2 
##                           Twisted Pine Brewing 
##                                              5 
##                        Upslope Brewing Company 
##                                              5 
##                             Voodoo Brewing Co. 
##                                              6
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-61" style="background:;">
  <hgroup>
    <h2>Average overall score by abv</h2>
  </hgroup>
  <article data-timings="">
    <h1>(rounded to nearest whole number)</h1>

<pre><code class="r">tapply(beer$score.overall, round(beer$abv), mean, na.rm = TRUE)
</code></pre>

<pre><code>##        0        4        5        6        7        8        9       10 
## 51.63636 43.68571 54.64706 65.58416 76.33333 79.91111 88.25000 85.38462 
##       11       12       13 
## 96.00000 87.66667 97.00000
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-62" style="background:;">
  <hgroup>
    <h2>Make a summary by abv</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">abv &lt;- round(beer$abv)

summary &lt;- data.frame(
  row.names = names(table(abv)),
  meanOverallScore = tapply(beer$score.overall, abv, mean, na.rm = TRUE),
  numberRatings = tapply(beer$ratings, abv, sum, na.rm = TRUE),
  numberBreweries = tapply(beer$brewer, abv, function(x) length(unique(x)))
  )
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-63" style="background:;">
  <article data-timings="">
    <pre><code class="r">summary
</code></pre>

<pre><code>##    meanOverallScore numberRatings numberBreweries
## 0          51.63636           531              18
## 4          43.68571          3231              25
## 5          54.64706         10061              44
## 6          65.58416         13704              46
## 7          76.33333          6575              39
## 8          79.91111          5722              29
## 9          88.25000          2362              13
## 10         85.38462          2656              10
## 11         96.00000            14               1
## 12         87.66667           487               3
## 13         97.00000            99               1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-64" style="background:;">
  <hgroup>
    <h2>An alternative to tapply for summation</h2>
  </hgroup>
  <article data-timings="">
    <p>Just as <code>rowSums</code> and <code>colSums</code> are optimized versions of <code>apply</code> for summation, <code>rowsum</code> is an optimized version of <code>tapply</code> for summation.</p>

<p>Compute the total number of ratings by brewer</p>

<pre><code class="r">rowsum(beer$ratings, beer$brewer)
</code></pre>

<pre><code>##                                                [,1]
## Abbey Beverage Company                          145
## Alameda Brewing Co.                             434
## Ale Industries                                   38
## American Brewing Company                        116
## Appalachian Brewing Company (PA)               1321
## Bent River Brewing Company                       92
## Bison Brewing Company                          1220
## Blue Mountain Brewery                           162
## Blue Point Brewing                             3198
## Boxcar Brewing Company                           56
## Brewers Alley Restaurant &amp; Brewery              192
## Carolina Brewing Company                        284
## Cavalry Brewing Company                          58
## Colorado Cider Co.                               30
## Crow Peak Brewing Company                       178
## Devils Backbone Brewing Company                 150
## Devils Canyon Brewing Co.                       106
## Diamond Knot Brewery                           1027
## Dicks Brewing Company                           955
## Dry Dock Brewing Co.                            217
## DuClaw Brewing Company                          638
## Eddyline Restaurant and Brewery                  63
## Elevation Beer Company                           16
## Elysian Brewing Co.                            3361
## Erie Brewing Company                           1605
## Evil Genius Beer Company                         54
## Figure Eight Brewing LLC                         75
## Flat 12 Bierwerks                               189
## Fort Collins Brewery                           2527
## French Broad Brewing Co.                        765
## Great River Brewery                             238
## Hales Ales                                      946
## Harlem Brewing Company                           65
## Heretic Brewing Company                         388
## High Noon Saloon &amp; Brewery                       53
## Highland Brewing Company                       2715
## Hilliards Brewing Company                        58
## Hopworks Urban Brewery                          611
## Huebert Brewing Company                          12
## La Cumbre Brewing Company                       112
## Laurelwood Public House &amp; Brewery               446
## Lazy Magnolia Brewing Company                   962
## Left Coast/Oggis Pizza and Brewing Company      632
## Mad River Brewery                              2485
## Madison River Brewing Company                   210
## Marble Brewery                                  195
## Millstream Brewing Company                     1217
## Mission Brewery                                 886
## Monocacy Brewing Company                          6
## Mother Road Brewing Company                      17
## Moylans Brewery &amp; Restaurant                   5148
## Narragansett Brewing Company                    514
## Odin Brewing Company                             91
## Pale Horse Brewing Company                       72
## Philadelphia Brewing Company                    762
## Port City Brewing Company                       299
## Rahr &amp; Sons Brewing                             570
## Red Lodge Ales                                  140
## Renegade Brewing Company                         25
## Rio Grande Brewing Co. (Sierra Blanca Brewing)  205
## Rivertown Brewing                               718
## Santa Fe Brewing Company                       1229
## Sierra Blanca Brewing Co                        286
## Six Rivers Brewery                              252
## Straight To Ale                                  41
## Strike Brewing Company                           14
## Telluride Brewing Company                         8
## Terrapin Beer Company                          1678
## Thunderhead Brewing Company                      55
## Twisted Pine Brewing                            764
## Upslope Brewing Company                         220
## Voodoo Brewing Co.                              825
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-65" style="background:;">
  <hgroup>
    <h2>Calculate average overall score for each brewer</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tot &lt;- rowsum(beer$score.overall, beer$brewer)
n &lt;- tapply(beer$score.overall, beer$brewer, length)
av &lt;- tot[ ,1]/n # Note tot is an integer matrix
as.matrix(av)
</code></pre>

<pre><code>##                                                     [,1]
## Abbey Beverage Company                                NA
## Alameda Brewing Co.                                   NA
## Ale Industries                                        NA
## American Brewing Company                        76.00000
## Appalachian Brewing Company (PA)                56.57143
## Bent River Brewing Company                      54.50000
## Bison Brewing Company                           63.50000
## Blue Mountain Brewery                           81.66667
## Blue Point Brewing                              65.76923
## Boxcar Brewing Company                          23.33333
## Brewers Alley Restaurant &amp; Brewery              58.50000
## Carolina Brewing Company                        61.60000
## Cavalry Brewing Company                               NA
## Colorado Cider Co.                                    NA
## Crow Peak Brewing Company                       54.33333
## Devils Backbone Brewing Company                 70.50000
## Devils Canyon Brewing Co.                       68.25000
## Diamond Knot Brewery                            69.37500
## Dicks Brewing Company                           73.58333
## Dry Dock Brewing Co.                            91.00000
## DuClaw Brewing Company                          80.71429
## Eddyline Restaurant and Brewery                       NA
## Elevation Beer Company                          80.00000
## Elysian Brewing Co.                             86.41176
## Erie Brewing Company                            49.90000
## Evil Genius Beer Company                              NA
## Figure Eight Brewing LLC                              NA
## Flat 12 Bierwerks                                     NA
## Fort Collins Brewery                            72.42857
## French Broad Brewing Co.                        75.50000
## Great River Brewery                             70.00000
## Hales Ales                                      72.00000
## Harlem Brewing Company                          20.00000
## Heretic Brewing Company                         87.00000
## High Noon Saloon &amp; Brewery                      26.33333
## Highland Brewing Company                        75.75000
## Hilliards Brewing Company                       57.66667
## Hopworks Urban Brewery                          89.80000
## Huebert Brewing Company                               NA
## La Cumbre Brewing Company                      100.00000
## Laurelwood Public House &amp; Brewery               84.87500
## Lazy Magnolia Brewing Company                   65.60000
## Left Coast/Oggis Pizza and Brewing Company      80.57143
## Mad River Brewery                               82.00000
## Madison River Brewing Company                   44.00000
## Marble Brewery                                  92.50000
## Millstream Brewing Company                      60.30000
## Mission Brewery                                 72.33333
## Monocacy Brewing Company                              NA
## Mother Road Brewing Company                           NA
## Moylans Brewery &amp; Restaurant                          NA
## Narragansett Brewing Company                    37.14286
## Odin Brewing Company                            69.66667
## Pale Horse Brewing Company                            NA
## Philadelphia Brewing Company                    55.80000
## Port City Brewing Company                       70.00000
## Rahr &amp; Sons Brewing                             32.00000
## Red Lodge Ales                                  47.16667
## Renegade Brewing Company                        72.00000
## Rio Grande Brewing Co. (Sierra Blanca Brewing)  23.75000
## Rivertown Brewing                               60.58824
## Santa Fe Brewing Company                        77.00000
## Sierra Blanca Brewing Co                        41.20000
## Six Rivers Brewery                              56.40000
## Straight To Ale                                 91.00000
## Strike Brewing Company                                NA
## Telluride Brewing Company                             NA
## Terrapin Beer Company                           83.25000
## Thunderhead Brewing Company                     39.50000
## Twisted Pine Brewing                            42.80000
## Upslope Brewing Company                         48.80000
## Voodoo Brewing Co.                              75.66667
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-66" style="background:;">
  <hgroup>
    <h2>The <code>by()</code> function</h2>
  </hgroup>
  <article data-timings="">
    <p>Apply a function to groups.</p>

<pre><code class="r">library(openintro) # Lots of nice datasets (which I just discovered)
data(census)
head(census)
</code></pre>

<pre><code>##   censusYear stateFIPScode totalFamilyIncome age    sex     raceGeneral
## 1       2000       Florida             14550  44   Male Two major races
## 2       2000       Florida             22800  20 Female           White
## 3       2000       Florida                 0  20   Male           Black
## 4       2000       Florida             23000   6 Female           White
## 5       2000       Florida             48000  55   Male           White
## 6       2000       Florida             74000  43 Female           White
##            maritalStatus totalPersonalIncome
## 1 Married/spouse present                   0
## 2   Never married/single               13000
## 3   Never married/single               20000
## 4   Never married/single                  NA
## 5 Married/spouse present               36000
## 6 Married/spouse present               27000
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-67" style="background:;">
  <hgroup>
    <h2>Calculate means by state, race, and sex</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">means &lt;- by(census$totalPersonalIncome, 
              list(census$stateFIPScode, 
                   census$raceGeneral,
                   census$sex), mean, na.rm = TRUE)
means # Note there&#39;s a lot of missing data
</code></pre>

<pre><code>## : Alabama
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Colorado
## : American Indian or Alaska Native
## : Female
## [1] 26700
## -------------------------------------------------------- 
## : Connecticut
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : American Indian or Alaska Native
## : Female
## [1] 20000
## -------------------------------------------------------- 
## : Minnesota
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : American Indian or Alaska Native
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Black
## : Female
## [1] 7100
## -------------------------------------------------------- 
## : Arizona
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Black
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : California
## : Black
## : Female
## [1] 40000
## -------------------------------------------------------- 
## : Colorado
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Black
## : Female
## [1] 3600
## -------------------------------------------------------- 
## : Delaware
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Black
## : Female
## [1] 40000
## -------------------------------------------------------- 
## : Georgia
## : Black
## : Female
## [1] 19066.67
## -------------------------------------------------------- 
## : Hawaii
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Black
## : Female
## [1] 30000
## -------------------------------------------------------- 
## : Indiana
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Black
## : Female
## [1] 9500
## -------------------------------------------------------- 
## : Massachusetts
## : Black
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : Michigan
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Black
## : Female
## [1] 700
## -------------------------------------------------------- 
## : Missouri
## : Black
## : Female
## [1] 54000
## -------------------------------------------------------- 
## : Montana
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Black
## : Female
## [1] 18500
## -------------------------------------------------------- 
## : New Mexico
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Black
## : Female
## [1] 9025
## -------------------------------------------------------- 
## : North Carolina
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Black
## : Female
## [1] 19604
## -------------------------------------------------------- 
## : Oklahoma
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Black
## : Female
## [1] 27000
## -------------------------------------------------------- 
## : Rhode Island
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Black
## : Female
## [1] 15000
## -------------------------------------------------------- 
## : Tennessee
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Black
## : Female
## [1] 10000
## -------------------------------------------------------- 
## : Utah
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Black
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : Chinese
## : Female
## [1] 0
## -------------------------------------------------------- 
## : Colorado
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Chinese
## : Female
## [1] 34600
## -------------------------------------------------------- 
## : Idaho
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Chinese
## : Female
## [1] 0
## -------------------------------------------------------- 
## : North Carolina
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Chinese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Colorado
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Japanese
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Other
## : Female
## [1] 15300
## -------------------------------------------------------- 
## : Arizona
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : Other
## : Female
## [1] 1900
## -------------------------------------------------------- 
## : Colorado
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Other
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : Iowa
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Other
## : Female
## [1] 0
## -------------------------------------------------------- 
## : Michigan
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Other
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : New Mexico
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Other
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : Pennsylvania
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Other
## : Female
## [1] 0
## -------------------------------------------------------- 
## : Utah
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Other
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : Other Asian or Pacific Islander
## : Female
## [1] 21150
## -------------------------------------------------------- 
## : Colorado
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Other Asian or Pacific Islander
## : Female
## [1] 22000
## -------------------------------------------------------- 
## : Idaho
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Other Asian or Pacific Islander
## : Female
## [1] 0
## -------------------------------------------------------- 
## : North Carolina
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Other Asian or Pacific Islander
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : West Virginia
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Other Asian or Pacific Islander
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : Two major races
## : Female
## [1] 0
## -------------------------------------------------------- 
## : Colorado
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Two major races
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : New Hampshire
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Two major races
## : Female
## [1] 25000
## -------------------------------------------------------- 
## : North Carolina
## : Two major races
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : Ohio
## : Two major races
## : Female
## [1] 0
## -------------------------------------------------------- 
## : Oklahoma
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Two major races
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : White
## : Female
## [1] 20000
## -------------------------------------------------------- 
## : Arkansas
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : California
## : White
## : Female
## [1] 17994.44
## -------------------------------------------------------- 
## : Colorado
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : White
## : Female
## [1] 34300
## -------------------------------------------------------- 
## : Delaware
## : White
## : Female
## [1] 9100
## -------------------------------------------------------- 
## : District of Columbia
## : White
## : Female
## [1] 30000
## -------------------------------------------------------- 
## : Florida
## : White
## : Female
## [1] 17229.41
## -------------------------------------------------------- 
## : Georgia
## : White
## : Female
## [1] 28410
## -------------------------------------------------------- 
## : Hawaii
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : White
## : Female
## [1] 15781.82
## -------------------------------------------------------- 
## : Indiana
## : White
## : Female
## [1] 19390
## -------------------------------------------------------- 
## : Iowa
## : White
## : Female
## [1] 14300
## -------------------------------------------------------- 
## : Kansas
## : White
## : Female
## [1] 484
## -------------------------------------------------------- 
## : Kentucky
## : White
## : Female
## [1] 13600
## -------------------------------------------------------- 
## : Louisiana
## : White
## : Female
## [1] 16050
## -------------------------------------------------------- 
## : Maine
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : White
## : Female
## [1] 36850
## -------------------------------------------------------- 
## : Massachusetts
## : White
## : Female
## [1] 35042.86
## -------------------------------------------------------- 
## : Michigan
## : White
## : Female
## [1] 240
## -------------------------------------------------------- 
## : Minnesota
## : White
## : Female
## [1] 24550
## -------------------------------------------------------- 
## : Mississippi
## : White
## : Female
## [1] 25000
## -------------------------------------------------------- 
## : Missouri
## : White
## : Female
## [1] 7800
## -------------------------------------------------------- 
## : Montana
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : White
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : New Hampshire
## : White
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : New Jersey
## : White
## : Female
## [1] 15052.5
## -------------------------------------------------------- 
## : New Mexico
## : White
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : New York
## : White
## : Female
## [1] 29825.56
## -------------------------------------------------------- 
## : North Carolina
## : White
## : Female
## [1] 8200
## -------------------------------------------------------- 
## : Ohio
## : White
## : Female
## [1] 17914.29
## -------------------------------------------------------- 
## : Oklahoma
## : White
## : Female
## [1] 27100
## -------------------------------------------------------- 
## : Oregon
## : White
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : Pennsylvania
## : White
## : Female
## [1] 10850
## -------------------------------------------------------- 
## : Rhode Island
## : White
## : Female
## [1] 44004
## -------------------------------------------------------- 
## : South Carolina
## : White
## : Female
## [1] 23000
## -------------------------------------------------------- 
## : Tennessee
## : White
## : Female
## [1] 12200
## -------------------------------------------------------- 
## : Texas
## : White
## : Female
## [1] 10640
## -------------------------------------------------------- 
## : Utah
## : White
## : Female
## [1] 15000
## -------------------------------------------------------- 
## : Virginia
## : White
## : Female
## [1] 8500
## -------------------------------------------------------- 
## : Washington
## : White
## : Female
## [1] 8300
## -------------------------------------------------------- 
## : West Virginia
## : White
## : Female
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : White
## : Female
## [1] 20000
## -------------------------------------------------------- 
## : Wyoming
## : White
## : Female
## [1] NaN
## -------------------------------------------------------- 
## : Alabama
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Colorado
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New York
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : American Indian or Alaska Native
## : Male
## [1] 0
## -------------------------------------------------------- 
## : West Virginia
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : American Indian or Alaska Native
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : Black
## : Male
## [1] 57190
## -------------------------------------------------------- 
## : Colorado
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Black
## : Male
## [1] 11066.67
## -------------------------------------------------------- 
## : Georgia
## : Black
## : Male
## [1] 25025
## -------------------------------------------------------- 
## : Hawaii
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Black
## : Male
## [1] 4000
## -------------------------------------------------------- 
## : Iowa
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Black
## : Male
## [1] 51900
## -------------------------------------------------------- 
## : Louisiana
## : Black
## : Male
## [1] 6350
## -------------------------------------------------------- 
## : Maine
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Black
## : Male
## [1] 10400
## -------------------------------------------------------- 
## : Massachusetts
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Black
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : Missouri
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Black
## : Male
## [1] 36000
## -------------------------------------------------------- 
## : New Mexico
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Black
## : Male
## [1] 3180
## -------------------------------------------------------- 
## : North Carolina
## : Black
## : Male
## [1] 14000
## -------------------------------------------------------- 
## : Ohio
## : Black
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : Oklahoma
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Black
## : Male
## [1] 6500
## -------------------------------------------------------- 
## : Rhode Island
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Black
## : Male
## [1] 8796.667
## -------------------------------------------------------- 
## : Utah
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Black
## : Male
## [1] 31800
## -------------------------------------------------------- 
## : Washington
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Black
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : Chinese
## : Male
## [1] 20000
## -------------------------------------------------------- 
## : Colorado
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Chinese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Japanese
## : Male
## [1] 45000
## -------------------------------------------------------- 
## : Arkansas
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Colorado
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Japanese
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : Other
## : Male
## [1] 10900
## -------------------------------------------------------- 
## : Colorado
## : Other
## : Male
## [1] 13000
## -------------------------------------------------------- 
## : Connecticut
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Other
## : Male
## [1] 24250
## -------------------------------------------------------- 
## : Georgia
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Other
## : Male
## [1] 40600
## -------------------------------------------------------- 
## : Indiana
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Mexico
## : Other
## : Male
## [1] 10600
## -------------------------------------------------------- 
## : New York
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Other
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : Oregon
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Other
## : Male
## [1] 0
## -------------------------------------------------------- 
## : Rhode Island
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Other
## : Male
## [1] 16000
## -------------------------------------------------------- 
## : West Virginia
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Other
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : Other Asian or Pacific Islander
## : Male
## [1] 95000
## -------------------------------------------------------- 
## : Colorado
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Georgia
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Hawaii
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Other Asian or Pacific Islander
## : Male
## [1] 39920
## -------------------------------------------------------- 
## : Iowa
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Massachusetts
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Minnesota
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : Other Asian or Pacific Islander
## : Male
## [1] 23000
## -------------------------------------------------------- 
## : New Hampshire
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Other Asian or Pacific Islander
## : Male
## [1] 317000
## -------------------------------------------------------- 
## : New Mexico
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : North Carolina
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Other Asian or Pacific Islander
## : Male
## [1] 12000
## -------------------------------------------------------- 
## : Oklahoma
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Tennessee
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Other Asian or Pacific Islander
## : Male
## [1] 15000
## -------------------------------------------------------- 
## : West Virginia
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Other Asian or Pacific Islander
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arizona
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Arkansas
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : Two major races
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : Colorado
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Connecticut
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Delaware
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Florida
## : Two major races
## : Male
## [1] 0
## -------------------------------------------------------- 
## : Georgia
## : Two major races
## : Male
## [1] 19700
## -------------------------------------------------------- 
## : Hawaii
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Illinois
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Indiana
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Iowa
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kansas
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Kentucky
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Louisiana
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maine
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Maryland
## : Two major races
## : Male
## [1] 22460
## -------------------------------------------------------- 
## : Massachusetts
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Michigan
## : Two major races
## : Male
## [1] 69000
## -------------------------------------------------------- 
## : Minnesota
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Mississippi
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Missouri
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Montana
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nebraska
## : Two major races
## : Male
## [1] 40000
## -------------------------------------------------------- 
## : Nevada
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Hampshire
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New Jersey
## : Two major races
## : Male
## [1] 24500
## -------------------------------------------------------- 
## : New Mexico
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : New York
## : Two major races
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : North Carolina
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Ohio
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oklahoma
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Oregon
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Pennsylvania
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Rhode Island
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : South Carolina
## : Two major races
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : Tennessee
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Texas
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Utah
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Virginia
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Washington
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : West Virginia
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wisconsin
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Wyoming
## : Two major races
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Alabama
## : White
## : Male
## [1] 47950
## -------------------------------------------------------- 
## : Arizona
## : White
## : Male
## [1] 14000
## -------------------------------------------------------- 
## : Arkansas
## : White
## : Male
## [1] NA
## -------------------------------------------------------- 
## : California
## : White
## : Male
## [1] 77400
## -------------------------------------------------------- 
## : Colorado
## : White
## : Male
## [1] 223050
## -------------------------------------------------------- 
## : Connecticut
## : White
## : Male
## [1] 25500
## -------------------------------------------------------- 
## : Delaware
## : White
## : Male
## [1] NA
## -------------------------------------------------------- 
## : District of Columbia
## : White
## : Male
## [1] 17190
## -------------------------------------------------------- 
## : Florida
## : White
## : Male
## [1] 29291.11
## -------------------------------------------------------- 
## : Georgia
## : White
## : Male
## [1] 60212
## -------------------------------------------------------- 
## : Hawaii
## : White
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Idaho
## : White
## : Male
## [1] 23000
## -------------------------------------------------------- 
## : Illinois
## : White
## : Male
## [1] 32940
## -------------------------------------------------------- 
## : Indiana
## : White
## : Male
## [1] 21250
## -------------------------------------------------------- 
## : Iowa
## : White
## : Male
## [1] 28500
## -------------------------------------------------------- 
## : Kansas
## : White
## : Male
## [1] 41000
## -------------------------------------------------------- 
## : Kentucky
## : White
## : Male
## [1] 240000
## -------------------------------------------------------- 
## : Louisiana
## : White
## : Male
## [1] 40575
## -------------------------------------------------------- 
## : Maine
## : White
## : Male
## [1] 10700
## -------------------------------------------------------- 
## : Maryland
## : White
## : Male
## [1] 46850
## -------------------------------------------------------- 
## : Massachusetts
## : White
## : Male
## [1] 24166.67
## -------------------------------------------------------- 
## : Michigan
## : White
## : Male
## [1] 49966.67
## -------------------------------------------------------- 
## : Minnesota
## : White
## : Male
## [1] 14333.33
## -------------------------------------------------------- 
## : Mississippi
## : White
## : Male
## [1] 25000
## -------------------------------------------------------- 
## : Missouri
## : White
## : Male
## [1] 14600
## -------------------------------------------------------- 
## : Montana
## : White
## : Male
## [1] 36000
## -------------------------------------------------------- 
## : Nebraska
## : White
## : Male
## [1] NA
## -------------------------------------------------------- 
## : Nevada
## : White
## : Male
## [1] NaN
## -------------------------------------------------------- 
## : New Hampshire
## : White
## : Male
## [1] 14700
## -------------------------------------------------------- 
## : New Jersey
## : White
## : Male
## [1] 11420
## -------------------------------------------------------- 
## : New Mexico
## : White
## : Male
## [1] 44000
## -------------------------------------------------------- 
## : New York
## : White
## : Male
## [1] 46487
## -------------------------------------------------------- 
## : North Carolina
## : White
## : Male
## [1] 21526.67
## -------------------------------------------------------- 
## : Ohio
## : White
## : Male
## [1] 33161.43
## -------------------------------------------------------- 
## : Oklahoma
## : White
## : Male
## [1] 43866.67
## -------------------------------------------------------- 
## : Oregon
## : White
## : Male
## [1] 12000
## -------------------------------------------------------- 
## : Pennsylvania
## : White
## : Male
## [1] 36202.22
## -------------------------------------------------------- 
## : Rhode Island
## : White
## : Male
## [1] 43000
## -------------------------------------------------------- 
## : South Carolina
## : White
## : Male
## [1] 26960
## -------------------------------------------------------- 
## : Tennessee
## : White
## : Male
## [1] 61675
## -------------------------------------------------------- 
## : Texas
## : White
## : Male
## [1] 57515
## -------------------------------------------------------- 
## : Utah
## : White
## : Male
## [1] 72600
## -------------------------------------------------------- 
## : Virginia
## : White
## : Male
## [1] 18900
## -------------------------------------------------------- 
## : Washington
## : White
## : Male
## [1] 26525
## -------------------------------------------------------- 
## : West Virginia
## : White
## : Male
## [1] 0
## -------------------------------------------------------- 
## : Wisconsin
## : White
## : Male
## [1] 36672.86
## -------------------------------------------------------- 
## : Wyoming
## : White
## : Male
## [1] NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-68" style="background:;">
  <hgroup>
    <h2>Structure of means</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">str(means)
</code></pre>

<pre><code>##  by [1:47, 1:8, 1:2] NA NA NA NA 26700 NA NA NA NA NA ...
##  - attr(*, &quot;dimnames&quot;)=List of 3
##   ..$ : chr [1:47] &quot;Alabama&quot; &quot;Arizona&quot; &quot;Arkansas&quot; &quot;California&quot; ...
##   ..$ : chr [1:8] &quot;American Indian or Alaska Native&quot; &quot;Black&quot; &quot;Chinese&quot; &quot;Japanese&quot; ...
##   ..$ : chr [1:2] &quot;Female&quot; &quot;Male&quot;
##  - attr(*, &quot;call&quot;)= language by.default(data = census$totalPersonalIncome, INDICES = list(census$stateFIPScode,      census$raceGeneral, census$sex), FUN = mean, na.rm = TRUE)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-69" style="background:;">
  <hgroup>
    <h2>Compute marginal means by state</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">apply(means, 1, mean, na.rm = TRUE)
</code></pre>

<pre><code>##              Alabama              Arizona             Arkansas 
##             23450.00             26333.33                  NaN 
##           California             Colorado          Connecticut 
##             31048.59             87583.33             21133.33 
##             Delaware District of Columbia              Florida 
##              9100.00             23595.00             20306.20 
##              Georgia               Hawaii                Idaho 
##             30482.73             28300.00             23000.00 
##             Illinois              Indiana                 Iowa 
##             29830.45             21140.00             21400.00 
##               Kansas             Kentucky            Louisiana 
##             20742.00            101833.33             20991.67 
##                Maine             Maryland        Massachusetts 
##             10700.00             25212.00             19736.51 
##             Michigan            Minnesota          Mississippi 
##             34801.67             19441.67             16900.00 
##             Missouri              Montana             Nebraska 
##             25466.67             36000.00             40000.00 
##               Nevada        New Hampshire           New Jersey 
##             23000.00             14700.00             70412.08 
##           New Mexico             New York       North Carolina 
##             27300.00             16216.79             14575.56 
##                 Ohio             Oklahoma               Oregon 
##             16535.94             35483.33             12000.00 
##         Pennsylvania         Rhode Island       South Carolina 
##             16110.44             43502.00             21653.33 
##            Tennessee                Texas                 Utah 
##             36937.50             17390.33             43800.00 
##             Virginia           Washington        West Virginia 
##             19733.33             13165.00                 0.00 
##            Wisconsin              Wyoming 
##             28336.43                  NaN
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-70" style="background:;">
  <hgroup>
    <h2>Compute marginal means by race/ethnicity</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">apply(means, 2, mean, na.rm = TRUE)
</code></pre>

<pre><code>## American Indian or Alaska Native                            Black 
##                         15566.67                         20332.29 
##                          Chinese                         Japanese 
##                         13650.00                         45000.00 
##                            Other  Other Asian or Pacific Islander 
##                         12050.00                         60563.33 
##                  Two major races                            White 
##                         22295.56                         31991.83
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-71" style="background:;">
  <hgroup>
    <h2>Compute marginal means by sex</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">apply(means, 3, mean, na.rm = TRUE)
</code></pre>

<pre><code>##   Female     Male 
## 17245.31 37826.64
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-72" style="background:;">
  <hgroup>
    <h2>Look within a particular state</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">means[&quot;Oregon&quot;, , ]
</code></pre>

<pre><code>##                                  Female  Male
## American Indian or Alaska Native     NA    NA
## Black                                NA    NA
## Chinese                              NA    NA
## Japanese                             NA    NA
## Other                               NaN    NA
## Other Asian or Pacific Islander      NA    NA
## Two major races                      NA    NA
## White                               NaN 12000
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-73" style="background:;">
  <hgroup>
    <h2>Only individuals identifying as Black</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">means[ ,&quot;Black&quot;, ]
</code></pre>

<pre><code>##                        Female      Male
## Alabama               7100.00        NA
## Arizona                    NA        NA
## Arkansas                  NaN        NA
## California           40000.00 57190.000
## Colorado                   NA        NA
## Connecticut           3600.00        NA
## Delaware                   NA        NA
## District of Columbia       NA        NA
## Florida              40000.00 11066.667
## Georgia              19066.67 25025.000
## Hawaii                     NA        NA
## Idaho                      NA        NA
## Illinois             30000.00        NA
## Indiana                    NA  4000.000
## Iowa                       NA        NA
## Kansas                     NA        NA
## Kentucky                   NA 51900.000
## Louisiana                  NA  6350.000
## Maine                      NA        NA
## Maryland              9500.00 10400.000
## Massachusetts             NaN        NA
## Michigan                   NA        NA
## Minnesota                  NA        NA
## Mississippi            700.00       NaN
## Missouri             54000.00        NA
## Montana                    NA        NA
## Nebraska                   NA        NA
## Nevada                     NA        NA
## New Hampshire              NA        NA
## New Jersey           18500.00 36000.000
## New Mexico                 NA        NA
## New York              9025.00  3180.000
## North Carolina             NA 14000.000
## Ohio                 19604.00       NaN
## Oklahoma                   NA        NA
## Oregon                     NA        NA
## Pennsylvania         27000.00  6500.000
## Rhode Island               NA        NA
## South Carolina       15000.00        NA
## Tennessee                  NA        NA
## Texas                10000.00  8796.667
## Utah                       NA        NA
## Virginia                   NA 31800.000
## Washington                 NA        NA
## West Virginia              NA        NA
## Wisconsin                  NA        NA
## Wyoming                    NA        NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-74" style="background:;">
  <hgroup>
    <h2>Only Males</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">means[ , ,&quot;Male&quot;]
</code></pre>

<pre><code>##                      American Indian or Alaska Native     Black Chinese
## Alabama                                            NA        NA      NA
## Arizona                                            NA        NA      NA
## Arkansas                                           NA        NA      NA
## California                                         NA 57190.000   20000
## Colorado                                           NA        NA      NA
## Connecticut                                        NA        NA      NA
## Delaware                                           NA        NA      NA
## District of Columbia                               NA        NA      NA
## Florida                                            NA 11066.667      NA
## Georgia                                            NA 25025.000      NA
## Hawaii                                             NA        NA      NA
## Idaho                                              NA        NA      NA
## Illinois                                           NA        NA      NA
## Indiana                                            NA  4000.000      NA
## Iowa                                               NA        NA      NA
## Kansas                                             NA        NA      NA
## Kentucky                                           NA 51900.000      NA
## Louisiana                                          NA  6350.000      NA
## Maine                                              NA        NA      NA
## Maryland                                           NA 10400.000      NA
## Massachusetts                                      NA        NA      NA
## Michigan                                           NA        NA      NA
## Minnesota                                          NA        NA      NA
## Mississippi                                        NA       NaN      NA
## Missouri                                           NA        NA      NA
## Montana                                            NA        NA      NA
## Nebraska                                           NA        NA      NA
## Nevada                                             NA        NA      NA
## New Hampshire                                      NA        NA      NA
## New Jersey                                         NA 36000.000      NA
## New Mexico                                         NA        NA      NA
## New York                                           NA  3180.000      NA
## North Carolina                                     NA 14000.000      NA
## Ohio                                               NA       NaN      NA
## Oklahoma                                           NA        NA      NA
## Oregon                                             NA        NA      NA
## Pennsylvania                                       NA  6500.000      NA
## Rhode Island                                       NA        NA      NA
## South Carolina                                     NA        NA      NA
## Tennessee                                          NA        NA      NA
## Texas                                              NA  8796.667      NA
## Utah                                               NA        NA      NA
## Virginia                                           NA 31800.000      NA
## Washington                                          0        NA      NA
## West Virginia                                      NA        NA      NA
## Wisconsin                                          NA        NA      NA
## Wyoming                                            NA        NA      NA
##                      Japanese Other Other Asian or Pacific Islander
## Alabama                    NA    NA                              NA
## Arizona                 45000    NA                              NA
## Arkansas                   NA    NA                              NA
## California                 NA 10900                           95000
## Colorado                   NA 13000                              NA
## Connecticut                NA    NA                              NA
## Delaware                   NA    NA                              NA
## District of Columbia       NA    NA                              NA
## Florida                    NA 24250                              NA
## Georgia                    NA    NA                              NA
## Hawaii                     NA    NA                              NA
## Idaho                      NA    NA                              NA
## Illinois                   NA 40600                              NA
## Indiana                    NA    NA                           39920
## Iowa                       NA    NA                              NA
## Kansas                     NA    NA                              NA
## Kentucky                   NA    NA                              NA
## Louisiana                  NA    NA                              NA
## Maine                      NA    NA                              NA
## Maryland                   NA    NA                              NA
## Massachusetts              NA    NA                              NA
## Michigan                   NA    NA                              NA
## Minnesota                  NA    NA                              NA
## Mississippi                NA    NA                              NA
## Missouri                   NA    NA                              NA
## Montana                    NA    NA                              NA
## Nebraska                   NA    NA                              NA
## Nevada                     NA    NA                           23000
## New Hampshire              NA    NA                              NA
## New Jersey                 NA    NA                          317000
## New Mexico                 NA 10600                              NA
## New York                   NA    NA                              NA
## North Carolina             NA    NA                              NA
## Ohio                       NA    NA                           12000
## Oklahoma                   NA   NaN                              NA
## Oregon                     NA    NA                              NA
## Pennsylvania               NA     0                              NA
## Rhode Island               NA    NA                              NA
## South Carolina             NA    NA                              NA
## Tennessee                  NA    NA                              NA
## Texas                      NA    NA                              NA
## Utah                       NA    NA                              NA
## Virginia                   NA    NA                              NA
## Washington                 NA 16000                           15000
## West Virginia              NA    NA                              NA
## Wisconsin                  NA    NA                              NA
## Wyoming                    NA    NA                              NA
##                      Two major races     White
## Alabama                           NA  47950.00
## Arizona                           NA  14000.00
## Arkansas                          NA        NA
## California                       NaN  77400.00
## Colorado                          NA 223050.00
## Connecticut                       NA  25500.00
## Delaware                          NA        NA
## District of Columbia              NA  17190.00
## Florida                            0  29291.11
## Georgia                        19700  60212.00
## Hawaii                            NA        NA
## Idaho                             NA  23000.00
## Illinois                          NA  32940.00
## Indiana                           NA  21250.00
## Iowa                              NA  28500.00
## Kansas                            NA  41000.00
## Kentucky                          NA 240000.00
## Louisiana                         NA  40575.00
## Maine                             NA  10700.00
## Maryland                       22460  46850.00
## Massachusetts                     NA  24166.67
## Michigan                       69000  49966.67
## Minnesota                         NA  14333.33
## Mississippi                       NA  25000.00
## Missouri                          NA  14600.00
## Montana                           NA  36000.00
## Nebraska                       40000        NA
## Nevada                            NA       NaN
## New Hampshire                     NA  14700.00
## New Jersey                     24500  11420.00
## New Mexico                        NA  44000.00
## New York                         NaN  46487.00
## North Carolina                    NA  21526.67
## Ohio                              NA  33161.43
## Oklahoma                          NA  43866.67
## Oregon                            NA  12000.00
## Pennsylvania                      NA  36202.22
## Rhode Island                      NA  43000.00
## South Carolina                   NaN  26960.00
## Tennessee                         NA  61675.00
## Texas                             NA  57515.00
## Utah                              NA  72600.00
## Virginia                          NA  18900.00
## Washington                        NA  26525.00
## West Virginia                     NA      0.00
## Wisconsin                         NA  36672.86
## Wyoming                           NA        NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-75" style="background:;">
  <hgroup>
    <h2>The <code>aggregate()</code> Function</h2>
  </hgroup>
  <article data-timings="">
    <p>Aggregate is another way of summarizing data, but the output returned is different.</p>

<p>Note that a formula can be used.</p>

<pre><code class="r">ag &lt;- aggregate(totalPersonalIncome ~ stateFIPScode + raceGeneral + sex, 
        data = census, mean, na.rm = TRUE)
str(ag)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    139 obs. of  4 variables:
##  $ stateFIPScode      : Factor w/ 47 levels &quot;Alabama&quot;,&quot;Arizona&quot;,..: 5 22 1 4 6 9 10 13 20 24 ...
##  $ raceGeneral        : Factor w/ 8 levels &quot;American Indian or Alaska Native&quot;,..: 1 1 2 2 2 2 2 2 2 2 ...
##  $ sex                : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ totalPersonalIncome: num  26700 20000 7100 40000 3600 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-76" style="background:;">
  <hgroup>
    <h2>View output</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ag[3:15, ]
</code></pre>

<pre><code>##    stateFIPScode raceGeneral    sex totalPersonalIncome
## 3        Alabama       Black Female             7100.00
## 4     California       Black Female            40000.00
## 5    Connecticut       Black Female             3600.00
## 6        Florida       Black Female            40000.00
## 7        Georgia       Black Female            19066.67
## 8       Illinois       Black Female            30000.00
## 9       Maryland       Black Female             9500.00
## 10   Mississippi       Black Female              700.00
## 11      Missouri       Black Female            54000.00
## 12    New Jersey       Black Female            18500.00
## 13      New York       Black Female             9025.00
## 14          Ohio       Black Female            19604.00
## 15  Pennsylvania       Black Female            27000.00
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-77" style="background:;">
  <hgroup>
    <h2>Compare to <code>tapply()</code></h2>
  </hgroup>
  <article data-timings="">
    <p>The below output (and syntax, essentially) will produce exactly the same array
  produced earlier with <code>by()</code>, but that of course is different than <code>aggregate()</code>.</p>

<pre><code class="r">means2 &lt;- with(census, tapply(totalPersonalIncome, 
                            list(stateFIPScode, raceGeneral, sex),
                          mean, na.rm = TRUE))
str(means2)
</code></pre>

<pre><code>##  num [1:47, 1:8, 1:2] NA NA NA NA 26700 NA NA NA NA NA ...
##  - attr(*, &quot;dimnames&quot;)=List of 3
##   ..$ : chr [1:47] &quot;Alabama&quot; &quot;Arizona&quot; &quot;Arkansas&quot; &quot;California&quot; ...
##   ..$ : chr [1:8] &quot;American Indian or Alaska Native&quot; &quot;Black&quot; &quot;Chinese&quot; &quot;Japanese&quot; ...
##   ..$ : chr [1:2] &quot;Female&quot; &quot;Male&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-78" style="background:;">
  <hgroup>
    <h2>Contrasting functions</h2>
  </hgroup>
  <article data-timings="">
    <p>Why <code>tapply()</code> or <code>by()</code> or <code>aggregate()</code>?</p>

<ul>
<li>The <code>aggregate()</code> function provides different output from the other two, 
which may be preferable at times.</li>
<li><code>tapply()</code> and <code>by()</code> are essentially the same, but <code>by()</code> can occasionally
produce summaries when <code>tapply()</code> fails</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-79" style="background:;">
  <hgroup>
    <h2>Contrasting functions example</h2>
  </hgroup>
  <article data-timings="">
    <p>(Note. The example shown is from SabDeM on <a href="http://stackoverflow.com/questions/3505701/r-grouping-functions-sapply-vs-lapply-vs-apply-vs-tapply-vs-by-vs-aggrega">SO</a> (the response from joran there is also worth reading))</p>

<pre><code class="r">data(iris)
head(iris)
</code></pre>

<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-80" style="background:;">
  <article data-timings="">
    <p>Note that <code>tapply()</code> fails in this context</p>

<pre><code class="r">tapply(iris, iris$Species, summary)
</code></pre>

<pre><code>## Error in tapply(iris, iris$Species, summary): arguments must have same length
</code></pre>

<p><br></p>

<p>But <code>by()</code> can handle this situation</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-81" style="background:;">
  <article data-timings="">
    <pre><code class="r">by(iris, iris$Species, summary)
</code></pre>

<pre><code>## iris$Species: setosa
##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.300   Min.   :1.000   Min.   :0.100  
##  1st Qu.:4.800   1st Qu.:3.200   1st Qu.:1.400   1st Qu.:0.200  
##  Median :5.000   Median :3.400   Median :1.500   Median :0.200  
##  Mean   :5.006   Mean   :3.428   Mean   :1.462   Mean   :0.246  
##  3rd Qu.:5.200   3rd Qu.:3.675   3rd Qu.:1.575   3rd Qu.:0.300  
##  Max.   :5.800   Max.   :4.400   Max.   :1.900   Max.   :0.600  
##        Species  
##  setosa    :50  
##  versicolor: 0  
##  virginica : 0  
##                 
##                 
##                 
## -------------------------------------------------------- 
## iris$Species: versicolor
##   Sepal.Length    Sepal.Width     Petal.Length   Petal.Width   
##  Min.   :4.900   Min.   :2.000   Min.   :3.00   Min.   :1.000  
##  1st Qu.:5.600   1st Qu.:2.525   1st Qu.:4.00   1st Qu.:1.200  
##  Median :5.900   Median :2.800   Median :4.35   Median :1.300  
##  Mean   :5.936   Mean   :2.770   Mean   :4.26   Mean   :1.326  
##  3rd Qu.:6.300   3rd Qu.:3.000   3rd Qu.:4.60   3rd Qu.:1.500  
##  Max.   :7.000   Max.   :3.400   Max.   :5.10   Max.   :1.800  
##        Species  
##  setosa    : 0  
##  versicolor:50  
##  virginica : 0  
##                 
##                 
##                 
## -------------------------------------------------------- 
## iris$Species: virginica
##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.900   Min.   :2.200   Min.   :4.500   Min.   :1.400  
##  1st Qu.:6.225   1st Qu.:2.800   1st Qu.:5.100   1st Qu.:1.800  
##  Median :6.500   Median :3.000   Median :5.550   Median :2.000  
##  Mean   :6.588   Mean   :2.974   Mean   :5.552   Mean   :2.026  
##  3rd Qu.:6.900   3rd Qu.:3.175   3rd Qu.:5.875   3rd Qu.:2.300  
##  Max.   :7.900   Max.   :3.800   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    : 0  
##  versicolor: 0  
##  virginica :50  
##                 
##                 
## 
</code></pre>

<p>(It works, but <em>slidify</em> doesn&#39;t like it for some reason!)
<img src="../assets/img/byWins.png" alt="byWins"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-82" style="background:;">
  <hgroup>
    <h2>Finally: <code>sweep()</code></h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Used when you want to <em>sweep</em> a function across an array.</li>
<li>Generally used when you want to apply an operation to an array, but the
values differ for each column.</li>
</ul>

<p><img src="../assets/img/sweep.png" alt="sweep"></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-83" style="background:;">
  <hgroup>
    <h2>Example</h2>
  </hgroup>
  <article data-timings="">
    <p><code>sweep()</code> can be an efficient way to <strong>center</strong> variables, because you need to
   subtract each value within a column by the mean of that column (rather than subtracting a specific value from each column, in which case we&#39;d just us <code>apply()</code>)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-84" style="background:;">
  <hgroup>
    <h2>Centering columns 4-7 in beer data</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">head(beer)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 2                  Abbey Monks Tripel Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 2            Abbey Tripel 8.0       3            NA             NA
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-85" style="background:;">
  <article data-timings="">
    <pre><code class="r">col_M &lt;- colMeans(beer[ ,4:ncol(beer)], na.rm = TRUE)
col_M
</code></pre>

<pre><code>##            abv        ratings  score.overall score.by.style 
##        5.90015      113.60500       65.85014       60.87193
</code></pre>

<pre><code class="r">centered &lt;- sweep(beer[ ,4:ncol(beer)], 2, col_M, &quot;-&quot;)
head(centered)
</code></pre>

<pre><code>##        abv  ratings score.overall score.by.style
## 1 -0.70015  -17.605    -15.850136      -11.87193
## 2  2.09985 -110.605            NA             NA
## 3 -0.80015  -67.605    -42.850136      -41.87193
## 4  1.99985 -100.605      8.149864       20.12807
## 5  0.89985   58.395     28.149864       15.12807
## 6  1.29985  -57.605      8.149864      -17.87193
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-86" style="background:;">
  <article data-timings="">
    <pre><code class="r">names(centered) &lt;- paste0(names(centered), &quot;_c&quot;)
names(centered)
</code></pre>

<pre><code>## [1] &quot;abv_c&quot;            &quot;ratings_c&quot;        &quot;score.overall_c&quot; 
## [4] &quot;score.by.style_c&quot;
</code></pre>

<pre><code class="r"># Check that centering worked properly
round(colMeans(centered, na.rm = TRUE), digits = 2)
</code></pre>

<pre><code>##            abv_c        ratings_c  score.overall_c score.by.style_c 
##                0                0                0                0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-87" style="background:;">
  <hgroup>
    <h2>Put it all back together</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">beer &lt;- cbind(beer, centered)
head(beer)
</code></pre>

<pre><code>##                                  name                 brewer
## 1                     Abbey Monks Ale Abbey Beverage Company
## 2                  Abbey Monks Tripel Abbey Beverage Company
## 3                     Abbey Monks Wit Abbey Beverage Company
## 4 Alameda Barn Owl Imperial Brown Ale    Alameda Brewing Co.
## 5         Alameda Black Bear XX Stout    Alameda Brewing Co.
## 6       Alameda El Torero Organic IPA    Alameda Brewing Co.
##                     style abv ratings score.overall score.by.style
## 1             Belgian Ale 5.2      96            50             49
## 2            Abbey Tripel 8.0       3            NA             NA
## 3 Belgian White (Witbier) 5.1      46            23             19
## 4               Brown Ale 7.9      13            74             81
## 5           Foreign Stout 6.8     172            94             76
## 6    India Pale Ale (IPA) 7.2      56            74             43
##      abv_c ratings_c score.overall_c score.by.style_c
## 1 -0.70015   -17.605      -15.850136        -11.87193
## 2  2.09985  -110.605              NA               NA
## 3 -0.80015   -67.605      -42.850136        -41.87193
## 4  1.99985  -100.605        8.149864         20.12807
## 5  0.89985    58.395       28.149864         15.12807
## 6  1.29985   -57.605        8.149864        -17.87193
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-88" style="background:;">
  <hgroup>
    <h2>Any time left?</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Load the LSAT_theta data</li>
<li>Use a for loop to calculate <em>p</em> values: The proportion of students correctly
responding to each of items 1 through 5. </li>
<li>Use <code>apply</code> to create a new <em>raw score</em> variable. Split the data frame by
raw score.</li>
<li>Use a for loop or <code>apply</code> to create a new standardized version of <em>z1</em> within
each raw score. Why does it fail for raw scores of 0 and 5?</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-89" style="background:;">
  <hgroup>
    <h1>Load the LSAT_theta data</h1>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">lsat &lt;- read.csv(&quot;./data/LSAT_theta.csv&quot;)
head(lsat)
</code></pre>

<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5 Obs      Exp        z1     se.z1
## 1      0      0      0      0      0   3 2.277412 -1.895344 0.7954828
## 2      0      0      0      0      0   3 2.277412 -1.895344 0.7954828
## 3      0      0      0      0      0   3 2.277412 -1.895344 0.7954828
## 4      0      0      0      0      1   6 5.860769 -1.479314 0.7960948
## 5      0      0      0      0      1   6 5.860769 -1.479314 0.7960948
## 6      0      0      0      0      1   6 5.860769 -1.479314 0.7960948
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-90" style="background:;">
  <hgroup>
    <h1>Calculate p values with a for loop</h1>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">pvals &lt;- rep(NA, 5)
for(i in 1:5) {
    pvals[i] &lt;- mean(lsat[ ,i], na.rm = TRUE)
}
pvals
</code></pre>

<pre><code>## [1] 0.924 0.709 0.553 0.763 0.870
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-91" style="background:;">
  <hgroup>
    <h1>Calculate raw scores</h1>
  </hgroup>
  <article data-timings="">
    <p>(Again, there are better ways to do this. We&#39;re just practicing.)</p>

<pre><code class="r">for(i in 1:nrow(lsat)) {
    lsat$raw[i] &lt;- sum(lsat[i, 1:5])    
}
head(lsat)
</code></pre>

<pre><code>##   Item.1 Item.2 Item.3 Item.4 Item.5 Obs      Exp        z1     se.z1 raw
## 1      0      0      0      0      0   3 2.277412 -1.895344 0.7954828   0
## 2      0      0      0      0      0   3 2.277412 -1.895344 0.7954828   0
## 3      0      0      0      0      0   3 2.277412 -1.895344 0.7954828   0
## 4      0      0      0      0      1   6 5.860769 -1.479314 0.7960948   1
## 5      0      0      0      0      1   6 5.860769 -1.479314 0.7960948   1
## 6      0      0      0      0      1   6 5.860769 -1.479314 0.7960948   1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-92" style="background:;">
  <hgroup>
    <h1>Split the data fram by raw score</h1>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">l &lt;- split(lsat, lsat$raw)
str(l)
</code></pre>

<pre><code>## List of 6
##  $ 0:&#39;data.frame&#39;:   3 obs. of  10 variables:
##   ..$ Item.1: int [1:3] 0 0 0
##   ..$ Item.2: int [1:3] 0 0 0
##   ..$ Item.3: int [1:3] 0 0 0
##   ..$ Item.4: int [1:3] 0 0 0
##   ..$ Item.5: int [1:3] 0 0 0
##   ..$ Obs   : int [1:3] 3 3 3
##   ..$ Exp   : num [1:3] 2.28 2.28 2.28
##   ..$ z1    : num [1:3] -1.9 -1.9 -1.9
##   ..$ se.z1 : num [1:3] 0.795 0.795 0.795
##   ..$ raw   : int [1:3] 0 0 0
##  $ 1:&#39;data.frame&#39;:   20 obs. of  10 variables:
##   ..$ Item.1: int [1:20] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:20] 0 0 0 0 0 0 0 0 0 1 ...
##   ..$ Item.3: int [1:20] 0 0 0 0 0 0 0 0 1 0 ...
##   ..$ Item.4: int [1:20] 0 0 0 0 0 0 1 1 0 0 ...
##   ..$ Item.5: int [1:20] 1 1 1 1 1 1 0 0 0 0 ...
##   ..$ Obs   : int [1:20] 6 6 6 6 6 6 2 2 1 1 ...
##   ..$ Exp   : num [1:20] 5.86 5.86 5.86 5.86 5.86 ...
##   ..$ z1    : num [1:20] -1.48 -1.48 -1.48 -1.48 -1.48 ...
##   ..$ se.z1 : num [1:20] 0.796 0.796 0.796 0.796 0.796 ...
##   ..$ raw   : int [1:20] 1 1 1 1 1 1 1 1 1 1 ...
##  $ 2:&#39;data.frame&#39;:   85 obs. of  10 variables:
##   ..$ Item.1: int [1:85] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:85] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.3: int [1:85] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.4: int [1:85] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:85] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:85] 11 11 11 11 11 11 11 11 11 11 ...
##   ..$ Exp   : num [1:85] 8.94 8.94 8.94 8.94 8.94 ...
##   ..$ z1    : num [1:85] -1.04 -1.04 -1.04 -1.04 -1.04 ...
##   ..$ se.z1 : num [1:85] 0.8 0.8 0.8 0.8 0.8 ...
##   ..$ raw   : int [1:85] 2 2 2 2 2 2 2 2 2 2 ...
##  $ 3:&#39;data.frame&#39;:   237 obs. of  10 variables:
##   ..$ Item.1: int [1:237] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:237] 0 0 0 0 1 1 1 1 1 1 ...
##   ..$ Item.3: int [1:237] 1 1 1 1 0 0 0 0 0 0 ...
##   ..$ Item.4: int [1:237] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:237] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:237] 4 4 4 4 16 16 16 16 16 16 ...
##   ..$ Exp   : num [1:237] 5.95 5.95 5.95 5.95 13.58 ...
##   ..$ z1    : num [1:237] -0.463 -0.463 -0.463 -0.463 -0.573 ...
##   ..$ se.z1 : num [1:237] 0.812 0.812 0.812 0.812 0.809 ...
##   ..$ raw   : int [1:237] 3 3 3 3 3 3 3 3 3 3 ...
##  $ 4:&#39;data.frame&#39;:   357 obs. of  10 variables:
##   ..$ Item.1: int [1:357] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.3: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.4: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:357] 15 15 15 15 15 15 15 15 15 15 ...
##   ..$ Exp   : num [1:357] 13.9 13.9 13.9 13.9 13.9 ...
##   ..$ z1    : num [1:357] 0.0226 0.0226 0.0226 0.0226 0.0226 ...
##   ..$ se.z1 : num [1:357] 0.828 0.828 0.828 0.828 0.828 ...
##   ..$ raw   : int [1:357] 4 4 4 4 4 4 4 4 4 4 ...
##  $ 5:&#39;data.frame&#39;:   298 obs. of  10 variables:
##   ..$ Item.1: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.2: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.3: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.4: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:298] 298 298 298 298 298 298 298 298 298 298 ...
##   ..$ Exp   : num [1:298] 297 297 297 297 297 ...
##   ..$ z1    : num [1:298] 0.606 0.606 0.606 0.606 0.606 ...
##   ..$ se.z1 : num [1:298] 0.855 0.855 0.855 0.855 0.855 ...
##   ..$ raw   : int [1:298] 5 5 5 5 5 5 5 5 5 5 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-93" style="background:;">
  <hgroup>
    <h1>Create within-group standardized <em>z1</em> variable</h1>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">standardize &lt;- function(x) (x - mean(x, na.rm = TRUE)) / (sd(x, na.rm = TRUE))
for(i in seq_along(l)) {
    l[[i]]$z1_z &lt;- standardize(l[[i]]$z1)
}
str(l)
</code></pre>

<pre><code>## List of 6
##  $ 0:&#39;data.frame&#39;:   3 obs. of  11 variables:
##   ..$ Item.1: int [1:3] 0 0 0
##   ..$ Item.2: int [1:3] 0 0 0
##   ..$ Item.3: int [1:3] 0 0 0
##   ..$ Item.4: int [1:3] 0 0 0
##   ..$ Item.5: int [1:3] 0 0 0
##   ..$ Obs   : int [1:3] 3 3 3
##   ..$ Exp   : num [1:3] 2.28 2.28 2.28
##   ..$ z1    : num [1:3] -1.9 -1.9 -1.9
##   ..$ se.z1 : num [1:3] 0.795 0.795 0.795
##   ..$ raw   : int [1:3] 0 0 0
##   ..$ z1_z  : num [1:3] NaN NaN NaN
##  $ 1:&#39;data.frame&#39;:   20 obs. of  11 variables:
##   ..$ Item.1: int [1:20] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:20] 0 0 0 0 0 0 0 0 0 1 ...
##   ..$ Item.3: int [1:20] 0 0 0 0 0 0 0 0 1 0 ...
##   ..$ Item.4: int [1:20] 0 0 0 0 0 0 1 1 0 0 ...
##   ..$ Item.5: int [1:20] 1 1 1 1 1 1 0 0 0 0 ...
##   ..$ Obs   : int [1:20] 6 6 6 6 6 6 2 2 1 1 ...
##   ..$ Exp   : num [1:20] 5.86 5.86 5.86 5.86 5.86 ...
##   ..$ z1    : num [1:20] -1.48 -1.48 -1.48 -1.48 -1.48 ...
##   ..$ se.z1 : num [1:20] 0.796 0.796 0.796 0.796 0.796 ...
##   ..$ raw   : int [1:20] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ z1_z  : num [1:20] -1.21 -1.21 -1.21 -1.21 -1.21 ...
##  $ 2:&#39;data.frame&#39;:   85 obs. of  11 variables:
##   ..$ Item.1: int [1:85] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:85] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.3: int [1:85] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.4: int [1:85] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:85] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:85] 11 11 11 11 11 11 11 11 11 11 ...
##   ..$ Exp   : num [1:85] 8.94 8.94 8.94 8.94 8.94 ...
##   ..$ z1    : num [1:85] -1.04 -1.04 -1.04 -1.04 -1.04 ...
##   ..$ se.z1 : num [1:85] 0.8 0.8 0.8 0.8 0.8 ...
##   ..$ raw   : int [1:85] 2 2 2 2 2 2 2 2 2 2 ...
##   ..$ z1_z  : num [1:85] -1.69 -1.69 -1.69 -1.69 -1.69 ...
##  $ 3:&#39;data.frame&#39;:   237 obs. of  11 variables:
##   ..$ Item.1: int [1:237] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:237] 0 0 0 0 1 1 1 1 1 1 ...
##   ..$ Item.3: int [1:237] 1 1 1 1 0 0 0 0 0 0 ...
##   ..$ Item.4: int [1:237] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:237] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:237] 4 4 4 4 16 16 16 16 16 16 ...
##   ..$ Exp   : num [1:237] 5.95 5.95 5.95 5.95 13.58 ...
##   ..$ z1    : num [1:237] -0.463 -0.463 -0.463 -0.463 -0.573 ...
##   ..$ se.z1 : num [1:237] 0.812 0.812 0.812 0.812 0.809 ...
##   ..$ raw   : int [1:237] 3 3 3 3 3 3 3 3 3 3 ...
##   ..$ z1_z  : num [1:237] 0.0347 0.0347 0.0347 0.0347 -1.6716 ...
##  $ 4:&#39;data.frame&#39;:   357 obs. of  11 variables:
##   ..$ Item.1: int [1:357] 0 0 0 0 0 0 0 0 0 0 ...
##   ..$ Item.2: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.3: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.4: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:357] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:357] 15 15 15 15 15 15 15 15 15 15 ...
##   ..$ Exp   : num [1:357] 13.9 13.9 13.9 13.9 13.9 ...
##   ..$ z1    : num [1:357] 0.0226 0.0226 0.0226 0.0226 0.0226 ...
##   ..$ se.z1 : num [1:357] 0.828 0.828 0.828 0.828 0.828 ...
##   ..$ raw   : int [1:357] 4 4 4 4 4 4 4 4 4 4 ...
##   ..$ z1_z  : num [1:357] -0.296 -0.296 -0.296 -0.296 -0.296 ...
##  $ 5:&#39;data.frame&#39;:   298 obs. of  11 variables:
##   ..$ Item.1: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.2: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.3: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.4: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Item.5: int [1:298] 1 1 1 1 1 1 1 1 1 1 ...
##   ..$ Obs   : int [1:298] 298 298 298 298 298 298 298 298 298 298 ...
##   ..$ Exp   : num [1:298] 297 297 297 297 297 ...
##   ..$ z1    : num [1:298] 0.606 0.606 0.606 0.606 0.606 ...
##   ..$ se.z1 : num [1:298] 0.855 0.855 0.855 0.855 0.855 ...
##   ..$ raw   : int [1:298] 5 5 5 5 5 5 5 5 5 5 ...
##   ..$ z1_z  : num [1:298] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='NA'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Basic overview: for loops'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Another basic example'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='Basic example of nested for loops'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Batch processing with for loops'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Load all files'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='For loop to batch read files'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Inspect the structure of the list'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Create a new variable'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='NA'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Matrix creation'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='For loops to calculate column means'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Store rows in list'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='A few things to note'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='No printing by default'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Storing random variables'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Use the results for plotting'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='A few more plotting examples'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Student&#39;s \(t\)'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='One last for loop example'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Fitting a regression model within each brewery'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='NA'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Finally, subset the data and fit each regression model'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Now plot all the regression lines'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='NA'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Summary on for loops'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='apply family of loops'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='Some basic background'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='apply'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Examples of <code>apply()</code>'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='A few more examples: LSAT data'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='Calculate raw scores'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Calculate p values'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='One more example'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='Center all but <em>learning</em> (which we&#39;ll say is our outcome)'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='Check that centering worked'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='Summing rows'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Summing columns'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='Column and row means'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title='lapply and sapply'>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='Basic structure of an lapply loop'>
         41
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=42 title='Batch loading'>
         42
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=43 title='Create group-standardized mathach variable'>
         43
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=44 title='Example without return'>
         44
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=45 title='Revisiting the convoluted random matrix from earlier'>
         45
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=46 title='Creating the same matrix with lapply'>
         46
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=47 title='NA'>
         47
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=48 title='Even better, use sapply'>
         48
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=49 title='NA'>
         49
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=50 title='Contrasting lapply and sapply'>
         50
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=51 title='Summary on lapply/sapply'>
         51
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=52 title='Multivariate apply'>
         52
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=53 title='An example from my <em>r2Winsteps</em> package'>
         53
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=54 title='What&#39;s this used for?'>
         54
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=55 title='ICCs'>
         55
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=56 title='Summaries by grouping variables'>
         56
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=57 title='Applying function by group'>
         57
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=58 title='Load the beer data'>
         58
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=59 title='Mean overall score by brewer'>
         59
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=60 title='Number of beers rated by brewer'>
         60
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=61 title='Average overall score by abv'>
         61
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=62 title='Make a summary by abv'>
         62
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=63 title='NA'>
         63
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=64 title='An alternative to tapply for summation'>
         64
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=65 title='Calculate average overall score for each brewer'>
         65
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=66 title='The <code>by()</code> function'>
         66
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=67 title='Calculate means by state, race, and sex'>
         67
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=68 title='Structure of means'>
         68
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=69 title='Compute marginal means by state'>
         69
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=70 title='Compute marginal means by race/ethnicity'>
         70
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=71 title='Compute marginal means by sex'>
         71
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=72 title='Look within a particular state'>
         72
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=73 title='Only individuals identifying as Black'>
         73
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=74 title='Only Males'>
         74
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=75 title='The <code>aggregate()</code> Function'>
         75
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=76 title='View output'>
         76
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=77 title='Compare to <code>tapply()</code>'>
         77
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=78 title='Contrasting functions'>
         78
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=79 title='Contrasting functions example'>
         79
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=80 title='NA'>
         80
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=81 title='NA'>
         81
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=82 title='Finally: <code>sweep()</code>'>
         82
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=83 title='Example'>
         83
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=84 title='Centering columns 4-7 in beer data'>
         84
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=85 title='NA'>
         85
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=86 title='NA'>
         86
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=87 title='Put it all back together'>
         87
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=88 title='Any time left?'>
         88
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=89 title='Load the LSAT_theta data'>
         89
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=90 title='Calculate p values with a for loop'>
         90
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=91 title='Calculate raw scores'>
         91
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=92 title='Split the data fram by raw score'>
         92
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=93 title='Create within-group standardized <em>z1</em> variable'>
         93
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>